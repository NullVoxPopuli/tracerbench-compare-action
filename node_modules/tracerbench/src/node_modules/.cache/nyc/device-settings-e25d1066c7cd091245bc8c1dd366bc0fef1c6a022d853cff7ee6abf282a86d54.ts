"use strict";function cov_2kfdky94pf(){var path="/Users/malynch/D/tracerbench/packages/cli/src/helpers/device-settings.ts";var hash="34ba3013babf63de5ce09864206120e0fda61757";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/malynch/D/tracerbench/packages/cli/src/helpers/device-settings.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:17},end:{line:3,column:41}},"2":{start:{line:4,column:24},end:{line:4,column:50}},"3":{start:{line:5,column:16},end:{line:5,column:34}},"4":{start:{line:6,column:23},end:{line:15,column:2}},"5":{start:{line:7,column:4},end:{line:14,column:6}},"6":{start:{line:25,column:4},end:{line:39,column:5}},"7":{start:{line:26,column:8},end:{line:38,column:9}},"8":{start:{line:27,column:12},end:{line:29,column:13}},"9":{start:{line:28,column:16},end:{line:28,column:100}},"10":{start:{line:30,column:12},end:{line:37,column:14}},"11":{start:{line:40,column:4},end:{line:40,column:89}},"12":{start:{line:42,column:0},end:{line:42,column:98}},"13":{start:{line:43,column:0},end:{line:43,column:33}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:56},end:{line:6,column:57}},loc:{start:{line:6,column:66},end:{line:15,column:1}},line:6},"1":{name:"getEmulateDeviceSettingForKeyAndOrientation",decl:{start:{line:23,column:9},end:{line:23,column:52}},loc:{start:{line:23,column:84},end:{line:41,column:1}},line:23}},branchMap:{"0":{loc:{start:{line:9,column:27},end:{line:9,column:72}},type:"binary-expr",locations:[{start:{line:9,column:27},end:{line:9,column:67}},{start:{line:9,column:71},end:{line:9,column:72}}],line:9},"1":{loc:{start:{line:23,column:58},end:{line:23,column:82}},type:"default-arg",locations:[{start:{line:23,column:72},end:{line:23,column:82}}],line:23},"2":{loc:{start:{line:26,column:8},end:{line:38,column:9}},type:"if",locations:[{start:{line:26,column:8},end:{line:38,column:9}},{start:{line:26,column:8},end:{line:38,column:9}}],line:26},"3":{loc:{start:{line:27,column:12},end:{line:29,column:13}},type:"if",locations:[{start:{line:27,column:12},end:{line:29,column:13}},{start:{line:27,column:12},end:{line:29,column:13}}],line:27}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0],"2":[0,0],"3":[0,0]},inputSourceMap:{version:3,file:"/Users/malynch/D/tracerbench/packages/cli/src/helpers/device-settings.ts",sources:["/Users/malynch/D/tracerbench/packages/cli/src/helpers/device-settings.ts"],names:[],mappings:";;AAAA,0CAAyC;AAGzC,mDAA8D;AAC9D,mCAA2C;AAgC3C,MAAM,cAAc,GAAoC,4BAAY,CAAC,GAAG,CACtE,CAAC,IAAmB,EAAE,EAAE;IACtB,OAAO;QACL,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM;QAC3B,iBAAiB,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,oBAAoB,CAAC,IAAI,CAAC;QAChE,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QACvD,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC;QACpC,QAAQ,EAAE,wBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;QAC7C,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK;KACxB,CAAC;AACJ,CAAC,CACF,CAAC;AAEF;;;;;;GAMG;AACH,SAAgB,2CAA2C,CACzD,GAAW,EACX,WAAW,GAAG,UAAU;IAExB,IAAI,aAAa,CAAC;IAElB,KAAK,aAAa,IAAI,cAAc,EAAE;QACpC,IAAI,GAAG,KAAK,aAAa,CAAC,QAAQ,EAAE;YAClC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE;gBACvC,MAAM,IAAI,iBAAQ,CAChB,GAAG,WAAW,oBAAoB,GAAG,iBAAiB,CACvD,CAAC;aACH;YACD,OAAO;gBACL,KAAK,EAAE,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,KAAK;gBAC/C,MAAM,EAAE,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,MAAM;gBACjD,iBAAiB,EAAE,aAAa,CAAC,iBAAiB;gBAClD,MAAM,EAAE,aAAa,CAAC,MAAM;gBAC5B,SAAS,EAAE,aAAa,CAAC,SAAS;gBAClC,QAAQ,EAAE,aAAa,CAAC,QAAQ;aACjC,CAAC;SACH;KACF;IAED,MAAM,IAAI,iBAAQ,CAAC,kDAAkD,GAAG,EAAE,CAAC,CAAC;AAC9E,CAAC;AAzBD,kGAyBC;AAED,kBAAe,cAAc,CAAC",sourcesContent:["import { CLIError } from \"@oclif/errors\";\nimport Protocol from \"devtools-protocol\";\n\nimport { deviceLookup, IDeviceLookup } from \"./device-lookup\";\nimport { convertToTypable } from \"./utils\";\n\ninterface ScreenDimensions {\n  width: number;\n  height: number;\n}\n\nexport interface Screens {\n  horizontal: ScreenDimensions;\n  vertical?: ScreenDimensions;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  [key: string]: any;\n}\n\nexport interface EmulateDeviceSettingBase {\n  userAgent: string;\n  deviceScaleFactor: number;\n  mobile: boolean;\n  typeable: string;\n}\n\nexport interface EmulateDeviceSetting\n  extends Protocol.Emulation.SetDeviceMetricsOverrideRequest,\n    Protocol.Emulation.SetUserAgentOverrideRequest {\n  typeable: string;\n}\n\nexport interface EmulateDeviceSettingCliOption\n  extends EmulateDeviceSettingBase {\n  screens: Screens;\n}\n\nconst deviceSettings: EmulateDeviceSettingCliOption[] = deviceLookup.map(\n  (item: IDeviceLookup) => {\n    return {\n      screens: item.device.screen,\n      deviceScaleFactor: item.device.screen[\"device-pixel-ratio\"] || 0,\n      mobile: item.device.capabilities.indexOf(\"mobile\") > -1,\n      userAgent: item.device[\"user-agent\"],\n      typeable: convertToTypable(item.device.title),\n      name: item.device.title,\n    };\n  }\n);\n\n/**\n * Iterate over deviceSettings until a match is found in the option's typable field. Extract the contents into EmulateDeviceSetting\n * formatted object\n *\n * @param key - One of typeable strings such as iphone-x\n * @param orientation - Either \"vertical\" or \"horizontal\"\n */\nexport function getEmulateDeviceSettingForKeyAndOrientation(\n  key: string,\n  orientation = \"vertical\"\n): EmulateDeviceSetting {\n  let deviceSetting;\n\n  for (deviceSetting of deviceSettings) {\n    if (key === deviceSetting.typeable) {\n      if (!deviceSetting.screens[orientation]) {\n        throw new CLIError(\n          `${orientation} orientation for ${key} does not exist`\n        );\n      }\n      return {\n        width: deviceSetting.screens[orientation].width,\n        height: deviceSetting.screens[orientation].height,\n        deviceScaleFactor: deviceSetting.deviceScaleFactor,\n        mobile: deviceSetting.mobile,\n        userAgent: deviceSetting.userAgent,\n        typeable: deviceSetting.typeable,\n      };\n    }\n  }\n\n  throw new CLIError(`Device emulation settings not found for device ${key}`);\n}\n\nexport default deviceSettings;\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"34ba3013babf63de5ce09864206120e0fda61757"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_2kfdky94pf=function(){return actualCoverage;};return actualCoverage;}cov_2kfdky94pf().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});const errors_1=(cov_2kfdky94pf().s[1]++,require("@oclif/errors"));const device_lookup_1=(cov_2kfdky94pf().s[2]++,require("./device-lookup"));const utils_1=(cov_2kfdky94pf().s[3]++,require("./utils"));const deviceSettings=(cov_2kfdky94pf().s[4]++,device_lookup_1.deviceLookup.map(item=>{cov_2kfdky94pf().f[0]++;cov_2kfdky94pf().s[5]++;return{screens:item.device.screen,deviceScaleFactor:(cov_2kfdky94pf().b[0][0]++,item.device.screen["device-pixel-ratio"])||(cov_2kfdky94pf().b[0][1]++,0),mobile:item.device.capabilities.indexOf("mobile")>-1,userAgent:item.device["user-agent"],typeable:utils_1.convertToTypable(item.device.title),name:item.device.title};}));/**
 * Iterate over deviceSettings until a match is found in the option's typable field. Extract the contents into EmulateDeviceSetting
 * formatted object
 *
 * @param key - One of typeable strings such as iphone-x
 * @param orientation - Either "vertical" or "horizontal"
 */function getEmulateDeviceSettingForKeyAndOrientation(key,orientation=(cov_2kfdky94pf().b[1][0]++,"vertical")){cov_2kfdky94pf().f[1]++;let deviceSetting;cov_2kfdky94pf().s[6]++;for(deviceSetting of deviceSettings){cov_2kfdky94pf().s[7]++;if(key===deviceSetting.typeable){cov_2kfdky94pf().b[2][0]++;cov_2kfdky94pf().s[8]++;if(!deviceSetting.screens[orientation]){cov_2kfdky94pf().b[3][0]++;cov_2kfdky94pf().s[9]++;throw new errors_1.CLIError(`${orientation} orientation for ${key} does not exist`);}else{cov_2kfdky94pf().b[3][1]++;}cov_2kfdky94pf().s[10]++;return{width:deviceSetting.screens[orientation].width,height:deviceSetting.screens[orientation].height,deviceScaleFactor:deviceSetting.deviceScaleFactor,mobile:deviceSetting.mobile,userAgent:deviceSetting.userAgent,typeable:deviceSetting.typeable};}else{cov_2kfdky94pf().b[2][1]++;}}cov_2kfdky94pf().s[11]++;throw new errors_1.CLIError(`Device emulation settings not found for device ${key}`);}cov_2kfdky94pf().s[12]++;exports.getEmulateDeviceSettingForKeyAndOrientation=getEmulateDeviceSettingForKeyAndOrientation;cov_2kfdky94pf().s[13]++;exports.default=deviceSettings;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL21hbHluY2gvRC90cmFjZXJiZW5jaC9wYWNrYWdlcy9jbGkvc3JjL2hlbHBlcnMvZGV2aWNlLXNldHRpbmdzLnRzIiwic291cmNlcyI6WyIvVXNlcnMvbWFseW5jaC9EL3RyYWNlcmJlbmNoL3BhY2thZ2VzL2NsaS9zcmMvaGVscGVycy9kZXZpY2Utc2V0dGluZ3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwwQ0FBeUM7QUFHekMsbURBQThEO0FBQzlELG1DQUEyQztBQWdDM0MsTUFBTSxjQUFjLEdBQW9DLDRCQUFZLENBQUMsR0FBRyxDQUN0RSxDQUFDLElBQW1CLEVBQUUsRUFBRTtJQUN0QixPQUFPO1FBQ0wsT0FBTyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTTtRQUMzQixpQkFBaUIsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUM7UUFDaEUsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdkQsU0FBUyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDO1FBQ3BDLFFBQVEsRUFBRSx3QkFBZ0IsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUM3QyxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLO0tBQ3hCLENBQUM7QUFDSixDQUFDLENBQ0YsQ0FBQztBQUVGOzs7Ozs7R0FNRztBQUNILFNBQWdCLDJDQUEyQyxDQUN6RCxHQUFXLEVBQ1gsV0FBVyxHQUFHLFVBQVU7SUFFeEIsSUFBSSxhQUFhLENBQUM7SUFFbEIsS0FBSyxhQUFhLElBQUksY0FBYyxFQUFFO1FBQ3BDLElBQUksR0FBRyxLQUFLLGFBQWEsQ0FBQyxRQUFRLEVBQUU7WUFDbEMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEVBQUU7Z0JBQ3ZDLE1BQU0sSUFBSSxpQkFBUSxDQUNoQixHQUFHLFdBQVcsb0JBQW9CLEdBQUcsaUJBQWlCLENBQ3ZELENBQUM7YUFDSDtZQUNELE9BQU87Z0JBQ0wsS0FBSyxFQUFFLGFBQWEsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSztnQkFDL0MsTUFBTSxFQUFFLGFBQWEsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsTUFBTTtnQkFDakQsaUJBQWlCLEVBQUUsYUFBYSxDQUFDLGlCQUFpQjtnQkFDbEQsTUFBTSxFQUFFLGFBQWEsQ0FBQyxNQUFNO2dCQUM1QixTQUFTLEVBQUUsYUFBYSxDQUFDLFNBQVM7Z0JBQ2xDLFFBQVEsRUFBRSxhQUFhLENBQUMsUUFBUTthQUNqQyxDQUFDO1NBQ0g7S0FDRjtJQUVELE1BQU0sSUFBSSxpQkFBUSxDQUFDLGtEQUFrRCxHQUFHLEVBQUUsQ0FBQyxDQUFDO0FBQzlFLENBQUM7QUF6QkQsa0dBeUJDO0FBRUQsa0JBQWUsY0FBYyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ0xJRXJyb3IgfSBmcm9tIFwiQG9jbGlmL2Vycm9yc1wiO1xuaW1wb3J0IFByb3RvY29sIGZyb20gXCJkZXZ0b29scy1wcm90b2NvbFwiO1xuXG5pbXBvcnQgeyBkZXZpY2VMb29rdXAsIElEZXZpY2VMb29rdXAgfSBmcm9tIFwiLi9kZXZpY2UtbG9va3VwXCI7XG5pbXBvcnQgeyBjb252ZXJ0VG9UeXBhYmxlIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuaW50ZXJmYWNlIFNjcmVlbkRpbWVuc2lvbnMge1xuICB3aWR0aDogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTY3JlZW5zIHtcbiAgaG9yaXpvbnRhbDogU2NyZWVuRGltZW5zaW9ucztcbiAgdmVydGljYWw/OiBTY3JlZW5EaW1lbnNpb25zO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBba2V5OiBzdHJpbmddOiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW11bGF0ZURldmljZVNldHRpbmdCYXNlIHtcbiAgdXNlckFnZW50OiBzdHJpbmc7XG4gIGRldmljZVNjYWxlRmFjdG9yOiBudW1iZXI7XG4gIG1vYmlsZTogYm9vbGVhbjtcbiAgdHlwZWFibGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbXVsYXRlRGV2aWNlU2V0dGluZ1xuICBleHRlbmRzIFByb3RvY29sLkVtdWxhdGlvbi5TZXREZXZpY2VNZXRyaWNzT3ZlcnJpZGVSZXF1ZXN0LFxuICAgIFByb3RvY29sLkVtdWxhdGlvbi5TZXRVc2VyQWdlbnRPdmVycmlkZVJlcXVlc3Qge1xuICB0eXBlYWJsZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVtdWxhdGVEZXZpY2VTZXR0aW5nQ2xpT3B0aW9uXG4gIGV4dGVuZHMgRW11bGF0ZURldmljZVNldHRpbmdCYXNlIHtcbiAgc2NyZWVuczogU2NyZWVucztcbn1cblxuY29uc3QgZGV2aWNlU2V0dGluZ3M6IEVtdWxhdGVEZXZpY2VTZXR0aW5nQ2xpT3B0aW9uW10gPSBkZXZpY2VMb29rdXAubWFwKFxuICAoaXRlbTogSURldmljZUxvb2t1cCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBzY3JlZW5zOiBpdGVtLmRldmljZS5zY3JlZW4sXG4gICAgICBkZXZpY2VTY2FsZUZhY3RvcjogaXRlbS5kZXZpY2Uuc2NyZWVuW1wiZGV2aWNlLXBpeGVsLXJhdGlvXCJdIHx8IDAsXG4gICAgICBtb2JpbGU6IGl0ZW0uZGV2aWNlLmNhcGFiaWxpdGllcy5pbmRleE9mKFwibW9iaWxlXCIpID4gLTEsXG4gICAgICB1c2VyQWdlbnQ6IGl0ZW0uZGV2aWNlW1widXNlci1hZ2VudFwiXSxcbiAgICAgIHR5cGVhYmxlOiBjb252ZXJ0VG9UeXBhYmxlKGl0ZW0uZGV2aWNlLnRpdGxlKSxcbiAgICAgIG5hbWU6IGl0ZW0uZGV2aWNlLnRpdGxlLFxuICAgIH07XG4gIH1cbik7XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGRldmljZVNldHRpbmdzIHVudGlsIGEgbWF0Y2ggaXMgZm91bmQgaW4gdGhlIG9wdGlvbidzIHR5cGFibGUgZmllbGQuIEV4dHJhY3QgdGhlIGNvbnRlbnRzIGludG8gRW11bGF0ZURldmljZVNldHRpbmdcbiAqIGZvcm1hdHRlZCBvYmplY3RcbiAqXG4gKiBAcGFyYW0ga2V5IC0gT25lIG9mIHR5cGVhYmxlIHN0cmluZ3Mgc3VjaCBhcyBpcGhvbmUteFxuICogQHBhcmFtIG9yaWVudGF0aW9uIC0gRWl0aGVyIFwidmVydGljYWxcIiBvciBcImhvcml6b250YWxcIlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW11bGF0ZURldmljZVNldHRpbmdGb3JLZXlBbmRPcmllbnRhdGlvbihcbiAga2V5OiBzdHJpbmcsXG4gIG9yaWVudGF0aW9uID0gXCJ2ZXJ0aWNhbFwiXG4pOiBFbXVsYXRlRGV2aWNlU2V0dGluZyB7XG4gIGxldCBkZXZpY2VTZXR0aW5nO1xuXG4gIGZvciAoZGV2aWNlU2V0dGluZyBvZiBkZXZpY2VTZXR0aW5ncykge1xuICAgIGlmIChrZXkgPT09IGRldmljZVNldHRpbmcudHlwZWFibGUpIHtcbiAgICAgIGlmICghZGV2aWNlU2V0dGluZy5zY3JlZW5zW29yaWVudGF0aW9uXSkge1xuICAgICAgICB0aHJvdyBuZXcgQ0xJRXJyb3IoXG4gICAgICAgICAgYCR7b3JpZW50YXRpb259IG9yaWVudGF0aW9uIGZvciAke2tleX0gZG9lcyBub3QgZXhpc3RgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aDogZGV2aWNlU2V0dGluZy5zY3JlZW5zW29yaWVudGF0aW9uXS53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBkZXZpY2VTZXR0aW5nLnNjcmVlbnNbb3JpZW50YXRpb25dLmhlaWdodCxcbiAgICAgICAgZGV2aWNlU2NhbGVGYWN0b3I6IGRldmljZVNldHRpbmcuZGV2aWNlU2NhbGVGYWN0b3IsXG4gICAgICAgIG1vYmlsZTogZGV2aWNlU2V0dGluZy5tb2JpbGUsXG4gICAgICAgIHVzZXJBZ2VudDogZGV2aWNlU2V0dGluZy51c2VyQWdlbnQsXG4gICAgICAgIHR5cGVhYmxlOiBkZXZpY2VTZXR0aW5nLnR5cGVhYmxlLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICB0aHJvdyBuZXcgQ0xJRXJyb3IoYERldmljZSBlbXVsYXRpb24gc2V0dGluZ3Mgbm90IGZvdW5kIGZvciBkZXZpY2UgJHtrZXl9YCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRldmljZVNldHRpbmdzO1xuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWx5bmNoL0QvdHJhY2VyYmVuY2gvcGFja2FnZXMvY2xpL3NyYy9oZWxwZXJzL2RldmljZS1zZXR0aW5ncy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoidy9NQUFBLEtBQUEsQ0FBQSxRQUFBLDBCQUFBLE9BQUEsQ0FBQSxlQUFBLENBQUEsQ0FBQSxDQUdBLEtBQUEsQ0FBQSxlQUFBLDBCQUFBLE9BQUEsQ0FBQSxpQkFBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsT0FBQSwwQkFBQSxPQUFBLENBQUEsU0FBQSxDQUFBLENBQUEsQ0FnQ0EsS0FBTSxDQUFBLGNBQWMsMEJBQW9DLGVBQUEsQ0FBQSxZQUFBLENBQWEsR0FBYixDQUNyRCxJQUFELEVBQXdCLGlEQUN0QixNQUFPLENBQ0wsT0FBTyxDQUFFLElBQUksQ0FBQyxNQUFMLENBQVksTUFEaEIsQ0FFTCxpQkFBaUIsQ0FBRSw0QkFBQSxJQUFJLENBQUMsTUFBTCxDQUFZLE1BQVosQ0FBbUIsb0JBQW5CLGdDQUE0QyxDQUE1QyxDQUZkLENBR0wsTUFBTSxDQUFFLElBQUksQ0FBQyxNQUFMLENBQVksWUFBWixDQUF5QixPQUF6QixDQUFpQyxRQUFqQyxFQUE2QyxDQUFDLENBSGpELENBSUwsU0FBUyxDQUFFLElBQUksQ0FBQyxNQUFMLENBQVksWUFBWixDQUpOLENBS0wsUUFBUSxDQUFFLE9BQUEsQ0FBQSxnQkFBQSxDQUFpQixJQUFJLENBQUMsTUFBTCxDQUFZLEtBQTdCLENBTEwsQ0FNTCxJQUFJLENBQUUsSUFBSSxDQUFDLE1BQUwsQ0FBWSxLQU5iLENBQVAsQ0FRRCxDQVZxRCxDQUFwQyxDQUFwQixDQWFBOzs7Ozs7R0FPQSxRQUFnQixDQUFBLDJDQUFoQixDQUNFLEdBREYsQ0FFRSxXQUFXLDZCQUFHLFVBQUgsQ0FGYixDQUUwQix5QkFFeEIsR0FBSSxDQUFBLGFBQUosQ0FGd0Isd0JBSXhCLElBQUssYUFBTCxHQUFzQixDQUFBLGNBQXRCLENBQXNDLHlCQUNwQyxHQUFJLEdBQUcsR0FBSyxhQUFhLENBQUMsUUFBMUIsQ0FBb0Msb0RBQ2xDLEdBQUksQ0FBQyxhQUFhLENBQUMsT0FBZCxDQUFzQixXQUF0QixDQUFMLENBQXlDLG9EQUN2QyxLQUFNLElBQUksQ0FBQSxRQUFBLENBQUEsUUFBSixDQUNKLEdBQUcsV0FBVyxvQkFBb0IsR0FBRyxpQkFEakMsQ0FBTixDQUdELENBSkQsaUNBRGtDLHlCQU1sQyxNQUFPLENBQ0wsS0FBSyxDQUFFLGFBQWEsQ0FBQyxPQUFkLENBQXNCLFdBQXRCLEVBQW1DLEtBRHJDLENBRUwsTUFBTSxDQUFFLGFBQWEsQ0FBQyxPQUFkLENBQXNCLFdBQXRCLEVBQW1DLE1BRnRDLENBR0wsaUJBQWlCLENBQUUsYUFBYSxDQUFDLGlCQUg1QixDQUlMLE1BQU0sQ0FBRSxhQUFhLENBQUMsTUFKakIsQ0FLTCxTQUFTLENBQUUsYUFBYSxDQUFDLFNBTHBCLENBTUwsUUFBUSxDQUFFLGFBQWEsQ0FBQyxRQU5uQixDQUFQLENBUUQsQ0FkRCxpQ0FlRCxDQXBCdUIseUJBc0J4QixLQUFNLElBQUksQ0FBQSxRQUFBLENBQUEsUUFBSixDQUFhLGtEQUFrRCxHQUFHLEVBQWxFLENBQU4sQ0FDRCxDLHlCQXpCRCxPQUFBLENBQUEsMkNBQUEsQ0FBQSwyQ0FBQSxDLHlCQTJCQSxPQUFBLENBQUEsT0FBQSxDQUFlLGNBQWYsQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENMSUVycm9yIH0gZnJvbSBcIkBvY2xpZi9lcnJvcnNcIjtcbmltcG9ydCBQcm90b2NvbCBmcm9tIFwiZGV2dG9vbHMtcHJvdG9jb2xcIjtcblxuaW1wb3J0IHsgZGV2aWNlTG9va3VwLCBJRGV2aWNlTG9va3VwIH0gZnJvbSBcIi4vZGV2aWNlLWxvb2t1cFwiO1xuaW1wb3J0IHsgY29udmVydFRvVHlwYWJsZSB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmludGVyZmFjZSBTY3JlZW5EaW1lbnNpb25zIHtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2NyZWVucyB7XG4gIGhvcml6b250YWw6IFNjcmVlbkRpbWVuc2lvbnM7XG4gIHZlcnRpY2FsPzogU2NyZWVuRGltZW5zaW9ucztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgW2tleTogc3RyaW5nXTogYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVtdWxhdGVEZXZpY2VTZXR0aW5nQmFzZSB7XG4gIHVzZXJBZ2VudDogc3RyaW5nO1xuICBkZXZpY2VTY2FsZUZhY3RvcjogbnVtYmVyO1xuICBtb2JpbGU6IGJvb2xlYW47XG4gIHR5cGVhYmxlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW11bGF0ZURldmljZVNldHRpbmdcbiAgZXh0ZW5kcyBQcm90b2NvbC5FbXVsYXRpb24uU2V0RGV2aWNlTWV0cmljc092ZXJyaWRlUmVxdWVzdCxcbiAgICBQcm90b2NvbC5FbXVsYXRpb24uU2V0VXNlckFnZW50T3ZlcnJpZGVSZXF1ZXN0IHtcbiAgdHlwZWFibGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbXVsYXRlRGV2aWNlU2V0dGluZ0NsaU9wdGlvblxuICBleHRlbmRzIEVtdWxhdGVEZXZpY2VTZXR0aW5nQmFzZSB7XG4gIHNjcmVlbnM6IFNjcmVlbnM7XG59XG5cbmNvbnN0IGRldmljZVNldHRpbmdzOiBFbXVsYXRlRGV2aWNlU2V0dGluZ0NsaU9wdGlvbltdID0gZGV2aWNlTG9va3VwLm1hcChcbiAgKGl0ZW06IElEZXZpY2VMb29rdXApID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgc2NyZWVuczogaXRlbS5kZXZpY2Uuc2NyZWVuLFxuICAgICAgZGV2aWNlU2NhbGVGYWN0b3I6IGl0ZW0uZGV2aWNlLnNjcmVlbltcImRldmljZS1waXhlbC1yYXRpb1wiXSB8fCAwLFxuICAgICAgbW9iaWxlOiBpdGVtLmRldmljZS5jYXBhYmlsaXRpZXMuaW5kZXhPZihcIm1vYmlsZVwiKSA+IC0xLFxuICAgICAgdXNlckFnZW50OiBpdGVtLmRldmljZVtcInVzZXItYWdlbnRcIl0sXG4gICAgICB0eXBlYWJsZTogY29udmVydFRvVHlwYWJsZShpdGVtLmRldmljZS50aXRsZSksXG4gICAgICBuYW1lOiBpdGVtLmRldmljZS50aXRsZSxcbiAgICB9O1xuICB9XG4pO1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBkZXZpY2VTZXR0aW5ncyB1bnRpbCBhIG1hdGNoIGlzIGZvdW5kIGluIHRoZSBvcHRpb24ncyB0eXBhYmxlIGZpZWxkLiBFeHRyYWN0IHRoZSBjb250ZW50cyBpbnRvIEVtdWxhdGVEZXZpY2VTZXR0aW5nXG4gKiBmb3JtYXR0ZWQgb2JqZWN0XG4gKlxuICogQHBhcmFtIGtleSAtIE9uZSBvZiB0eXBlYWJsZSBzdHJpbmdzIHN1Y2ggYXMgaXBob25lLXhcbiAqIEBwYXJhbSBvcmllbnRhdGlvbiAtIEVpdGhlciBcInZlcnRpY2FsXCIgb3IgXCJob3Jpem9udGFsXCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVtdWxhdGVEZXZpY2VTZXR0aW5nRm9yS2V5QW5kT3JpZW50YXRpb24oXG4gIGtleTogc3RyaW5nLFxuICBvcmllbnRhdGlvbiA9IFwidmVydGljYWxcIlxuKTogRW11bGF0ZURldmljZVNldHRpbmcge1xuICBsZXQgZGV2aWNlU2V0dGluZztcblxuICBmb3IgKGRldmljZVNldHRpbmcgb2YgZGV2aWNlU2V0dGluZ3MpIHtcbiAgICBpZiAoa2V5ID09PSBkZXZpY2VTZXR0aW5nLnR5cGVhYmxlKSB7XG4gICAgICBpZiAoIWRldmljZVNldHRpbmcuc2NyZWVuc1tvcmllbnRhdGlvbl0pIHtcbiAgICAgICAgdGhyb3cgbmV3IENMSUVycm9yKFxuICAgICAgICAgIGAke29yaWVudGF0aW9ufSBvcmllbnRhdGlvbiBmb3IgJHtrZXl9IGRvZXMgbm90IGV4aXN0YFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IGRldmljZVNldHRpbmcuc2NyZWVuc1tvcmllbnRhdGlvbl0ud2lkdGgsXG4gICAgICAgIGhlaWdodDogZGV2aWNlU2V0dGluZy5zY3JlZW5zW29yaWVudGF0aW9uXS5oZWlnaHQsXG4gICAgICAgIGRldmljZVNjYWxlRmFjdG9yOiBkZXZpY2VTZXR0aW5nLmRldmljZVNjYWxlRmFjdG9yLFxuICAgICAgICBtb2JpbGU6IGRldmljZVNldHRpbmcubW9iaWxlLFxuICAgICAgICB1c2VyQWdlbnQ6IGRldmljZVNldHRpbmcudXNlckFnZW50LFxuICAgICAgICB0eXBlYWJsZTogZGV2aWNlU2V0dGluZy50eXBlYWJsZSxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgdGhyb3cgbmV3IENMSUVycm9yKGBEZXZpY2UgZW11bGF0aW9uIHNldHRpbmdzIG5vdCBmb3VuZCBmb3IgZGV2aWNlICR7a2V5fWApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBkZXZpY2VTZXR0aW5ncztcbiJdfQ==