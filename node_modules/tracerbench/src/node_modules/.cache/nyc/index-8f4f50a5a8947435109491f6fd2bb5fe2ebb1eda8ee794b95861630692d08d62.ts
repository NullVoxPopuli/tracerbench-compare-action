"use strict";/* eslint-disable @typescript-eslint/no-non-null-assertion */ /* eslint-disable @typescript-eslint/no-explicit-any */function cov_1q73d7sky0(){var path="/Users/malynch/D/tracerbench/packages/cli/src/commands/compare/index.ts";var hash="13397f919fb610b05174ac54a51d15dd2d54f383";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/malynch/D/tracerbench/packages/cli/src/commands/compare/index.ts",statementMap:{"0":{start:{line:4,column:0},end:{line:4,column:62}},"1":{start:{line:5,column:18},end:{line:5,column:43}},"2":{start:{line:6,column:15},end:{line:6,column:43}},"3":{start:{line:7,column:11},end:{line:7,column:30}},"4":{start:{line:8,column:13},end:{line:8,column:28}},"5":{start:{line:9,column:25},end:{line:9,column:56}},"6":{start:{line:10,column:28},end:{line:10,column:77}},"7":{start:{line:11,column:20},end:{line:11,column:61}},"8":{start:{line:12,column:26},end:{line:12,column:66}},"9":{start:{line:13,column:16},end:{line:13,column:46}},"10":{start:{line:14,column:16},end:{line:14,column:46}},"11":{start:{line:15,column:18},end:{line:15,column:38}},"12":{start:{line:16,column:17},end:{line:16,column:36}},"13":{start:{line:18,column:17},end:{line:18,column:36}},"14":{start:{line:21,column:8},end:{line:21,column:28}},"15":{start:{line:22,column:8},end:{line:22,column:64}},"16":{start:{line:23,column:8},end:{line:23,column:37}},"17":{start:{line:24,column:26},end:{line:24,column:45}},"18":{start:{line:25,column:8},end:{line:25,column:34}},"19":{start:{line:26,column:8},end:{line:26,column:34}},"20":{start:{line:30,column:26},end:{line:30,column:45}},"21":{start:{line:31,column:8},end:{line:31,column:96}},"22":{start:{line:32,column:8},end:{line:32,column:34}},"23":{start:{line:33,column:8},end:{line:33,column:32}},"24":{start:{line:36,column:33},end:{line:36,column:50}},"25":{start:{line:37,column:55},end:{line:37,column:99}},"26":{start:{line:39,column:8},end:{line:45,column:9}},"27":{start:{line:40,column:12},end:{line:44,column:15}},"28":{start:{line:41,column:16},end:{line:43,column:17}},"29":{start:{line:42,column:20},end:{line:42,column:65}},"30":{start:{line:46,column:27},end:{line:49,column:9}},"31":{start:{line:50,column:30},end:{line:50,column:61}},"32":{start:{line:51,column:26},end:{line:51,column:45}},"33":{start:{line:52,column:24},end:{line:72,column:10}},"34":{start:{line:53,column:12},end:{line:61,column:13}},"35":{start:{line:54,column:32},end:{line:54,column:51}},"36":{start:{line:55,column:38},end:{line:55,column:78}},"37":{start:{line:56,column:38},end:{line:56,column:74}},"38":{start:{line:57,column:16},end:{line:57,column:138}},"39":{start:{line:60,column:16},end:{line:60,column:92}},"40":{start:{line:65,column:25},end:{line:65,column:70}},"41":{start:{line:66,column:12},end:{line:71,column:14}},"42":{start:{line:73,column:24},end:{line:73,column:43}},"43":{start:{line:74,column:8},end:{line:76,column:9}},"44":{start:{line:75,column:12},end:{line:75,column:153}},"45":{start:{line:77,column:31},end:{line:77,column:82}},"46":{start:{line:78,column:8},end:{line:78,column:66}},"47":{start:{line:79,column:26},end:{line:79,column:71}},"48":{start:{line:80,column:26},end:{line:80,column:97}},"49":{start:{line:81,column:24},end:{line:83,column:10}},"50":{start:{line:84,column:8},end:{line:84,column:47}},"51":{start:{line:85,column:8},end:{line:85,column:32}},"52":{start:{line:86,column:8},end:{line:86,column:27}},"53":{start:{line:87,column:25},end:{line:87,column:89}},"54":{start:{line:88,column:24},end:{line:88,column:172}},"55":{start:{line:89,column:8},end:{line:89,column:33}},"56":{start:{line:90,column:8},end:{line:101,column:9}},"57":{start:{line:91,column:12},end:{line:99,column:15}},"58":{start:{line:100,column:12},end:{line:100,column:106}},"59":{start:{line:103,column:8},end:{line:110,column:9}},"60":{start:{line:104,column:12},end:{line:109,column:15}},"61":{start:{line:113,column:8},end:{line:117,column:9}},"62":{start:{line:114,column:12},end:{line:114,column:155}},"63":{start:{line:115,column:12},end:{line:115,column:161}},"64":{start:{line:116,column:12},end:{line:116,column:156}},"65":{start:{line:118,column:8},end:{line:118,column:39}},"66":{start:{line:121,column:114},end:{line:121,column:131}},"67":{start:{line:126,column:8},end:{line:128,column:9}},"68":{start:{line:127,column:12},end:{line:127,column:100}},"69":{start:{line:129,column:8},end:{line:131,column:9}},"70":{start:{line:130,column:12},end:{line:130,column:70}},"71":{start:{line:132,column:8},end:{line:134,column:9}},"72":{start:{line:133,column:12},end:{line:133,column:86}},"73":{start:{line:135,column:8},end:{line:137,column:9}},"74":{start:{line:136,column:12},end:{line:136,column:92}},"75":{start:{line:138,column:8},end:{line:140,column:9}},"76":{start:{line:139,column:12},end:{line:139,column:95}},"77":{start:{line:142,column:8},end:{line:144,column:9}},"78":{start:{line:143,column:12},end:{line:143,column:116}},"79":{start:{line:147,column:8},end:{line:147,column:60}},"80":{start:{line:161,column:22},end:{line:161,column:68}},"81":{start:{line:162,column:31},end:{line:165,column:9}},"82":{start:{line:166,column:34},end:{line:169,column:9}},"83":{start:{line:171,column:8},end:{line:178,column:9}},"84":{start:{line:172,column:12},end:{line:174,column:13}},"85":{start:{line:173,column:16},end:{line:173,column:167}},"86":{start:{line:175,column:12},end:{line:177,column:13}},"87":{start:{line:176,column:16},end:{line:176,column:173}},"88":{start:{line:179,column:31},end:{line:179,column:159}},"89":{start:{line:180,column:37},end:{line:180,column:171}},"90":{start:{line:181,column:48},end:{line:181,column:193}},"91":{start:{line:182,column:34},end:{line:182,column:165}},"92":{start:{line:183,column:40},end:{line:183,column:177}},"93":{start:{line:184,column:51},end:{line:184,column:199}},"94":{start:{line:185,column:38},end:{line:187,column:16}},"95":{start:{line:188,column:32},end:{line:202,column:9}},"96":{start:{line:199,column:47},end:{line:199,column:110}},"97":{start:{line:203,column:41},end:{line:205,column:16}},"98":{start:{line:206,column:35},end:{line:220,column:9}},"99":{start:{line:217,column:47},end:{line:217,column:110}},"100":{start:{line:221,column:8},end:{line:221,column:53}},"101":{start:{line:224,column:0},end:{line:224,column:26}},"102":{start:{line:225,column:0},end:{line:225,column:88}},"103":{start:{line:226,column:0},end:{line:250,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:30},end:{line:27,column:5}},line:20},"1":{name:"(anonymous_1)",decl:{start:{line:29,column:4},end:{line:29,column:5}},loc:{start:{line:29,column:17},end:{line:34,column:5}},line:29},"2":{name:"(anonymous_2)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:16},end:{line:119,column:5}},line:35},"3":{name:"(anonymous_3)",decl:{start:{line:40,column:54},end:{line:40,column:55}},loc:{start:{line:40,column:72},end:{line:44,column:13}},line:40},"4":{name:"(anonymous_4)",decl:{start:{line:52,column:115},end:{line:52,column:116}},loc:{start:{line:52,column:168},end:{line:62,column:9}},line:52},"5":{name:"(anonymous_5)",decl:{start:{line:64,column:16},end:{line:64,column:17}},loc:{start:{line:64,column:40},end:{line:72,column:9}},line:64},"6":{name:"(anonymous_6)",decl:{start:{line:120,column:4},end:{line:120,column:5}},loc:{start:{line:120,column:23},end:{line:148,column:5}},line:120},"7":{name:"(anonymous_7)",decl:{start:{line:160,column:4},end:{line:160,column:5}},loc:{start:{line:160,column:44},end:{line:222,column:5}},line:160},"8":{name:"(anonymous_8)",decl:{start:{line:199,column:33},end:{line:199,column:34}},loc:{start:{line:199,column:47},end:{line:199,column:110}},line:199},"9":{name:"(anonymous_9)",decl:{start:{line:217,column:33},end:{line:217,column:34}},loc:{start:{line:217,column:47},end:{line:217,column:110}},line:217}},branchMap:{"0":{loc:{start:{line:39,column:8},end:{line:45,column:9}},type:"if",locations:[{start:{line:39,column:8},end:{line:45,column:9}},{start:{line:39,column:8},end:{line:45,column:9}}],line:39},"1":{loc:{start:{line:41,column:16},end:{line:43,column:17}},type:"if",locations:[{start:{line:41,column:16},end:{line:43,column:17}},{start:{line:41,column:16},end:{line:43,column:17}}],line:41},"2":{loc:{start:{line:53,column:12},end:{line:61,column:13}},type:"if",locations:[{start:{line:53,column:12},end:{line:61,column:13}},{start:{line:53,column:12},end:{line:61,column:13}}],line:53},"3":{loc:{start:{line:63,column:29},end:{line:63,column:66}},type:"binary-expr",locations:[{start:{line:63,column:29},end:{line:63,column:42}},{start:{line:63,column:46},end:{line:63,column:66}}],line:63},"4":{loc:{start:{line:65,column:25},end:{line:65,column:70}},type:"cond-expr",locations:[{start:{line:65,column:46},end:{line:65,column:65}},{start:{line:65,column:68},end:{line:65,column:70}}],line:65},"5":{loc:{start:{line:74,column:8},end:{line:76,column:9}},type:"if",locations:[{start:{line:74,column:8},end:{line:76,column:9}},{start:{line:74,column:8},end:{line:76,column:9}}],line:74},"6":{loc:{start:{line:90,column:8},end:{line:101,column:9}},type:"if",locations:[{start:{line:90,column:8},end:{line:101,column:9}},{start:{line:90,column:8},end:{line:101,column:9}}],line:90},"7":{loc:{start:{line:103,column:8},end:{line:110,column:9}},type:"if",locations:[{start:{line:103,column:8},end:{line:110,column:9}},{start:{line:103,column:8},end:{line:110,column:9}}],line:103},"8":{loc:{start:{line:113,column:8},end:{line:117,column:9}},type:"if",locations:[{start:{line:113,column:8},end:{line:117,column:9}},{start:{line:113,column:8},end:{line:117,column:9}}],line:113},"9":{loc:{start:{line:126,column:8},end:{line:128,column:9}},type:"if",locations:[{start:{line:126,column:8},end:{line:128,column:9}},{start:{line:126,column:8},end:{line:128,column:9}}],line:126},"10":{loc:{start:{line:129,column:8},end:{line:131,column:9}},type:"if",locations:[{start:{line:129,column:8},end:{line:131,column:9}},{start:{line:129,column:8},end:{line:131,column:9}}],line:129},"11":{loc:{start:{line:132,column:8},end:{line:134,column:9}},type:"if",locations:[{start:{line:132,column:8},end:{line:134,column:9}},{start:{line:132,column:8},end:{line:134,column:9}}],line:132},"12":{loc:{start:{line:135,column:8},end:{line:137,column:9}},type:"if",locations:[{start:{line:135,column:8},end:{line:137,column:9}},{start:{line:135,column:8},end:{line:137,column:9}}],line:135},"13":{loc:{start:{line:138,column:8},end:{line:140,column:9}},type:"if",locations:[{start:{line:138,column:8},end:{line:140,column:9}},{start:{line:138,column:8},end:{line:140,column:9}}],line:138},"14":{loc:{start:{line:142,column:8},end:{line:144,column:9}},type:"if",locations:[{start:{line:142,column:8},end:{line:144,column:9}},{start:{line:142,column:8},end:{line:144,column:9}}],line:142},"15":{loc:{start:{line:161,column:22},end:{line:161,column:68}},type:"cond-expr",locations:[{start:{line:161,column:48},end:{line:161,column:57}},{start:{line:161,column:60},end:{line:161,column:68}}],line:161},"16":{loc:{start:{line:171,column:8},end:{line:178,column:9}},type:"if",locations:[{start:{line:171,column:8},end:{line:178,column:9}},{start:{line:171,column:8},end:{line:178,column:9}}],line:171},"17":{loc:{start:{line:172,column:12},end:{line:174,column:13}},type:"if",locations:[{start:{line:172,column:12},end:{line:174,column:13}},{start:{line:172,column:12},end:{line:174,column:13}}],line:172},"18":{loc:{start:{line:175,column:12},end:{line:177,column:13}},type:"if",locations:[{start:{line:175,column:12},end:{line:177,column:13}},{start:{line:175,column:12},end:{line:177,column:13}}],line:175},"19":{loc:{start:{line:185,column:38},end:{line:187,column:16}},type:"cond-expr",locations:[{start:{line:186,column:14},end:{line:186,column:130}},{start:{line:187,column:14},end:{line:187,column:16}}],line:185},"20":{loc:{start:{line:194,column:275},end:{line:196,column:51}},type:"cond-expr",locations:[{start:{line:195,column:26},end:{line:195,column:66}},{start:{line:196,column:26},end:{line:196,column:51}}],line:194},"21":{loc:{start:{line:203,column:41},end:{line:205,column:16}},type:"cond-expr",locations:[{start:{line:204,column:14},end:{line:204,column:136}},{start:{line:205,column:14},end:{line:205,column:16}}],line:203},"22":{loc:{start:{line:212,column:281},end:{line:214,column:51}},type:"cond-expr",locations:[{start:{line:213,column:26},end:{line:213,column:69}},{start:{line:214,column:26},end:{line:214,column:51}}],line:212}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0]},inputSourceMap:{version:3,file:"/Users/malynch/D/tracerbench/packages/cli/src/commands/compare/index.ts",sources:["/Users/malynch/D/tracerbench/packages/cli/src/commands/compare/index.ts"],names:[],mappings:"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",sourcesContent:["/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { flags as oclifFlags } from \"@oclif/command\";\nimport { IConfig } from \"@oclif/config\";\nimport {\n  createTraceNavigationBenchmark,\n  Marker,\n  NavigationBenchmarkOptions,\n  networkConditions,\n  run,\n} from \"@tracerbench/core\";\nimport type { ChromeSpawnOptions } from \"@tracerbench/spawn-chrome\";\nimport Protocol from \"devtools-protocol\";\nimport * as fs from \"fs-extra\";\nimport * as path from \"path\";\n\nimport { getConfig, TBBaseCommand } from \"../../command-config\";\nimport {\n  defaultFlagArgs,\n  fidelityLookup,\n  headlessFlags,\n} from \"../../command-config/default-flag-args\";\nimport {\n  CONTROL_ENV_OVERRIDE_ATTR,\n  EXPERIMENT_ENV_OVERRIDE_ATTR,\n  ITBConfig,\n} from \"../../command-config/tb-config\";\nimport { getEmulateDeviceSettingForKeyAndOrientation } from \"../../helpers/device-settings\";\nimport {\n  browserArgs,\n  config,\n  controlURL,\n  cpuThrottleRate,\n  debug,\n  emulateDevice,\n  emulateDeviceOrientation,\n  experimentURL,\n  fidelity,\n  headless,\n  isCIEnv,\n  markers,\n  network,\n  regressionThreshold,\n  report,\n  runtimeStats,\n  sampleTimeout,\n  socksPorts,\n  tbResultsFolder,\n} from \"../../helpers/flags\";\nimport {\n  chalkScheme,\n  checkEnvironmentSpecificOverride,\n  durationInSec,\n  parseMarkers,\n  secondsToTime,\n  timestamp,\n} from \"../../helpers/utils\";\nimport CompareAnalyze from \"./analyze\";\nimport CompareReport from \"./report\";\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst archiver = require(\"archiver\");\nexport interface ICompareFlags {\n  hideAnalysis: boolean;\n  browserArgs: string[];\n  cpuThrottleRate: number;\n  fidelity: number;\n  markers: Marker[];\n  network: Protocol.Network.EmulateNetworkConditionsRequest;\n  tbResultsFolder: string;\n  controlURL: string | undefined;\n  experimentURL: string | undefined;\n  runtimeStats: boolean;\n  emulateDevice?: string;\n  emulateDeviceOrientation?: string;\n  socksPorts?: [string, string] | [number, number] | undefined;\n  debug: boolean;\n  regressionThreshold?: number;\n  sampleTimeout: number;\n  headless: boolean;\n  config?: string;\n  report?: boolean;\n  isCIEnv?: boolean;\n}\n\nexport default class Compare extends TBBaseCommand {\n  public static description =\n    \"Compare the performance delta between an experiment and control\";\n  public static flags: oclifFlags.Input<any> = {\n    hideAnalysis: oclifFlags.boolean({\n      default: false,\n      description: \"Hide the the analysis output in terminal\",\n    }),\n    browserArgs: browserArgs({ required: true }),\n    cpuThrottleRate: cpuThrottleRate({ required: true }),\n    fidelity: fidelity({ required: true }),\n    markers: markers({ required: true }),\n    network: network({ required: true }),\n    tbResultsFolder: tbResultsFolder({ required: true }),\n    controlURL: controlURL({ required: false }),\n    experimentURL: experimentURL({ required: false }),\n    emulateDevice: emulateDevice(),\n    emulateDeviceOrientation: emulateDeviceOrientation(),\n    socksPorts: socksPorts(),\n    regressionThreshold: regressionThreshold(),\n    sampleTimeout: sampleTimeout(),\n    config: config(),\n    runtimeStats,\n    report,\n    debug,\n    headless,\n    isCIEnv: isCIEnv(),\n  };\n  public compareFlags: ICompareFlags;\n  public parsedConfig: ITBConfig = defaultFlagArgs;\n  // flags explicitly specified within the cli when\n  // running the command. these will override all\n  public explicitFlags: string[];\n  public analyzedJSONString = \"\";\n  constructor(argv: string[], config: IConfig) {\n    super(argv, config);\n    const { flags } = this.parse(Compare);\n    this.explicitFlags = argv;\n    this.compareFlags = flags as ICompareFlags;\n  }\n\n  // instantiated before this.run()\n  public async init(): Promise<void> {\n    const { flags } = this.parse(Compare);\n    this.parsedConfig = getConfig(flags.config, flags, this.explicitFlags);\n    this.compareFlags = flags as ICompareFlags;\n    await this.parseFlags();\n  }\n\n  public async run(): Promise<string> {\n    const { hideAnalysis } = this.compareFlags;\n    const [\n      controlSettings,\n      experimentSettings,\n    ] = this.generateControlExperimentServerConfig();\n\n    // this should be directly above the instantiation of the InitialRenderBenchmarks\n    if (this.parsedConfig.debug) {\n      Object.entries(this.parsedConfig).forEach(([key, value]) => {\n        if (value) {\n          this.log(`${key}: ${JSON.stringify(value)}`);\n        }\n      });\n    }\n\n    const benchmarks = {\n      control: createTraceNavigationBenchmark(...controlSettings),\n      experiment: createTraceNavigationBenchmark(...experimentSettings),\n    };\n\n    const sampleTimeout = this.parsedConfig.sampleTimeout;\n\n    const startTime = timestamp();\n    const results = (\n      await run(\n        [benchmarks.control, benchmarks.experiment],\n        this.parsedConfig.fidelity as number,\n        (elasped, completed, remaining, group, iteration) => {\n          if (completed > 0) {\n            const average = elasped / completed;\n            const remainingSecs = Math.round((remaining * average) / 1000);\n            const remainingTime = secondsToTime(remainingSecs);\n            console.log(\n              \"%s: %s %s remaining\",\n              group.padStart(15),\n              iteration.toString().padStart(2),\n              `${remainingTime}`.padStart(10)\n            );\n          } else {\n            console.log(\n              \"%s: %s\",\n              group.padStart(15),\n              iteration.toString().padStart(2)\n            );\n          }\n        },\n        {\n          sampleTimeoutMs: sampleTimeout && sampleTimeout * 1000,\n        }\n      )\n    ).map(({ group, samples }) => {\n      const meta = samples.length > 0 ? samples[0].metadata : {};\n      return {\n        group,\n        set: group,\n        samples,\n        meta,\n      };\n    });\n    const endTime = timestamp();\n    if (!results[0].samples[0]) {\n      this.error(\n        `Could not sample from provided urls\\nCONTROL: ${this.parsedConfig.controlURL}\\nEXPERIMENT: ${this.parsedConfig.experimentURL}.`\n      );\n    }\n    const resultJSONPath = `${this.parsedConfig.tbResultsFolder}/compare.json`;\n\n    fs.writeFileSync(resultJSONPath, JSON.stringify(results));\n\n    const tracesDir = `${this.parsedConfig.tbResultsFolder}/traces`;\n    const zipOutput = fs.createWriteStream(\n      `${this.parsedConfig.tbResultsFolder}/traces.zip`\n    );\n    const archive = archiver(\"zip\", {\n      zlib: { level: 9 },\n    });\n    archive.directory(tracesDir, \"traces\");\n    archive.pipe(zipOutput);\n    archive.finalize();\n    const duration = secondsToTime(durationInSec(endTime, startTime));\n    const message = `${chalkScheme.blackBgGreen(\n      `    ${chalkScheme.white(\"SUCCESS\")}    `\n    )} ${this.parsedConfig.fidelity} test samples took ${duration}`;\n\n    this.log(`\\n${message}`);\n\n    if (!hideAnalysis) {\n      this.analyzedJSONString = await CompareAnalyze.run([\n        resultJSONPath,\n        \"--fidelity\",\n        `${this.parsedConfig.fidelity}`,\n        \"--regressionThreshold\",\n        `${this.parsedConfig.regressionThreshold}`,\n        \"--isCIEnv\",\n        `${this.parsedConfig.isCIEnv}`,\n      ]);\n\n      fs.writeFileSync(\n        `${this.parsedConfig.tbResultsFolder}/report.json`,\n        this.analyzedJSONString\n      );\n    }\n\n    // if we want to run the CompareReport without calling a separate command\n    if (this.parsedConfig.report) {\n      await CompareReport.run([\n        \"--tbResultsFolder\",\n        `${this.parsedConfig.tbResultsFolder}`,\n        \"--config\",\n        `${this.parsedConfig.config}`,\n      ]);\n    }\n\n    // with debug flag output three files\n    // on config specifics\n    if (this.parsedConfig.debug) {\n      fs.writeFileSync(\n        `${this.parsedConfig.tbResultsFolder}/server-control-settings.json`,\n        JSON.stringify(Object.assign(controlSettings), null, 2)\n      );\n\n      fs.writeFileSync(\n        `${this.parsedConfig.tbResultsFolder}/server-experiment-settings.json`,\n        JSON.stringify(Object.assign(experimentSettings), null, 2)\n      );\n\n      fs.writeFileSync(\n        `${this.parsedConfig.tbResultsFolder}/compare-flags-settings.json`,\n        JSON.stringify(Object.assign(this.parsedConfig), null, 2)\n      );\n    }\n\n    return this.analyzedJSONString;\n  }\n\n  private async parseFlags(): Promise<void> {\n    const {\n      tbResultsFolder,\n      fidelity,\n      markers,\n      regressionThreshold,\n      headless,\n      controlURL,\n      experimentURL,\n    } = (this.parsedConfig as unknown) as ICompareFlags;\n\n    // modifies properties of flags that were not set\n    // during flag.parse(). these are intentionally\n    // not deconstructed as to maintain the mutable\n    // flags object state\n    if (typeof fidelity === \"string\") {\n      this.compareFlags.fidelity = parseInt(\n        (fidelityLookup as any)[fidelity],\n        10\n      );\n    }\n    if (typeof markers === \"string\") {\n      this.parsedConfig.markers = parseMarkers(markers);\n    }\n    if (typeof regressionThreshold === \"string\") {\n      this.parsedConfig.regressionThreshold = parseInt(regressionThreshold, 10);\n    }\n    if (typeof controlURL === undefined) {\n      this.error(\n        \"controlURL is required either in the tbconfig.json or as cli flag\"\n      );\n    }\n\n    if (typeof experimentURL === undefined) {\n      this.error(\n        \"experimentURL is required either in the tbconfig.json or as cli flag\"\n      );\n    }\n\n    // if headless flag is true include the headless flags\n    if (headless) {\n      this.parsedConfig.browserArgs = this.compareFlags.browserArgs.concat(\n        headlessFlags\n      );\n    }\n\n    // if the folder for the tracerbench results file\n    // does not exist then create it\n    fs.mkdirpSync(path.join(tbResultsFolder, \"traces\"));\n  }\n\n  /**\n   * Final result of the configs are in the following order:\n   *\n   * controlConfigs = tbconfig:controlBenchmarkEnvironment > command line > tbconfig > default\n   * experimentConfigs = tbconfig:experimentBenchmarkEnvironment > command line > tbconfig > default\n   *\n   * This functions handles the tsconfig:** part since it is assumed that parent function that passed input \"flags\"\n   * would've handled \"command line > tbconfig > default\"\n   *\n   * @param this.parsedConfig - Object containing configs parsed from the Command class\n   */\n  private generateControlExperimentServerConfig(): [\n    [string, string, Marker[], NavigationBenchmarkOptions],\n    [string, string, Marker[], NavigationBenchmarkOptions]\n  ] {\n    const stdio = this.parsedConfig.debug ? \"inherit\" : \"ignore\";\n    const controlBrowser: Partial<ChromeSpawnOptions> = {\n      stdio,\n      additionalArguments: this.compareFlags.browserArgs,\n    };\n    const experimentBrowser: Partial<ChromeSpawnOptions> = {\n      stdio,\n      additionalArguments: this.compareFlags.browserArgs,\n    };\n\n    // config for the browsers to leverage socks proxy\n    if (this.parsedConfig.socksPorts) {\n      if (controlBrowser.additionalArguments) {\n        controlBrowser.additionalArguments = controlBrowser.additionalArguments.concat(\n          [`--proxy-server=socks5://0.0.0.0:${this.parsedConfig.socksPorts[0]}`]\n        );\n      }\n      if (experimentBrowser.additionalArguments) {\n        experimentBrowser.additionalArguments = experimentBrowser.additionalArguments.concat(\n          [`--proxy-server=socks5://0.0.0.0:${this.parsedConfig.socksPorts[1]}`]\n        );\n      }\n    }\n    const controlNetwork: string = checkEnvironmentSpecificOverride(\n      \"network\",\n      this.compareFlags,\n      CONTROL_ENV_OVERRIDE_ATTR,\n      this.parsedConfig\n    );\n    const controlEmulateDevice = checkEnvironmentSpecificOverride(\n      \"emulateDevice\",\n      this.compareFlags,\n      CONTROL_ENV_OVERRIDE_ATTR,\n      this.parsedConfig\n    );\n    const controlEmulateDeviceOrientation = checkEnvironmentSpecificOverride(\n      \"emulateDeviceOrientation\",\n      this.compareFlags,\n      CONTROL_ENV_OVERRIDE_ATTR,\n      this.parsedConfig\n    );\n    const experimentNetwork: string = checkEnvironmentSpecificOverride(\n      \"network\",\n      this.compareFlags,\n      EXPERIMENT_ENV_OVERRIDE_ATTR,\n      this.parsedConfig\n    );\n    const experimentEmulateDevice = checkEnvironmentSpecificOverride(\n      \"emulateDevice\",\n      this.compareFlags,\n      EXPERIMENT_ENV_OVERRIDE_ATTR,\n      this.parsedConfig\n    );\n    const experimentEmulateDeviceOrientation = checkEnvironmentSpecificOverride(\n      \"emulateDeviceOrientation\",\n      this.compareFlags,\n      EXPERIMENT_ENV_OVERRIDE_ATTR,\n      this.parsedConfig\n    );\n\n    const controlDeviceSettings = controlEmulateDevice\n      ? getEmulateDeviceSettingForKeyAndOrientation(\n          controlEmulateDevice,\n          controlEmulateDeviceOrientation\n        )\n      : {};\n\n    const controlSettings: [\n      string,\n      string,\n      Marker[],\n      NavigationBenchmarkOptions\n    ] = [\n      \"control\",\n      this.compareFlags.controlURL!,\n      this.compareFlags.markers,\n      {\n        spawnOptions: controlBrowser,\n        pageSetupOptions: {\n          cpuThrottlingRate: checkEnvironmentSpecificOverride(\n            \"cpuThrottleRate\",\n            this.compareFlags,\n            CONTROL_ENV_OVERRIDE_ATTR,\n            this.parsedConfig\n          ),\n          ...controlDeviceSettings,\n          emulateNetworkConditions: controlNetwork\n            ? networkConditions[\n                controlNetwork as keyof typeof networkConditions\n              ]\n            : this.compareFlags.network,\n        },\n        traceOptions: {\n          captureV8RuntimeStats: this.compareFlags.runtimeStats,\n          saveTraceAs: (group, i) =>\n            `${this.compareFlags.tbResultsFolder}/traces/${group}${i}.json`,\n        },\n      },\n    ];\n\n    const experimentDeviceSettings = experimentEmulateDevice\n      ? getEmulateDeviceSettingForKeyAndOrientation(\n          experimentEmulateDevice,\n          experimentEmulateDeviceOrientation\n        )\n      : {};\n    const experimentSettings: [\n      string,\n      string,\n      Marker[],\n      NavigationBenchmarkOptions\n    ] = [\n      \"experiment\",\n      this.compareFlags.experimentURL!,\n      this.compareFlags.markers,\n      {\n        spawnOptions: experimentBrowser,\n\n        pageSetupOptions: {\n          cpuThrottlingRate: checkEnvironmentSpecificOverride(\n            \"cpuThrottleRate\",\n            this.compareFlags,\n            EXPERIMENT_ENV_OVERRIDE_ATTR,\n            this.parsedConfig\n          ),\n          ...experimentDeviceSettings,\n          emulateNetworkConditions: experimentNetwork\n            ? networkConditions[\n                experimentNetwork as keyof typeof networkConditions\n              ]\n            : this.compareFlags.network,\n        },\n        traceOptions: {\n          captureV8RuntimeStats: this.compareFlags.runtimeStats,\n          saveTraceAs: (group, i) =>\n            `${this.compareFlags.tbResultsFolder}/traces/${group}${i}.json`,\n        },\n      },\n    ];\n\n    return [controlSettings, experimentSettings];\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"13397f919fb610b05174ac54a51d15dd2d54f383"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1q73d7sky0=function(){return actualCoverage;};}return actualCoverage;}cov_1q73d7sky0();cov_1q73d7sky0().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});const command_1=(cov_1q73d7sky0().s[1]++,require("@oclif/command"));const core_1=(cov_1q73d7sky0().s[2]++,require("@tracerbench/core"));const fs=(cov_1q73d7sky0().s[3]++,require("fs-extra"));const path=(cov_1q73d7sky0().s[4]++,require("path"));const command_config_1=(cov_1q73d7sky0().s[5]++,require("../../command-config"));const default_flag_args_1=(cov_1q73d7sky0().s[6]++,require("../../command-config/default-flag-args"));const tb_config_1=(cov_1q73d7sky0().s[7]++,require("../../command-config/tb-config"));const device_settings_1=(cov_1q73d7sky0().s[8]++,require("../../helpers/device-settings"));const flags_1=(cov_1q73d7sky0().s[9]++,require("../../helpers/flags"));const utils_1=(cov_1q73d7sky0().s[10]++,require("../../helpers/utils"));const analyze_1=(cov_1q73d7sky0().s[11]++,require("./analyze"));const report_1=(cov_1q73d7sky0().s[12]++,require("./report"));// eslint-disable-next-line @typescript-eslint/no-var-requires
const archiver=(cov_1q73d7sky0().s[13]++,require("archiver"));class Compare extends(command_config_1.TBBaseCommand){constructor(argv,config){cov_1q73d7sky0().f[0]++;cov_1q73d7sky0().s[14]++;super(argv,config);cov_1q73d7sky0().s[15]++;this.parsedConfig=default_flag_args_1.defaultFlagArgs;cov_1q73d7sky0().s[16]++;this.analyzedJSONString="";const{flags}=(cov_1q73d7sky0().s[17]++,this.parse(Compare));cov_1q73d7sky0().s[18]++;this.explicitFlags=argv;cov_1q73d7sky0().s[19]++;this.compareFlags=flags;}// instantiated before this.run()
async init(){cov_1q73d7sky0().f[1]++;const{flags}=(cov_1q73d7sky0().s[20]++,this.parse(Compare));cov_1q73d7sky0().s[21]++;this.parsedConfig=command_config_1.getConfig(flags.config,flags,this.explicitFlags);cov_1q73d7sky0().s[22]++;this.compareFlags=flags;cov_1q73d7sky0().s[23]++;await this.parseFlags();}async run(){cov_1q73d7sky0().f[2]++;const{hideAnalysis}=(cov_1q73d7sky0().s[24]++,this.compareFlags);const[controlSettings,experimentSettings]=(cov_1q73d7sky0().s[25]++,this.generateControlExperimentServerConfig());// this should be directly above the instantiation of the InitialRenderBenchmarks
cov_1q73d7sky0().s[26]++;if(this.parsedConfig.debug){cov_1q73d7sky0().b[0][0]++;cov_1q73d7sky0().s[27]++;Object.entries(this.parsedConfig).forEach(([key,value])=>{cov_1q73d7sky0().f[3]++;cov_1q73d7sky0().s[28]++;if(value){cov_1q73d7sky0().b[1][0]++;cov_1q73d7sky0().s[29]++;this.log(`${key}: ${JSON.stringify(value)}`);}else{cov_1q73d7sky0().b[1][1]++;}});}else{cov_1q73d7sky0().b[0][1]++;}const benchmarks=(cov_1q73d7sky0().s[30]++,{control:core_1.createTraceNavigationBenchmark(...controlSettings),experiment:core_1.createTraceNavigationBenchmark(...experimentSettings)});const sampleTimeout=(cov_1q73d7sky0().s[31]++,this.parsedConfig.sampleTimeout);const startTime=(cov_1q73d7sky0().s[32]++,utils_1.timestamp());const results=(cov_1q73d7sky0().s[33]++,(await core_1.run([benchmarks.control,benchmarks.experiment],this.parsedConfig.fidelity,(elasped,completed,remaining,group,iteration)=>{cov_1q73d7sky0().f[4]++;cov_1q73d7sky0().s[34]++;if(completed>0){cov_1q73d7sky0().b[2][0]++;const average=(cov_1q73d7sky0().s[35]++,elasped/completed);const remainingSecs=(cov_1q73d7sky0().s[36]++,Math.round(remaining*average/1000));const remainingTime=(cov_1q73d7sky0().s[37]++,utils_1.secondsToTime(remainingSecs));cov_1q73d7sky0().s[38]++;console.log("%s: %s %s remaining",group.padStart(15),iteration.toString().padStart(2),`${remainingTime}`.padStart(10));}else{cov_1q73d7sky0().b[2][1]++;cov_1q73d7sky0().s[39]++;console.log("%s: %s",group.padStart(15),iteration.toString().padStart(2));}},{sampleTimeoutMs:(cov_1q73d7sky0().b[3][0]++,sampleTimeout)&&(cov_1q73d7sky0().b[3][1]++,sampleTimeout*1000)})).map(({group,samples})=>{cov_1q73d7sky0().f[5]++;const meta=(cov_1q73d7sky0().s[40]++,samples.length>0?(cov_1q73d7sky0().b[4][0]++,samples[0].metadata):(cov_1q73d7sky0().b[4][1]++,{}));cov_1q73d7sky0().s[41]++;return{group,set:group,samples,meta};}));const endTime=(cov_1q73d7sky0().s[42]++,utils_1.timestamp());cov_1q73d7sky0().s[43]++;if(!results[0].samples[0]){cov_1q73d7sky0().b[5][0]++;cov_1q73d7sky0().s[44]++;this.error(`Could not sample from provided urls\nCONTROL: ${this.parsedConfig.controlURL}\nEXPERIMENT: ${this.parsedConfig.experimentURL}.`);}else{cov_1q73d7sky0().b[5][1]++;}const resultJSONPath=(cov_1q73d7sky0().s[45]++,`${this.parsedConfig.tbResultsFolder}/compare.json`);cov_1q73d7sky0().s[46]++;fs.writeFileSync(resultJSONPath,JSON.stringify(results));const tracesDir=(cov_1q73d7sky0().s[47]++,`${this.parsedConfig.tbResultsFolder}/traces`);const zipOutput=(cov_1q73d7sky0().s[48]++,fs.createWriteStream(`${this.parsedConfig.tbResultsFolder}/traces.zip`));const archive=(cov_1q73d7sky0().s[49]++,archiver("zip",{zlib:{level:9}}));cov_1q73d7sky0().s[50]++;archive.directory(tracesDir,"traces");cov_1q73d7sky0().s[51]++;archive.pipe(zipOutput);cov_1q73d7sky0().s[52]++;archive.finalize();const duration=(cov_1q73d7sky0().s[53]++,utils_1.secondsToTime(utils_1.durationInSec(endTime,startTime)));const message=(cov_1q73d7sky0().s[54]++,`${utils_1.chalkScheme.blackBgGreen(`    ${utils_1.chalkScheme.white("SUCCESS")}    `)} ${this.parsedConfig.fidelity} test samples took ${duration}`);cov_1q73d7sky0().s[55]++;this.log(`\n${message}`);cov_1q73d7sky0().s[56]++;if(!hideAnalysis){cov_1q73d7sky0().b[6][0]++;cov_1q73d7sky0().s[57]++;this.analyzedJSONString=await analyze_1.default.run([resultJSONPath,"--fidelity",`${this.parsedConfig.fidelity}`,"--regressionThreshold",`${this.parsedConfig.regressionThreshold}`,"--isCIEnv",`${this.parsedConfig.isCIEnv}`]);cov_1q73d7sky0().s[58]++;fs.writeFileSync(`${this.parsedConfig.tbResultsFolder}/report.json`,this.analyzedJSONString);}else{cov_1q73d7sky0().b[6][1]++;}// if we want to run the CompareReport without calling a separate command
cov_1q73d7sky0().s[59]++;if(this.parsedConfig.report){cov_1q73d7sky0().b[7][0]++;cov_1q73d7sky0().s[60]++;await report_1.default.run(["--tbResultsFolder",`${this.parsedConfig.tbResultsFolder}`,"--config",`${this.parsedConfig.config}`]);}else{cov_1q73d7sky0().b[7][1]++;}// with debug flag output three files
// on config specifics
cov_1q73d7sky0().s[61]++;if(this.parsedConfig.debug){cov_1q73d7sky0().b[8][0]++;cov_1q73d7sky0().s[62]++;fs.writeFileSync(`${this.parsedConfig.tbResultsFolder}/server-control-settings.json`,JSON.stringify(Object.assign(controlSettings),null,2));cov_1q73d7sky0().s[63]++;fs.writeFileSync(`${this.parsedConfig.tbResultsFolder}/server-experiment-settings.json`,JSON.stringify(Object.assign(experimentSettings),null,2));cov_1q73d7sky0().s[64]++;fs.writeFileSync(`${this.parsedConfig.tbResultsFolder}/compare-flags-settings.json`,JSON.stringify(Object.assign(this.parsedConfig),null,2));}else{cov_1q73d7sky0().b[8][1]++;}cov_1q73d7sky0().s[65]++;return this.analyzedJSONString;}async parseFlags(){cov_1q73d7sky0().f[6]++;const{tbResultsFolder,fidelity,markers,regressionThreshold,headless,controlURL,experimentURL}=(cov_1q73d7sky0().s[66]++,this.parsedConfig);// modifies properties of flags that were not set
// during flag.parse(). these are intentionally
// not deconstructed as to maintain the mutable
// flags object state
cov_1q73d7sky0().s[67]++;if(typeof fidelity==="string"){cov_1q73d7sky0().b[9][0]++;cov_1q73d7sky0().s[68]++;this.compareFlags.fidelity=parseInt(default_flag_args_1.fidelityLookup[fidelity],10);}else{cov_1q73d7sky0().b[9][1]++;}cov_1q73d7sky0().s[69]++;if(typeof markers==="string"){cov_1q73d7sky0().b[10][0]++;cov_1q73d7sky0().s[70]++;this.parsedConfig.markers=utils_1.parseMarkers(markers);}else{cov_1q73d7sky0().b[10][1]++;}cov_1q73d7sky0().s[71]++;if(typeof regressionThreshold==="string"){cov_1q73d7sky0().b[11][0]++;cov_1q73d7sky0().s[72]++;this.parsedConfig.regressionThreshold=parseInt(regressionThreshold,10);}else{cov_1q73d7sky0().b[11][1]++;}cov_1q73d7sky0().s[73]++;if(typeof controlURL===undefined){cov_1q73d7sky0().b[12][0]++;cov_1q73d7sky0().s[74]++;this.error("controlURL is required either in the tbconfig.json or as cli flag");}else{cov_1q73d7sky0().b[12][1]++;}cov_1q73d7sky0().s[75]++;if(typeof experimentURL===undefined){cov_1q73d7sky0().b[13][0]++;cov_1q73d7sky0().s[76]++;this.error("experimentURL is required either in the tbconfig.json or as cli flag");}else{cov_1q73d7sky0().b[13][1]++;}// if headless flag is true include the headless flags
cov_1q73d7sky0().s[77]++;if(headless){cov_1q73d7sky0().b[14][0]++;cov_1q73d7sky0().s[78]++;this.parsedConfig.browserArgs=this.compareFlags.browserArgs.concat(default_flag_args_1.headlessFlags);}else{cov_1q73d7sky0().b[14][1]++;}// if the folder for the tracerbench results file
// does not exist then create it
cov_1q73d7sky0().s[79]++;fs.mkdirpSync(path.join(tbResultsFolder,"traces"));}/**
     * Final result of the configs are in the following order:
     *
     * controlConfigs = tbconfig:controlBenchmarkEnvironment > command line > tbconfig > default
     * experimentConfigs = tbconfig:experimentBenchmarkEnvironment > command line > tbconfig > default
     *
     * This functions handles the tsconfig:** part since it is assumed that parent function that passed input "flags"
     * would've handled "command line > tbconfig > default"
     *
     * @param this.parsedConfig - Object containing configs parsed from the Command class
     */generateControlExperimentServerConfig(){cov_1q73d7sky0().f[7]++;const stdio=(cov_1q73d7sky0().s[80]++,this.parsedConfig.debug?(cov_1q73d7sky0().b[15][0]++,"inherit"):(cov_1q73d7sky0().b[15][1]++,"ignore"));const controlBrowser=(cov_1q73d7sky0().s[81]++,{stdio,additionalArguments:this.compareFlags.browserArgs});const experimentBrowser=(cov_1q73d7sky0().s[82]++,{stdio,additionalArguments:this.compareFlags.browserArgs});// config for the browsers to leverage socks proxy
cov_1q73d7sky0().s[83]++;if(this.parsedConfig.socksPorts){cov_1q73d7sky0().b[16][0]++;cov_1q73d7sky0().s[84]++;if(controlBrowser.additionalArguments){cov_1q73d7sky0().b[17][0]++;cov_1q73d7sky0().s[85]++;controlBrowser.additionalArguments=controlBrowser.additionalArguments.concat([`--proxy-server=socks5://0.0.0.0:${this.parsedConfig.socksPorts[0]}`]);}else{cov_1q73d7sky0().b[17][1]++;}cov_1q73d7sky0().s[86]++;if(experimentBrowser.additionalArguments){cov_1q73d7sky0().b[18][0]++;cov_1q73d7sky0().s[87]++;experimentBrowser.additionalArguments=experimentBrowser.additionalArguments.concat([`--proxy-server=socks5://0.0.0.0:${this.parsedConfig.socksPorts[1]}`]);}else{cov_1q73d7sky0().b[18][1]++;}}else{cov_1q73d7sky0().b[16][1]++;}const controlNetwork=(cov_1q73d7sky0().s[88]++,utils_1.checkEnvironmentSpecificOverride("network",this.compareFlags,tb_config_1.CONTROL_ENV_OVERRIDE_ATTR,this.parsedConfig));const controlEmulateDevice=(cov_1q73d7sky0().s[89]++,utils_1.checkEnvironmentSpecificOverride("emulateDevice",this.compareFlags,tb_config_1.CONTROL_ENV_OVERRIDE_ATTR,this.parsedConfig));const controlEmulateDeviceOrientation=(cov_1q73d7sky0().s[90]++,utils_1.checkEnvironmentSpecificOverride("emulateDeviceOrientation",this.compareFlags,tb_config_1.CONTROL_ENV_OVERRIDE_ATTR,this.parsedConfig));const experimentNetwork=(cov_1q73d7sky0().s[91]++,utils_1.checkEnvironmentSpecificOverride("network",this.compareFlags,tb_config_1.EXPERIMENT_ENV_OVERRIDE_ATTR,this.parsedConfig));const experimentEmulateDevice=(cov_1q73d7sky0().s[92]++,utils_1.checkEnvironmentSpecificOverride("emulateDevice",this.compareFlags,tb_config_1.EXPERIMENT_ENV_OVERRIDE_ATTR,this.parsedConfig));const experimentEmulateDeviceOrientation=(cov_1q73d7sky0().s[93]++,utils_1.checkEnvironmentSpecificOverride("emulateDeviceOrientation",this.compareFlags,tb_config_1.EXPERIMENT_ENV_OVERRIDE_ATTR,this.parsedConfig));const controlDeviceSettings=(cov_1q73d7sky0().s[94]++,controlEmulateDevice?(cov_1q73d7sky0().b[19][0]++,device_settings_1.getEmulateDeviceSettingForKeyAndOrientation(controlEmulateDevice,controlEmulateDeviceOrientation)):(cov_1q73d7sky0().b[19][1]++,{}));const controlSettings=(cov_1q73d7sky0().s[95]++,["control",this.compareFlags.controlURL,this.compareFlags.markers,{spawnOptions:controlBrowser,pageSetupOptions:Object.assign(Object.assign({cpuThrottlingRate:utils_1.checkEnvironmentSpecificOverride("cpuThrottleRate",this.compareFlags,tb_config_1.CONTROL_ENV_OVERRIDE_ATTR,this.parsedConfig)},controlDeviceSettings),{emulateNetworkConditions:controlNetwork?(cov_1q73d7sky0().b[20][0]++,core_1.networkConditions[controlNetwork]):(cov_1q73d7sky0().b[20][1]++,this.compareFlags.network)}),traceOptions:{captureV8RuntimeStats:this.compareFlags.runtimeStats,saveTraceAs:(group,i)=>{cov_1q73d7sky0().f[8]++;cov_1q73d7sky0().s[96]++;return`${this.compareFlags.tbResultsFolder}/traces/${group}${i}.json`;}}}]);const experimentDeviceSettings=(cov_1q73d7sky0().s[97]++,experimentEmulateDevice?(cov_1q73d7sky0().b[21][0]++,device_settings_1.getEmulateDeviceSettingForKeyAndOrientation(experimentEmulateDevice,experimentEmulateDeviceOrientation)):(cov_1q73d7sky0().b[21][1]++,{}));const experimentSettings=(cov_1q73d7sky0().s[98]++,["experiment",this.compareFlags.experimentURL,this.compareFlags.markers,{spawnOptions:experimentBrowser,pageSetupOptions:Object.assign(Object.assign({cpuThrottlingRate:utils_1.checkEnvironmentSpecificOverride("cpuThrottleRate",this.compareFlags,tb_config_1.EXPERIMENT_ENV_OVERRIDE_ATTR,this.parsedConfig)},experimentDeviceSettings),{emulateNetworkConditions:experimentNetwork?(cov_1q73d7sky0().b[22][0]++,core_1.networkConditions[experimentNetwork]):(cov_1q73d7sky0().b[22][1]++,this.compareFlags.network)}),traceOptions:{captureV8RuntimeStats:this.compareFlags.runtimeStats,saveTraceAs:(group,i)=>{cov_1q73d7sky0().f[9]++;cov_1q73d7sky0().s[99]++;return`${this.compareFlags.tbResultsFolder}/traces/${group}${i}.json`;}}}]);cov_1q73d7sky0().s[100]++;return[controlSettings,experimentSettings];}}cov_1q73d7sky0().s[101]++;exports.default=Compare;cov_1q73d7sky0().s[102]++;Compare.description="Compare the performance delta between an experiment and control";cov_1q73d7sky0().s[103]++;Compare.flags={hideAnalysis:command_1.flags.boolean({default:false,description:"Hide the the analysis output in terminal"}),browserArgs:flags_1.browserArgs({required:true}),cpuThrottleRate:flags_1.cpuThrottleRate({required:true}),fidelity:flags_1.fidelity({required:true}),markers:flags_1.markers({required:true}),network:flags_1.network({required:true}),tbResultsFolder:flags_1.tbResultsFolder({required:true}),controlURL:flags_1.controlURL({required:false}),experimentURL:flags_1.experimentURL({required:false}),emulateDevice:flags_1.emulateDevice(),emulateDeviceOrientation:flags_1.emulateDeviceOrientation(),socksPorts:flags_1.socksPorts(),regressionThreshold:flags_1.regressionThreshold(),sampleTimeout:flags_1.sampleTimeout(),config:flags_1.config(),runtimeStats:flags_1.runtimeStats,report:flags_1.report,debug:flags_1.debug,headless:flags_1.headless,isCIEnv:flags_1.isCIEnv()};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL21hbHluY2gvRC90cmFjZXJiZW5jaC9wYWNrYWdlcy9jbGkvc3JjL2NvbW1hbmRzL2NvbXBhcmUvaW5kZXgudHMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWx5bmNoL0QvdHJhY2VyYmVuY2gvcGFja2FnZXMvY2xpL3NyYy9jb21tYW5kcy9jb21wYXJlL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSw2REFBNkQ7QUFDN0QsdURBQXVEOztBQUV2RCw0Q0FBcUQ7QUFFckQsNENBTTJCO0FBRzNCLCtCQUErQjtBQUMvQiw2QkFBNkI7QUFFN0IseURBQWdFO0FBQ2hFLDhFQUlnRDtBQUNoRCw4REFJd0M7QUFDeEMsbUVBQTRGO0FBQzVGLCtDQW9CNkI7QUFDN0IsK0NBTzZCO0FBQzdCLHVDQUF1QztBQUN2QyxxQ0FBcUM7QUFDckMsOERBQThEO0FBQzlELE1BQU0sUUFBUSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztBQXdCckMsTUFBcUIsT0FBUSxTQUFRLDhCQUFhO0lBa0NoRCxZQUFZLElBQWMsRUFBRSxNQUFlO1FBQ3pDLEtBQUssQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFOZixpQkFBWSxHQUFjLG1DQUFlLENBQUM7UUFJMUMsdUJBQWtCLEdBQUcsRUFBRSxDQUFDO1FBRzdCLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO1FBQzFCLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBc0IsQ0FBQztJQUM3QyxDQUFDO0lBRUQsaUNBQWlDO0lBQzFCLEtBQUssQ0FBQyxJQUFJO1FBQ2YsTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdEMsSUFBSSxDQUFDLFlBQVksR0FBRywwQkFBUyxDQUFDLEtBQUssQ0FBQyxNQUFNLEVB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USxFQUFFLElBQUksRUFBRSxDQUFDO0lBQ3BELFVBQVUsRUFBRSxrQkFBVSxDQUFDLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxDQUFDO0lBQzNDLGFBQWEsRUFBRSxxQkFBYSxDQUFDLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxDQUFDO0lBQ2pELGFBQWEsRUFBRSxxQkFBYSxFQUFFO0lBQzlCLHdCQUF3QixFQUFFLGdDQUF3QixFQUFFO0lBQ3BELFVBQVUsRUFBRSxrQkFBVSxFQUFFO0lBQ3hCLG1CQUFtQixFQUFFLDJCQUFtQixFQUFFO0lBQzFDLGFBQWEsRUFBRSxxQkFBYSxFQUFFO0lBQzlCLE1BQU0sRUFBRSxjQUFNLEVBQUU7SUFDaEIsWUFBWSxFQUFaLG9CQUFZO0lBQ1osTUFBTSxFQUFOLGNBQU07SUFDTixLQUFLLEVBQUwsYUFBSztJQUNMLFFBQVEsRUFBUixnQkFBUTtJQUNSLE9BQU8sRUFBRSxlQUFPLEVBQUU7Q0FDbkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24gKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cblxuaW1wb3J0IHsgZmxhZ3MgYXMgb2NsaWZGbGFncyB9IGZyb20gXCJAb2NsaWYvY29tbWFuZFwiO1xuaW1wb3J0IHsgSUNvbmZpZyB9IGZyb20gXCJAb2NsaWYvY29uZmlnXCI7XG5pbXBvcnQge1xuICBjcmVhdGVUcmFjZU5hdmlnYXRpb25CZW5jaG1hcmssXG4gIE1hcmtlcixcbiAgTmF2aWdhdGlvbkJlbmNobWFya09wdGlvbnMsXG4gIG5ldHdvcmtDb25kaXRpb25zLFxuICBydW4sXG59IGZyb20gXCJAdHJhY2VyYmVuY2gvY29yZVwiO1xuaW1wb3J0IHR5cGUgeyBDaHJvbWVTcGF3bk9wdGlvbnMgfSBmcm9tIFwiQHRyYWNlcmJlbmNoL3NwYXduLWNocm9tZVwiO1xuaW1wb3J0IFByb3RvY29sIGZyb20gXCJkZXZ0b29scy1wcm90b2NvbFwiO1xuaW1wb3J0ICogYXMgZnMgZnJvbSBcImZzLWV4dHJhXCI7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gXCJwYXRoXCI7XG5cbmltcG9ydCB7IGdldENvbmZpZywgVEJCYXNlQ29tbWFuZCB9IGZyb20gXCIuLi8uLi9jb21tYW5kLWNvbmZpZ1wiO1xuaW1wb3J0IHtcbiAgZGVmYXVsdEZsYWdBcmdzLFxuICBmaWRlbGl0eUxvb2t1cCxcbiAgaGVhZGxlc3NGbGFncyxcbn0gZnJvbSBcIi4uLy4uL2NvbW1hbmQtY29uZmlnL2RlZmF1bHQtZmxhZy1hcmdzXCI7XG5pbXBvcnQge1xuICBDT05UUk9MX0VOVl9PVkVSUklERV9BVFRSLFxuICBFWFBFUklNRU5UX0VOVl9PVkVSUklERV9BVFRSLFxuICBJVEJDb25maWcsXG59IGZyb20gXCIuLi8uLi9jb21tYW5kLWNvbmZpZy90Yi1jb25maWdcIjtcbmltcG9ydCB7IGdldEVtdWxhdGVEZXZpY2VTZXR0aW5nRm9yS2V5QW5kT3JpZW50YXRpb24gfSBmcm9tIFwiLi4vLi4vaGVscGVycy9kZXZpY2Utc2V0dGluZ3NcIjtcbmltcG9ydCB7XG4gIGJyb3dzZXJBcmdzLFxuICBjb25maWcsXG4gIGNvbnRyb2xVUkwsXG4gIGNwdVRocm90dGxlUmF0ZSxcbiAgZGVidWcsXG4gIGVtdWxhdGVEZXZpY2UsXG4gIGVtdWxhdGVEZXZpY2VPcmllbnRhdGlvbixcbiAgZXhwZXJpbWVudFVSTCxcbiAgZmlkZWxpdHksXG4gIGhlYWRsZXNzLFxuICBpc0NJRW52LFxuICBtYXJrZXJzLFxuICBuZXR3b3JrLFxuICByZWdyZXNzaW9uVGhyZXNob2xkLFxuICByZXBvcnQsXG4gIHJ1bnRpbWVTdGF0cyxcbiAgc2FtcGxlVGltZW91dCxcbiAgc29ja3NQb3J0cyxcbiAgdGJSZXN1bHRzRm9sZGVyLFxufSBmcm9tIFwiLi4vLi4vaGVscGVycy9mbGFnc1wiO1xuaW1wb3J0IHtcbiAgY2hhbGtTY2hlbWUsXG4gIGNoZWNrRW52aXJvbm1lbnRTcGVjaWZpY092ZXJyaWRlLFxuICBkdXJhdGlvbkluU2VjLFxuICBwYXJzZU1hcmtlcnMsXG4gIHNlY29uZHNUb1RpbWUsXG4gIHRpbWVzdGFtcCxcbn0gZnJvbSBcIi4uLy4uL2hlbHBlcnMvdXRpbHNcIjtcbmltcG9ydCBDb21wYXJlQW5hbHl6ZSBmcm9tIFwiLi9hbmFseXplXCI7XG5pbXBvcnQgQ29tcGFyZVJlcG9ydCBmcm9tIFwiLi9yZXBvcnRcIjtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdmFyLXJlcXVpcmVzXG5jb25zdCBhcmNoaXZlciA9IHJlcXVpcmUoXCJhcmNoaXZlclwiKTtcbmV4cG9ydCBpbnRlcmZhY2UgSUNvbXBhcmVGbGFncyB7XG4gIGhpZGVBbmFseXNpczogYm9vbGVhbjtcbiAgYnJvd3NlckFyZ3M6IHN0cmluZ1tdO1xuICBjcHVUaHJvdHRsZVJhdGU6IG51bWJlcjtcbiAgZmlkZWxpdHk6IG51bWJlcjtcbiAgbWFya2VyczogTWFya2VyW107XG4gIG5ldHdvcms6IFByb3RvY29sLk5ldHdvcmsuRW11bGF0ZU5ldHdvcmtDb25kaXRpb25zUmVxdWVzdDtcbiAgdGJSZXN1bHRzRm9sZGVyOiBzdHJpbmc7XG4gIGNvbnRyb2xVUkw6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgZXhwZXJpbWVudFVSTDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBydW50aW1lU3RhdHM6IGJvb2xlYW47XG4gIGVtdWxhdGVEZXZpY2U/OiBzdHJpbmc7XG4gIGVtdWxhdGVEZXZpY2VPcmllbnRhdGlvbj86IHN0cmluZztcbiAgc29ja3NQb3J0cz86IFtzdHJpbmcsIHN0cmluZ10gfCBbbnVtYmVyLCBudW1iZXJdIHwgdW5kZWZpbmVkO1xuICBkZWJ1ZzogYm9vbGVhbjtcbiAgcmVncmVzc2lvblRocmVzaG9sZD86IG51bWJlcjtcbiAgc2FtcGxlVGltZW91dDogbnVtYmVyO1xuICBoZWFkbGVzczogYm9vbGVhbjtcbiAgY29uZmlnPzogc3RyaW5nO1xuICByZXBvcnQ/OiBib29sZWFuO1xuICBpc0NJRW52PzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcGFyZSBleHRlbmRzIFRCQmFzZUNvbW1hbmQge1xuICBwdWJsaWMgc3RhdGljIGRlc2NyaXB0aW9uID1cbiAgICBcIkNvbXBhcmUgdGhlIHBlcmZvcm1hbmNlIGRlbHRhIGJldHdlZW4gYW4gZXhwZXJpbWVudCBhbmQgY29udHJvbFwiO1xuICBwdWJsaWMgc3RhdGljIGZsYWdzOiBvY2xpZkZsYWdzLklucHV0PGFueT4gPSB7XG4gICAgaGlkZUFuYWx5c2lzOiBvY2xpZkZsYWdzLmJvb2xlYW4oe1xuICAgICAgZGVmYXVsdDogZmFsc2UsXG4gICAgICBkZXNjcmlwdGlvbjogXCJIaWRlIHRoZSB0aGUgYW5hbHlzaXMgb3V0cHV0IGluIHRlcm1pbmFsXCIsXG4gICAgfSksXG4gICAgYnJvd3NlckFyZ3M6IGJyb3dzZXJBcmdzKHsgcmVxdWlyZWQ6IHRydWUgfSksXG4gICAgY3B1VGhyb3R0bGVSYXRlOiBjcHVUaHJvdHRsZVJhdGUoeyByZXF1aXJlZDogdHJ1ZSB9KSxcbiAgICBmaWRlbGl0eTogZmlkZWxpdHkoeyByZXF1aXJlZDogdHJ1ZSB9KSxcbiAgICBtYXJrZXJzOiBtYXJrZXJzKHsgcmVxdWlyZWQ6IHRydWUgfSksXG4gICAgbmV0d29yazogbmV0d29yayh7IHJlcXVpcmVkOiB0cnVlIH0pLFxuICAgIHRiUmVzdWx0c0ZvbGRlcjogdGJSZXN1bHRzRm9sZGVyKHsgcmVxdWlyZWQ6IHRydWUgfSksXG4gICAgY29udHJvbFVSTDogY29udHJvbFVSTCh7IHJlcXVpcmVkOiBmYWxzZSB9KSxcbiAgICBleHBlcmltZW50VVJMOiBleHBlcmltZW50VVJMKHsgcmVxdWlyZWQ6IGZhbHNlIH0pLFxuICAgIGVtdWxhdGVEZXZpY2U6IGVtdWxhdGVEZXZpY2UoKSxcbiAgICBlbXVsYXRlRGV2aWNlT3JpZW50YXRpb246IGVtdWxhdGVEZXZpY2VPcmllbnRhdGlvbigpLFxuICAgIHNvY2tzUG9ydHM6IHNvY2tzUG9ydHMoKSxcbiAgICByZWdyZXNzaW9uVGhyZXNob2xkOiByZWdyZXNzaW9uVGhyZXNob2xkKCksXG4gICAgc2FtcGxlVGltZW91dDogc2FtcGxlVGltZW91dCgpLFxuICAgIGNvbmZpZzogY29uZmlnKCksXG4gICAgcnVudGltZVN0YXRzLFxuICAgIHJlcG9ydCxcbiAgICBkZWJ1ZyxcbiAgICBoZWFkbGVzcyxcbiAgICBpc0NJRW52OiBpc0NJRW52KCksXG4gIH07XG4gIHB1YmxpYyBjb21wYXJlRmxhZ3M6IElDb21wYXJlRmxhZ3M7XG4gIHB1YmxpYyBwYXJzZWRDb25maWc6IElUQkNvbmZpZyA9IGRlZmF1bHRGbGFnQXJncztcbiAgLy8gZmxhZ3MgZXhwbGljaXRseSBzcGVjaWZpZWQgd2l0aGluIHRoZSBjbGkgd2hlblxuICAvLyBydW5uaW5nIHRoZSBjb21tYW5kLiB0aGVzZSB3aWxsIG92ZXJyaWRlIGFsbFxuICBwdWJsaWMgZXhwbGljaXRGbGFnczogc3RyaW5nW107XG4gIHB1YmxpYyBhbmFseXplZEpTT05TdHJpbmcgPSBcIlwiO1xuICBjb25zdHJ1Y3Rvcihhcmd2OiBzdHJpbmdbXSwgY29uZmlnOiBJQ29uZmlnKSB7XG4gICAgc3VwZXIoYXJndiwgY29uZmlnKTtcbiAgICBjb25zdCB7IGZsYWdzIH0gPSB0aGlzLnBhcnNlKENvbXBhcmUpO1xuICAgIHRoaXMuZXhwbGljaXRGbGFncyA9IGFyZ3Y7XG4gICAgdGhpcy5jb21wYXJlRmxhZ3MgPSBmbGFncyBhcyBJQ29tcGFyZUZsYWdzO1xuICB9XG5cbiAgLy8gaW5zdGFudGlhdGVkIGJlZm9yZSB0aGlzLnJ1bigpXG4gIHB1YmxpYyBhc3luYyBpbml0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHsgZmxhZ3MgfSA9IHRoaXMucGFyc2UoQ29tcGFyZSk7XG4gICAgdGhpcy5wYXJzZWRDb25maWcgPSBnZXRDb25maWcoZmxhZ3MuY29uZmlnLCBmbGFncywgdGhpcy5leHBsaWNpdEZsYWdzKTtcbiAgICB0aGlzLmNvbXBhcmVGbGFncyA9IGZsYWdzIGFzIElDb21wYXJlRmxhZ3M7XG4gICAgYXdhaXQgdGhpcy5wYXJzZUZsYWdzKCk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgcnVuKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3QgeyBoaWRlQW5hbHlzaXMgfSA9IHRoaXMuY29tcGFyZUZsYWdzO1xuICAgIGNvbnN0IFtcbiAgICAgIGNvbnRyb2xTZXR0aW5ncyxcbiAgICAgIGV4cGVyaW1lbnRTZXR0aW5ncyxcbiAgICBdID0gdGhpcy5nZW5lcmF0ZUNvbnRyb2xFeHBlcmltZW50U2VydmVyQ29uZmlnKCk7XG5cbiAgICAvLyB0aGlzIHNob3VsZCBiZSBkaXJlY3RseSBhYm92ZSB0aGUgaW5zdGFudGlhdGlvbiBvZiB0aGUgSW5pdGlhbFJlbmRlckJlbmNobWFya3NcbiAgICBpZiAodGhpcy5wYXJzZWRDb25maWcuZGVidWcpIHtcbiAgICAgIE9iamVjdC5lbnRyaWVzKHRoaXMucGFyc2VkQ29uZmlnKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgdGhpcy5sb2coYCR7a2V5fTogJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9YCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGJlbmNobWFya3MgPSB7XG4gICAgICBjb250cm9sOiBjcmVhdGVUcmFjZU5hdmlnYXRpb25CZW5jaG1hcmsoLi4uY29udHJvbFNldHRpbmdzKSxcbiAgICAgIGV4cGVyaW1lbnQ6IGNyZWF0ZVRyYWNlTmF2aWdhdGlvbkJlbmNobWFyayguLi5leHBlcmltZW50U2V0dGluZ3MpLFxuICAgIH07XG5cbiAgICBjb25zdCBzYW1wbGVUaW1lb3V0ID0gdGhpcy5wYXJzZWRDb25maWcuc2FtcGxlVGltZW91dDtcblxuICAgIGNvbnN0IHN0YXJ0VGltZSA9IHRpbWVzdGFtcCgpO1xuICAgIGNvbnN0IHJlc3VsdHMgPSAoXG4gICAgICBhd2FpdCBydW4oXG4gICAgICAgIFtiZW5jaG1hcmtzLmNvbnRyb2wsIGJlbmNobWFya3MuZXhwZXJpbWVudF0sXG4gICAgICAgIHRoaXMucGFyc2VkQ29uZmlnLmZpZGVsaXR5IGFzIG51bWJlcixcbiAgICAgICAgKGVsYXNwZWQsIGNvbXBsZXRlZCwgcmVtYWluaW5nLCBncm91cCwgaXRlcmF0aW9uKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbXBsZXRlZCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGF2ZXJhZ2UgPSBlbGFzcGVkIC8gY29tcGxldGVkO1xuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nU2VjcyA9IE1hdGgucm91bmQoKHJlbWFpbmluZyAqIGF2ZXJhZ2UpIC8gMTAwMCk7XG4gICAgICAgICAgICBjb25zdCByZW1haW5pbmdUaW1lID0gc2Vjb25kc1RvVGltZShyZW1haW5pbmdTZWNzKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICBcIiVzOiAlcyAlcyByZW1haW5pbmdcIixcbiAgICAgICAgICAgICAgZ3JvdXAucGFkU3RhcnQoMTUpLFxuICAgICAgICAgICAgICBpdGVyYXRpb24udG9TdHJpbmcoKS5wYWRTdGFydCgyKSxcbiAgICAgICAgICAgICAgYCR7cmVtYWluaW5nVGltZX1gLnBhZFN0YXJ0KDEwKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgIFwiJXM6ICVzXCIsXG4gICAgICAgICAgICAgIGdyb3VwLnBhZFN0YXJ0KDE1KSxcbiAgICAgICAgICAgICAgaXRlcmF0aW9uLnRvU3RyaW5nKCkucGFkU3RhcnQoMilcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgc2FtcGxlVGltZW91dE1zOiBzYW1wbGVUaW1lb3V0ICYmIHNhbXBsZVRpbWVvdXQgKiAxMDAwLFxuICAgICAgICB9XG4gICAgICApXG4gICAgKS5tYXAoKHsgZ3JvdXAsIHNhbXBsZXMgfSkgPT4ge1xuICAgICAgY29uc3QgbWV0YSA9IHNhbXBsZXMubGVuZ3RoID4gMCA/IHNhbXBsZXNbMF0ubWV0YWRhdGEgOiB7fTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdyb3VwLFxuICAgICAgICBzZXQ6IGdyb3VwLFxuICAgICAgICBzYW1wbGVzLFxuICAgICAgICBtZXRhLFxuICAgICAgfTtcbiAgICB9KTtcbiAgICBjb25zdCBlbmRUaW1lID0gdGltZXN0YW1wKCk7XG4gICAgaWYgKCFyZXN1bHRzWzBdLnNhbXBsZXNbMF0pIHtcbiAgICAgIHRoaXMuZXJyb3IoXG4gICAgICAgIGBDb3VsZCBub3Qgc2FtcGxlIGZyb20gcHJvdmlkZWQgdXJsc1xcbkNPTlRST0w6ICR7dGhpcy5wYXJzZWRDb25maWcuY29udHJvbFVSTH1cXG5FWFBFUklNRU5UOiAke3RoaXMucGFyc2VkQ29uZmlnLmV4cGVyaW1lbnRVUkx9LmBcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdEpTT05QYXRoID0gYCR7dGhpcy5wYXJzZWRDb25maWcudGJSZXN1bHRzRm9sZGVyfS9jb21wYXJlLmpzb25gO1xuXG4gICAgZnMud3JpdGVGaWxlU3luYyhyZXN1bHRKU09OUGF0aCwgSlNPTi5zdHJpbmdpZnkocmVzdWx0cykpO1xuXG4gICAgY29uc3QgdHJhY2VzRGlyID0gYCR7dGhpcy5wYXJzZWRDb25maWcudGJSZXN1bHRzRm9sZGVyfS90cmFjZXNgO1xuICAgIGNvbnN0IHppcE91dHB1dCA9IGZzLmNyZWF0ZVdyaXRlU3RyZWFtKFxuICAgICAgYCR7dGhpcy5wYXJzZWRDb25maWcudGJSZXN1bHRzRm9sZGVyfS90cmFjZXMuemlwYFxuICAgICk7XG4gICAgY29uc3QgYXJjaGl2ZSA9IGFyY2hpdmVyKFwiemlwXCIsIHtcbiAgICAgIHpsaWI6IHsgbGV2ZWw6IDkgfSxcbiAgICB9KTtcbiAgICBhcmNoaXZlLmRpcmVjdG9yeSh0cmFjZXNEaXIsIFwidHJhY2VzXCIpO1xuICAgIGFyY2hpdmUucGlwZSh6aXBPdXRwdXQpO1xuICAgIGFyY2hpdmUuZmluYWxpemUoKTtcbiAgICBjb25zdCBkdXJhdGlvbiA9IHNlY29uZHNUb1RpbWUoZHVyYXRpb25JblNlYyhlbmRUaW1lLCBzdGFydFRpbWUpKTtcbiAgICBjb25zdCBtZXNzYWdlID0gYCR7Y2hhbGtTY2hlbWUuYmxhY2tCZ0dyZWVuKFxuICAgICAgYCAgICAke2NoYWxrU2NoZW1lLndoaXRlKFwiU1VDQ0VTU1wiKX0gICAgYFxuICAgICl9ICR7dGhpcy5wYXJzZWRDb25maWcuZmlkZWxpdHl9IHRlc3Qgc2FtcGxlcyB0b29rICR7ZHVyYXRpb259YDtcblxuICAgIHRoaXMubG9nKGBcXG4ke21lc3NhZ2V9YCk7XG5cbiAgICBpZiAoIWhpZGVBbmFseXNpcykge1xuICAgICAgdGhpcy5hbmFseXplZEpTT05TdHJpbmcgPSBhd2FpdCBDb21wYXJlQW5hbHl6ZS5ydW4oW1xuICAgICAgICByZXN1bHRKU09OUGF0aCxcbiAgICAgICAgXCItLWZpZGVsaXR5XCIsXG4gICAgICAgIGAke3RoaXMucGFyc2VkQ29uZmlnLmZpZGVsaXR5fWAsXG4gICAgICAgIFwiLS1yZWdyZXNzaW9uVGhyZXNob2xkXCIsXG4gICAgICAgIGAke3RoaXMucGFyc2VkQ29uZmlnLnJlZ3Jlc3Npb25UaHJlc2hvbGR9YCxcbiAgICAgICAgXCItLWlzQ0lFbnZcIixcbiAgICAgICAgYCR7dGhpcy5wYXJzZWRDb25maWcuaXNDSUVudn1gLFxuICAgICAgXSk7XG5cbiAgICAgIGZzLndyaXRlRmlsZVN5bmMoXG4gICAgICAgIGAke3RoaXMucGFyc2VkQ29uZmlnLnRiUmVzdWx0c0ZvbGRlcn0vcmVwb3J0Lmpzb25gLFxuICAgICAgICB0aGlzLmFuYWx5emVkSlNPTlN0cmluZ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBpZiB3ZSB3YW50IHRvIHJ1biB0aGUgQ29tcGFyZVJlcG9ydCB3aXRob3V0IGNhbGxpbmcgYSBzZXBhcmF0ZSBjb21tYW5kXG4gICAgaWYgKHRoaXMucGFyc2VkQ29uZmlnLnJlcG9ydCkge1xuICAgICAgYXdhaXQgQ29tcGFyZVJlcG9ydC5ydW4oW1xuICAgICAgICBcIi0tdGJSZXN1bHRzRm9sZGVyXCIsXG4gICAgICAgIGAke3RoaXMucGFyc2VkQ29uZmlnLnRiUmVzdWx0c0ZvbGRlcn1gLFxuICAgICAgICBcIi0tY29uZmlnXCIsXG4gICAgICAgIGAke3RoaXMucGFyc2VkQ29uZmlnLmNvbmZpZ31gLFxuICAgICAgXSk7XG4gICAgfVxuXG4gICAgLy8gd2l0aCBkZWJ1ZyBmbGFnIG91dHB1dCB0aHJlZSBmaWxlc1xuICAgIC8vIG9uIGNvbmZpZyBzcGVjaWZpY3NcbiAgICBpZiAodGhpcy5wYXJzZWRDb25maWcuZGVidWcpIHtcbiAgICAgIGZzLndyaXRlRmlsZVN5bmMoXG4gICAgICAgIGAke3RoaXMucGFyc2VkQ29uZmlnLnRiUmVzdWx0c0ZvbGRlcn0vc2VydmVyLWNvbnRyb2wtc2V0dGluZ3MuanNvbmAsXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oY29udHJvbFNldHRpbmdzKSwgbnVsbCwgMilcbiAgICAgICk7XG5cbiAgICAgIGZzLndyaXRlRmlsZVN5bmMoXG4gICAgICAgIGAke3RoaXMucGFyc2VkQ29uZmlnLnRiUmVzdWx0c0ZvbGRlcn0vc2VydmVyLWV4cGVyaW1lbnQtc2V0dGluZ3MuanNvbmAsXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oZXhwZXJpbWVudFNldHRpbmdzKSwgbnVsbCwgMilcbiAgICAgICk7XG5cbiAgICAgIGZzLndyaXRlRmlsZVN5bmMoXG4gICAgICAgIGAke3RoaXMucGFyc2VkQ29uZmlnLnRiUmVzdWx0c0ZvbGRlcn0vY29tcGFyZS1mbGFncy1zZXR0aW5ncy5qc29uYCxcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmFzc2lnbih0aGlzLnBhcnNlZENvbmZpZyksIG51bGwsIDIpXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmFuYWx5emVkSlNPTlN0cmluZztcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcGFyc2VGbGFncygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB7XG4gICAgICB0YlJlc3VsdHNGb2xkZXIsXG4gICAgICBmaWRlbGl0eSxcbiAgICAgIG1hcmtlcnMsXG4gICAgICByZWdyZXNzaW9uVGhyZXNob2xkLFxuICAgICAgaGVhZGxlc3MsXG4gICAgICBjb250cm9sVVJMLFxuICAgICAgZXhwZXJpbWVudFVSTCxcbiAgICB9ID0gKHRoaXMucGFyc2VkQ29uZmlnIGFzIHVua25vd24pIGFzIElDb21wYXJlRmxhZ3M7XG5cbiAgICAvLyBtb2RpZmllcyBwcm9wZXJ0aWVzIG9mIGZsYWdzIHRoYXQgd2VyZSBub3Qgc2V0XG4gICAgLy8gZHVyaW5nIGZsYWcucGFyc2UoKS4gdGhlc2UgYXJlIGludGVudGlvbmFsbHlcbiAgICAvLyBub3QgZGVjb25zdHJ1Y3RlZCBhcyB0byBtYWludGFpbiB0aGUgbXV0YWJsZVxuICAgIC8vIGZsYWdzIG9iamVjdCBzdGF0ZVxuICAgIGlmICh0eXBlb2YgZmlkZWxpdHkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRoaXMuY29tcGFyZUZsYWdzLmZpZGVsaXR5ID0gcGFyc2VJbnQoXG4gICAgICAgIChmaWRlbGl0eUxvb2t1cCBhcyBhbnkpW2ZpZGVsaXR5XSxcbiAgICAgICAgMTBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbWFya2VycyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhpcy5wYXJzZWRDb25maWcubWFya2VycyA9IHBhcnNlTWFya2VycyhtYXJrZXJzKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZWdyZXNzaW9uVGhyZXNob2xkID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aGlzLnBhcnNlZENvbmZpZy5yZWdyZXNzaW9uVGhyZXNob2xkID0gcGFyc2VJbnQocmVncmVzc2lvblRocmVzaG9sZCwgMTApO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbnRyb2xVUkwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5lcnJvcihcbiAgICAgICAgXCJjb250cm9sVVJMIGlzIHJlcXVpcmVkIGVpdGhlciBpbiB0aGUgdGJjb25maWcuanNvbiBvciBhcyBjbGkgZmxhZ1wiXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZXhwZXJpbWVudFVSTCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmVycm9yKFxuICAgICAgICBcImV4cGVyaW1lbnRVUkwgaXMgcmVxdWlyZWQgZWl0aGVyIGluIHRoZSB0YmNvbmZpZy5qc29uIG9yIGFzIGNsaSBmbGFnXCJcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gaWYgaGVhZGxlc3MgZmxhZyBpcyB0cnVlIGluY2x1ZGUgdGhlIGhlYWRsZXNzIGZsYWdzXG4gICAgaWYgKGhlYWRsZXNzKSB7XG4gICAgICB0aGlzLnBhcnNlZENvbmZpZy5icm93c2VyQXJncyA9IHRoaXMuY29tcGFyZUZsYWdzLmJyb3dzZXJBcmdzLmNvbmNhdChcbiAgICAgICAgaGVhZGxlc3NGbGFnc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBpZiB0aGUgZm9sZGVyIGZvciB0aGUgdHJhY2VyYmVuY2ggcmVzdWx0cyBmaWxlXG4gICAgLy8gZG9lcyBub3QgZXhpc3QgdGhlbiBjcmVhdGUgaXRcbiAgICBmcy5ta2RpcnBTeW5jKHBhdGguam9pbih0YlJlc3VsdHNGb2xkZXIsIFwidHJhY2VzXCIpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5hbCByZXN1bHQgb2YgdGhlIGNvbmZpZ3MgYXJlIGluIHRoZSBmb2xsb3dpbmcgb3JkZXI6XG4gICAqXG4gICAqIGNvbnRyb2xDb25maWdzID0gdGJjb25maWc6Y29udHJvbEJlbmNobWFya0Vudmlyb25tZW50ID4gY29tbWFuZCBsaW5lID4gdGJjb25maWcgPiBkZWZhdWx0XG4gICAqIGV4cGVyaW1lbnRDb25maWdzID0gdGJjb25maWc6ZXhwZXJpbWVudEJlbmNobWFya0Vudmlyb25tZW50ID4gY29tbWFuZCBsaW5lID4gdGJjb25maWcgPiBkZWZhdWx0XG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb25zIGhhbmRsZXMgdGhlIHRzY29uZmlnOioqIHBhcnQgc2luY2UgaXQgaXMgYXNzdW1lZCB0aGF0IHBhcmVudCBmdW5jdGlvbiB0aGF0IHBhc3NlZCBpbnB1dCBcImZsYWdzXCJcbiAgICogd291bGQndmUgaGFuZGxlZCBcImNvbW1hbmQgbGluZSA+IHRiY29uZmlnID4gZGVmYXVsdFwiXG4gICAqXG4gICAqIEBwYXJhbSB0aGlzLnBhcnNlZENvbmZpZyAtIE9iamVjdCBjb250YWluaW5nIGNvbmZpZ3MgcGFyc2VkIGZyb20gdGhlIENvbW1hbmQgY2xhc3NcbiAgICovXG4gIHByaXZhdGUgZ2VuZXJhdGVDb250cm9sRXhwZXJpbWVudFNlcnZlckNvbmZpZygpOiBbXG4gICAgW3N0cmluZywgc3RyaW5nLCBNYXJrZXJbXSwgTmF2aWdhdGlvbkJlbmNobWFya09wdGlvbnNdLFxuICAgIFtzdHJpbmcsIHN0cmluZywgTWFya2VyW10sIE5hdmlnYXRpb25CZW5jaG1hcmtPcHRpb25zXVxuICBdIHtcbiAgICBjb25zdCBzdGRpbyA9IHRoaXMucGFyc2VkQ29uZmlnLmRlYnVnID8gXCJpbmhlcml0XCIgOiBcImlnbm9yZVwiO1xuICAgIGNvbnN0IGNvbnRyb2xCcm93c2VyOiBQYXJ0aWFsPENocm9tZVNwYXduT3B0aW9ucz4gPSB7XG4gICAgICBzdGRpbyxcbiAgICAgIGFkZGl0aW9uYWxBcmd1bWVudHM6IHRoaXMuY29tcGFyZUZsYWdzLmJyb3dzZXJBcmdzLFxuICAgIH07XG4gICAgY29uc3QgZXhwZXJpbWVudEJyb3dzZXI6IFBhcnRpYWw8Q2hyb21lU3Bhd25PcHRpb25zPiA9IHtcbiAgICAgIHN0ZGlvLFxuICAgICAgYWRkaXRpb25hbEFyZ3VtZW50czogdGhpcy5jb21wYXJlRmxhZ3MuYnJvd3NlckFyZ3MsXG4gICAgfTtcblxuICAgIC8vIGNvbmZpZyBmb3IgdGhlIGJyb3dzZXJzIHRvIGxldmVyYWdlIHNvY2tzIHByb3h5XG4gICAgaWYgKHRoaXMucGFyc2VkQ29uZmlnLnNvY2tzUG9ydHMpIHtcbiAgICAgIGlmIChjb250cm9sQnJvd3Nlci5hZGRpdGlvbmFsQXJndW1lbnRzKSB7XG4gICAgICAgIGNvbnRyb2xCcm93c2VyLmFkZGl0aW9uYWxBcmd1bWVudHMgPSBjb250cm9sQnJvd3Nlci5hZGRpdGlvbmFsQXJndW1lbnRzLmNvbmNhdChcbiAgICAgICAgICBbYC0tcHJveHktc2VydmVyPXNvY2tzNTovLzAuMC4wLjA6JHt0aGlzLnBhcnNlZENvbmZpZy5zb2Nrc1BvcnRzWzBdfWBdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoZXhwZXJpbWVudEJyb3dzZXIuYWRkaXRpb25hbEFyZ3VtZW50cykge1xuICAgICAgICBleHBlcmltZW50QnJvd3Nlci5hZGRpdGlvbmFsQXJndW1lbnRzID0gZXhwZXJpbWVudEJyb3dzZXIuYWRkaXRpb25hbEFyZ3VtZW50cy5jb25jYXQoXG4gICAgICAgICAgW2AtLXByb3h5LXNlcnZlcj1zb2NrczU6Ly8wLjAuMC4wOiR7dGhpcy5wYXJzZWRDb25maWcuc29ja3NQb3J0c1sxXX1gXVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjb250cm9sTmV0d29yazogc3RyaW5nID0gY2hlY2tFbnZpcm9ubWVudFNwZWNpZmljT3ZlcnJpZGUoXG4gICAgICBcIm5ldHdvcmtcIixcbiAgICAgIHRoaXMuY29tcGFyZUZsYWdzLFxuICAgICAgQ09OVFJPTF9FTlZfT1ZFUlJJREVfQVRUUixcbiAgICAgIHRoaXMucGFyc2VkQ29uZmlnXG4gICAgKTtcbiAgICBjb25zdCBjb250cm9sRW11bGF0ZURldmljZSA9IGNoZWNrRW52aXJvbm1lbnRTcGVjaWZpY092ZXJyaWRlKFxuICAgICAgXCJlbXVsYXRlRGV2aWNlXCIsXG4gICAgICB0aGlzLmNvbXBhcmVGbGFncyxcbiAgICAgIENPTlRST0xfRU5WX09WRVJSSURFX0FUVFIsXG4gICAgICB0aGlzLnBhcnNlZENvbmZpZ1xuICAgICk7XG4gICAgY29uc3QgY29udHJvbEVtdWxhdGVEZXZpY2VPcmllbnRhdGlvbiA9IGNoZWNrRW52aXJvbm1lbnRTcGVjaWZpY092ZXJyaWRlKFxuICAgICAgXCJlbXVsYXRlRGV2aWNlT3JpZW50YXRpb25cIixcbiAgICAgIHRoaXMuY29tcGFyZUZsYWdzLFxuICAgICAgQ09OVFJPTF9FTlZfT1ZFUlJJREVfQVRUUixcbiAgICAgIHRoaXMucGFyc2VkQ29uZmlnXG4gICAgKTtcbiAgICBjb25zdCBleHBlcmltZW50TmV0d29yazogc3RyaW5nID0gY2hlY2tFbnZpcm9ubWVudFNwZWNpZmljT3ZlcnJpZGUoXG4gICAgICBcIm5ldHdvcmtcIixcbiAgICAgIHRoaXMuY29tcGFyZUZsYWdzLFxuICAgICAgRVhQRVJJTUVOVF9FTlZfT1ZFUlJJREVfQVRUUixcbiAgICAgIHRoaXMucGFyc2VkQ29uZmlnXG4gICAgKTtcbiAgICBjb25zdCBleHBlcmltZW50RW11bGF0ZURldmljZSA9IGNoZWNrRW52aXJvbm1lbnRTcGVjaWZpY092ZXJyaWRlKFxuICAgICAgXCJlbXVsYXRlRGV2aWNlXCIsXG4gICAgICB0aGlzLmNvbXBhcmVGbGFncyxcbiAgICAgIEVYUEVSSU1FTlRfRU5WX09WRVJSSURFX0FUVFIsXG4gICAgICB0aGlzLnBhcnNlZENvbmZpZ1xuICAgICk7XG4gICAgY29uc3QgZXhwZXJpbWVudEVtdWxhdGVEZXZpY2VPcmllbnRhdGlvbiA9IGNoZWNrRW52aXJvbm1lbnRTcGVjaWZpY092ZXJyaWRlKFxuICAgICAgXCJlbXVsYXRlRGV2aWNlT3JpZW50YXRpb25cIixcbiAgICAgIHRoaXMuY29tcGFyZUZsYWdzLFxuICAgICAgRVhQRVJJTUVOVF9FTlZfT1ZFUlJJREVfQVRUUixcbiAgICAgIHRoaXMucGFyc2VkQ29uZmlnXG4gICAgKTtcblxuICAgIGNvbnN0IGNvbnRyb2xEZXZpY2VTZXR0aW5ncyA9IGNvbnRyb2xFbXVsYXRlRGV2aWNlXG4gICAgICA/IGdldEVtdWxhdGVEZXZpY2VTZXR0aW5nRm9yS2V5QW5kT3JpZW50YXRpb24oXG4gICAgICAgICAgY29udHJvbEVtdWxhdGVEZXZpY2UsXG4gICAgICAgICAgY29udHJvbEVtdWxhdGVEZXZpY2VPcmllbnRhdGlvblxuICAgICAgICApXG4gICAgICA6IHt9O1xuXG4gICAgY29uc3QgY29udHJvbFNldHRpbmdzOiBbXG4gICAgICBzdHJpbmcsXG4gICAgICBzdHJpbmcsXG4gICAgICBNYXJrZXJbXSxcbiAgICAgIE5hdmlnYXRpb25CZW5jaG1hcmtPcHRpb25zXG4gICAgXSA9IFtcbiAgICAgIFwiY29udHJvbFwiLFxuICAgICAgdGhpcy5jb21wYXJlRmxhZ3MuY29udHJvbFVSTCEsXG4gICAgICB0aGlzLmNvbXBhcmVGbGFncy5tYXJrZXJzLFxuICAgICAge1xuICAgICAgICBzcGF3bk9wdGlvbnM6IGNvbnRyb2xCcm93c2VyLFxuICAgICAgICBwYWdlU2V0dXBPcHRpb25zOiB7XG4gICAgICAgICAgY3B1VGhyb3R0bGluZ1JhdGU6IGNoZWNrRW52aXJvbm1lbnRTcGVjaWZpY092ZXJyaWRlKFxuICAgICAgICAgICAgXCJjcHVUaHJvdHRsZVJhdGVcIixcbiAgICAgICAgICAgIHRoaXMuY29tcGFyZUZsYWdzLFxuICAgICAgICAgICAgQ09OVFJPTF9FTlZfT1ZFUlJJREVfQVRUUixcbiAgICAgICAgICAgIHRoaXMucGFyc2VkQ29uZmlnXG4gICAgICAgICAgKSxcbiAgICAgICAgICAuLi5jb250cm9sRGV2aWNlU2V0dGluZ3MsXG4gICAgICAgICAgZW11bGF0ZU5ldHdvcmtDb25kaXRpb25zOiBjb250cm9sTmV0d29ya1xuICAgICAgICAgICAgPyBuZXR3b3JrQ29uZGl0aW9uc1tcbiAgICAgICAgICAgICAgICBjb250cm9sTmV0d29yayBhcyBrZXlvZiB0eXBlb2YgbmV0d29ya0NvbmRpdGlvbnNcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgOiB0aGlzLmNvbXBhcmVGbGFncy5uZXR3b3JrLFxuICAgICAgICB9LFxuICAgICAgICB0cmFjZU9wdGlvbnM6IHtcbiAgICAgICAgICBjYXB0dXJlVjhSdW50aW1lU3RhdHM6IHRoaXMuY29tcGFyZUZsYWdzLnJ1bnRpbWVTdGF0cyxcbiAgICAgICAgICBzYXZlVHJhY2VBczogKGdyb3VwLCBpKSA9PlxuICAgICAgICAgICAgYCR7dGhpcy5jb21wYXJlRmxhZ3MudGJSZXN1bHRzRm9sZGVyfS90cmFjZXMvJHtncm91cH0ke2l9Lmpzb25gLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgY29uc3QgZXhwZXJpbWVudERldmljZVNldHRpbmdzID0gZXhwZXJpbWVudEVtdWxhdGVEZXZpY2VcbiAgICAgID8gZ2V0RW11bGF0ZURldmljZVNldHRpbmdGb3JLZXlBbmRPcmllbnRhdGlvbihcbiAgICAgICAgICBleHBlcmltZW50RW11bGF0ZURldmljZSxcbiAgICAgICAgICBleHBlcmltZW50RW11bGF0ZURldmljZU9yaWVudGF0aW9uXG4gICAgICAgIClcbiAgICAgIDoge307XG4gICAgY29uc3QgZXhwZXJpbWVudFNldHRpbmdzOiBbXG4gICAgICBzdHJpbmcsXG4gICAgICBzdHJpbmcsXG4gICAgICBNYXJrZXJbXSxcbiAgICAgIE5hdmlnYXRpb25CZW5jaG1hcmtPcHRpb25zXG4gICAgXSA9IFtcbiAgICAgIFwiZXhwZXJpbWVudFwiLFxuICAgICAgdGhpcy5jb21wYXJlRmxhZ3MuZXhwZXJpbWVudFVSTCEsXG4gICAgICB0aGlzLmNvbXBhcmVGbGFncy5tYXJrZXJzLFxuICAgICAge1xuICAgICAgICBzcGF3bk9wdGlvbnM6IGV4cGVyaW1lbnRCcm93c2VyLFxuXG4gICAgICAgIHBhZ2VTZXR1cE9wdGlvbnM6IHtcbiAgICAgICAgICBjcHVUaHJvdHRsaW5nUmF0ZTogY2hlY2tFbnZpcm9ubWVudFNwZWNpZmljT3ZlcnJpZGUoXG4gICAgICAgICAgICBcImNwdVRocm90dGxlUmF0ZVwiLFxuICAgICAgICAgICAgdGhpcy5jb21wYXJlRmxhZ3MsXG4gICAgICAgICAgICBFWFBFUklNRU5UX0VOVl9PVkVSUklERV9BVFRSLFxuICAgICAgICAgICAgdGhpcy5wYXJzZWRDb25maWdcbiAgICAgICAgICApLFxuICAgICAgICAgIC4uLmV4cGVyaW1lbnREZXZpY2VTZXR0aW5ncyxcbiAgICAgICAgICBlbXVsYXRlTmV0d29ya0NvbmRpdGlvbnM6IGV4cGVyaW1lbnROZXR3b3JrXG4gICAgICAgICAgICA/IG5ldHdvcmtDb25kaXRpb25zW1xuICAgICAgICAgICAgICAgIGV4cGVyaW1lbnROZXR3b3JrIGFzIGtleW9mIHR5cGVvZiBuZXR3b3JrQ29uZGl0aW9uc1xuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICA6IHRoaXMuY29tcGFyZUZsYWdzLm5ldHdvcmssXG4gICAgICAgIH0sXG4gICAgICAgIHRyYWNlT3B0aW9uczoge1xuICAgICAgICAgIGNhcHR1cmVWOFJ1bnRpbWVTdGF0czogdGhpcy5jb21wYXJlRmxhZ3MucnVudGltZVN0YXRzLFxuICAgICAgICAgIHNhdmVUcmFjZUFzOiAoZ3JvdXAsIGkpID0+XG4gICAgICAgICAgICBgJHt0aGlzLmNvbXBhcmVGbGFncy50YlJlc3VsdHNGb2xkZXJ9L3RyYWNlcy8ke2dyb3VwfSR7aX0uanNvbmAsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIF07XG5cbiAgICByZXR1cm4gW2NvbnRyb2xTZXR0aW5ncywgZXhwZXJpbWVudFNldHRpbmdzXTtcbiAgfVxufVxuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWx5bmNoL0QvdHJhY2VyYmVuY2gvcGFja2FnZXMvY2xpL3NyYy9jb21tYW5kcy9jb21wYXJlL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJhQUFBLDZELENBQ0EsdUQsMjJyQ0EwREE7NEtBeERBLEtBQUEsQ0FBQSxTQUFBLDBCQUFBLE9BQUEsQ0FBQSxnQkFBQSxDQUFBLENBQUEsQ0FFQSxLQUFBLENBQUEsTUFBQSwwQkFBQSxPQUFBLENBQUEsbUJBQUEsQ0FBQSxDQUFBLENBU0EsS0FBQSxDQUFBLEVBQUEsMEJBQUEsT0FBQSxDQUFBLFVBQUEsQ0FBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLElBQUEsMEJBQUEsT0FBQSxDQUFBLE1BQUEsQ0FBQSxDQUFBLENBRUEsS0FBQSxDQUFBLGdCQUFBLDBCQUFBLE9BQUEsQ0FBQSxzQkFBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsbUJBQUEsMEJBQUEsT0FBQSxDQUFBLHdDQUFBLENBQUEsQ0FBQSxDQUtBLEtBQUEsQ0FBQSxXQUFBLDBCQUFBLE9BQUEsQ0FBQSxnQ0FBQSxDQUFBLENBQUEsQ0FLQSxLQUFBLENBQUEsaUJBQUEsMEJBQUEsT0FBQSxDQUFBLCtCQUFBLENBQUEsQ0FBQSxDQUNBLEtBQUEsQ0FBQSxPQUFBLDBCQUFBLE9BQUEsQ0FBQSxxQkFBQSxDQUFBLENBQUEsQ0FxQkEsS0FBQSxDQUFBLE9BQUEsMkJBQUEsT0FBQSxDQUFBLHFCQUFBLENBQUEsQ0FBQSxDQVFBLEtBQUEsQ0FBQSxTQUFBLDJCQUFBLE9BQUEsQ0FBQSxXQUFBLENBQUEsQ0FBQSxDQUNBLEtBQUEsQ0FBQSxRQUFBLDJCQUFBLE9BQUEsQ0FBQSxVQUFBLENBQUEsQ0FBQSxDQUNBO0FBQ0EsS0FBTSxDQUFBLFFBQVEsMkJBQUcsT0FBTyxDQUFDLFVBQUQsQ0FBVixDQUFkLENBd0JBLEtBQXFCLENBQUEsT0FBckIsU0FBcUMsZ0JBQUEsQ0FBQSxhQUFyQyxDQUFrRCxDQWtDaEQsV0FBQSxDQUFZLElB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QUFoQixDQVYwQixDQVczQyxVQUFVLENBQUUsT0FBQSxDQUFBLFVBQUEsQ0FBVyxDQUFFLFFBQVEsQ0FBRSxLQUFaLENBQVgsQ0FYK0IsQ0FZM0MsYUFBYSxDQUFFLE9BQUEsQ0FBQSxhQUFBLENBQWMsQ0FBRSxRQUFRLENBQUUsS0FBWixDQUFkLENBWjRCLENBYTNDLGFBQWEsQ0FBRSxPQUFBLENBQUEsYUFBQSxFQWI0QixDQWMzQyx3QkFBd0IsQ0FBRSxPQUFBLENBQUEsd0JBQUEsRUFkaUIsQ0FlM0MsVUFBVSxDQUFFLE9BQUEsQ0FBQSxVQUFBLEVBZitCLENBZ0IzQyxtQkFBbUIsQ0FBRSxPQUFBLENBQUEsbUJBQUEsRUFoQnNCLENBaUIzQyxhQUFhLENBQUUsT0FBQSxDQUFBLGFBQUEsRUFqQjRCLENBa0IzQyxNQUFNLENBQUUsT0FBQSxDQUFBLE1BQUEsRUFsQm1DLENBbUIzQyxZQUFZLENBQVosT0FBQSxDQUFBLFlBbkIyQyxDQW9CM0MsTUFBTSxDQUFOLE9BQUEsQ0FBQSxNQXBCMkMsQ0FxQjNDLEtBQUssQ0FBTCxPQUFBLENBQUEsS0FyQjJDLENBc0IzQyxRQUFRLENBQVIsT0FBQSxDQUFBLFFBdEIyQyxDQXVCM0MsT0FBTyxDQUFFLE9BQUEsQ0FBQSxPQUFBLEVBdkJrQyxDQUEvQixDIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbiAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuXG5pbXBvcnQgeyBmbGFncyBhcyBvY2xpZkZsYWdzIH0gZnJvbSBcIkBvY2xpZi9jb21tYW5kXCI7XG5pbXBvcnQgeyBJQ29uZmlnIH0gZnJvbSBcIkBvY2xpZi9jb25maWdcIjtcbmltcG9ydCB7XG4gIGNyZWF0ZVRyYWNlTmF2aWdhdGlvbkJlbmNobWFyayxcbiAgTWFya2VyLFxuICBOYXZpZ2F0aW9uQmVuY2htYXJrT3B0aW9ucyxcbiAgbmV0d29ya0NvbmRpdGlvbnMsXG4gIHJ1bixcbn0gZnJvbSBcIkB0cmFjZXJiZW5jaC9jb3JlXCI7XG5pbXBvcnQgdHlwZSB7IENocm9tZVNwYXduT3B0aW9ucyB9IGZyb20gXCJAdHJhY2VyYmVuY2gvc3Bhd24tY2hyb21lXCI7XG5pbXBvcnQgUHJvdG9jb2wgZnJvbSBcImRldnRvb2xzLXByb3RvY29sXCI7XG5pbXBvcnQgKiBhcyBmcyBmcm9tIFwiZnMtZXh0cmFcIjtcbmltcG9ydCAqIGFzIHBhdGggZnJvbSBcInBhdGhcIjtcblxuaW1wb3J0IHsgZ2V0Q29uZmlnLCBUQkJhc2VDb21tYW5kIH0gZnJvbSBcIi4uLy4uL2NvbW1hbmQtY29uZmlnXCI7XG5pbXBvcnQge1xuICBkZWZhdWx0RmxhZ0FyZ3MsXG4gIGZpZGVsaXR5TG9va3VwLFxuICBoZWFkbGVzc0ZsYWdzLFxufSBmcm9tIFwiLi4vLi4vY29tbWFuZC1jb25maWcvZGVmYXVsdC1mbGFnLWFyZ3NcIjtcbmltcG9ydCB7XG4gIENPTlRST0xfRU5WX09WRVJSSURFX0FUVFIsXG4gIEVYUEVSSU1FTlRfRU5WX09WRVJSSURFX0FUVFIsXG4gIElUQkNvbmZpZyxcbn0gZnJvbSBcIi4uLy4uL2NvbW1hbmQtY29uZmlnL3RiLWNvbmZpZ1wiO1xuaW1wb3J0IHsgZ2V0RW11bGF0ZURldmljZVNldHRpbmdGb3JLZXlBbmRPcmllbnRhdGlvbiB9IGZyb20gXCIuLi8uLi9oZWxwZXJzL2RldmljZS1zZXR0aW5nc1wiO1xuaW1wb3J0IHtcbiAgYnJvd3NlckFyZ3MsXG4gIGNvbmZpZyxcbiAgY29udHJvbFVSTCxcbiAgY3B1VGhyb3R0bGVSYXRlLFxuICBkZWJ1ZyxcbiAgZW11bGF0ZURldmljZSxcbiAgZW11bGF0ZURldmljZU9yaWVudGF0aW9uLFxuICBleHBlcmltZW50VVJMLFxuICBmaWRlbGl0eSxcbiAgaGVhZGxlc3MsXG4gIGlzQ0lFbnYsXG4gIG1hcmtlcnMsXG4gIG5ldHdvcmssXG4gIHJlZ3Jlc3Npb25UaHJlc2hvbGQsXG4gIHJlcG9ydCxcbiAgcnVudGltZVN0YXRzLFxuICBzYW1wbGVUaW1lb3V0LFxuICBzb2Nrc1BvcnRzLFxuICB0YlJlc3VsdHNGb2xkZXIsXG59IGZyb20gXCIuLi8uLi9oZWxwZXJzL2ZsYWdzXCI7XG5pbXBvcnQge1xuICBjaGFsa1NjaGVtZSxcbiAgY2hlY2tFbnZpcm9ubWVudFNwZWNpZmljT3ZlcnJpZGUsXG4gIGR1cmF0aW9uSW5TZWMsXG4gIHBhcnNlTWFya2VycyxcbiAgc2Vjb25kc1RvVGltZSxcbiAgdGltZXN0YW1wLFxufSBmcm9tIFwiLi4vLi4vaGVscGVycy91dGlsc1wiO1xuaW1wb3J0IENvbXBhcmVBbmFseXplIGZyb20gXCIuL2FuYWx5emVcIjtcbmltcG9ydCBDb21wYXJlUmVwb3J0IGZyb20gXCIuL3JlcG9ydFwiO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXNcbmNvbnN0IGFyY2hpdmVyID0gcmVxdWlyZShcImFyY2hpdmVyXCIpO1xuZXhwb3J0IGludGVyZmFjZSBJQ29tcGFyZUZsYWdzIHtcbiAgaGlkZUFuYWx5c2lzOiBib29sZWFuO1xuICBicm93c2VyQXJnczogc3RyaW5nW107XG4gIGNwdVRocm90dGxlUmF0ZTogbnVtYmVyO1xuICBmaWRlbGl0eTogbnVtYmVyO1xuICBtYXJrZXJzOiBNYXJrZXJbXTtcbiAgbmV0d29yazogUHJvdG9jb2wuTmV0d29yay5FbXVsYXRlTmV0d29ya0NvbmRpdGlvbnNSZXF1ZXN0O1xuICB0YlJlc3VsdHNGb2xkZXI6IHN0cmluZztcbiAgY29udHJvbFVSTDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBleHBlcmltZW50VVJMOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJ1bnRpbWVTdGF0czogYm9vbGVhbjtcbiAgZW11bGF0ZURldmljZT86IHN0cmluZztcbiAgZW11bGF0ZURldmljZU9yaWVudGF0aW9uPzogc3RyaW5nO1xuICBzb2Nrc1BvcnRzPzogW3N0cmluZywgc3RyaW5nXSB8IFtudW1iZXIsIG51bWJlcl0gfCB1bmRlZmluZWQ7XG4gIGRlYnVnOiBib29sZWFuO1xuICByZWdyZXNzaW9uVGhyZXNob2xkPzogbnVtYmVyO1xuICBzYW1wbGVUaW1lb3V0OiBudW1iZXI7XG4gIGhlYWRsZXNzOiBib29sZWFuO1xuICBjb25maWc/OiBzdHJpbmc7XG4gIHJlcG9ydD86IGJvb2xlYW47XG4gIGlzQ0lFbnY/OiBib29sZWFuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wYXJlIGV4dGVuZHMgVEJCYXNlQ29tbWFuZCB7XG4gIHB1YmxpYyBzdGF0aWMgZGVzY3JpcHRpb24gPVxuICAgIFwiQ29tcGFyZSB0aGUgcGVyZm9ybWFuY2UgZGVsdGEgYmV0d2VlbiBhbiBleHBlcmltZW50IGFuZCBjb250cm9sXCI7XG4gIHB1YmxpYyBzdGF0aWMgZmxhZ3M6IG9jbGlmRmxhZ3MuSW5wdXQ8YW55PiA9IHtcbiAgICBoaWRlQW5hbHlzaXM6IG9jbGlmRmxhZ3MuYm9vbGVhbih7XG4gICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkhpZGUgdGhlIHRoZSBhbmFseXNpcyBvdXRwdXQgaW4gdGVybWluYWxcIixcbiAgICB9KSxcbiAgICBicm93c2VyQXJnczogYnJvd3NlckFyZ3MoeyByZXF1aXJlZDogdHJ1ZSB9KSxcbiAgICBjcHVUaHJvdHRsZVJhdGU6IGNwdVRocm90dGxlUmF0ZSh7IHJlcXVpcmVkOiB0cnVlIH0pLFxuICAgIGZpZGVsaXR5OiBmaWRlbGl0eSh7IHJlcXVpcmVkOiB0cnVlIH0pLFxuICAgIG1hcmtlcnM6IG1hcmtlcnMoeyByZXF1aXJlZDogdHJ1ZSB9KSxcbiAgICBuZXR3b3JrOiBuZXR3b3JrKHsgcmVxdWlyZWQ6IHRydWUgfSksXG4gICAgdGJSZXN1bHRzRm9sZGVyOiB0YlJlc3VsdHNGb2xkZXIoeyByZXF1aXJlZDogdHJ1ZSB9KSxcbiAgICBjb250cm9sVVJMOiBjb250cm9sVVJMKHsgcmVxdWlyZWQ6IGZhbHNlIH0pLFxuICAgIGV4cGVyaW1lbnRVUkw6IGV4cGVyaW1lbnRVUkwoeyByZXF1aXJlZDogZmFsc2UgfSksXG4gICAgZW11bGF0ZURldmljZTogZW11bGF0ZURldmljZSgpLFxuICAgIGVtdWxhdGVEZXZpY2VPcmllbnRhdGlvbjogZW11bGF0ZURldmljZU9yaWVudGF0aW9uKCksXG4gICAgc29ja3NQb3J0czogc29ja3NQb3J0cygpLFxuICAgIHJlZ3Jlc3Npb25UaHJlc2hvbGQ6IHJlZ3Jlc3Npb25UaHJlc2hvbGQoKSxcbiAgICBzYW1wbGVUaW1lb3V0OiBzYW1wbGVUaW1lb3V0KCksXG4gICAgY29uZmlnOiBjb25maWcoKSxcbiAgICBydW50aW1lU3RhdHMsXG4gICAgcmVwb3J0LFxuICAgIGRlYnVnLFxuICAgIGhlYWRsZXNzLFxuICAgIGlzQ0lFbnY6IGlzQ0lFbnYoKSxcbiAgfTtcbiAgcHVibGljIGNvbXBhcmVGbGFnczogSUNvbXBhcmVGbGFncztcbiAgcHVibGljIHBhcnNlZENvbmZpZzogSVRCQ29uZmlnID0gZGVmYXVsdEZsYWdBcmdzO1xuICAvLyBmbGFncyBleHBsaWNpdGx5IHNwZWNpZmllZCB3aXRoaW4gdGhlIGNsaSB3aGVuXG4gIC8vIHJ1bm5pbmcgdGhlIGNvbW1hbmQuIHRoZXNlIHdpbGwgb3ZlcnJpZGUgYWxsXG4gIHB1YmxpYyBleHBsaWNpdEZsYWdzOiBzdHJpbmdbXTtcbiAgcHVibGljIGFuYWx5emVkSlNPTlN0cmluZyA9IFwiXCI7XG4gIGNvbnN0cnVjdG9yKGFyZ3Y6IHN0cmluZ1tdLCBjb25maWc6IElDb25maWcpIHtcbiAgICBzdXBlcihhcmd2LCBjb25maWcpO1xuICAgIGNvbnN0IHsgZmxhZ3MgfSA9IHRoaXMucGFyc2UoQ29tcGFyZSk7XG4gICAgdGhpcy5leHBsaWNpdEZsYWdzID0gYXJndjtcbiAgICB0aGlzLmNvbXBhcmVGbGFncyA9IGZsYWdzIGFzIElDb21wYXJlRmxhZ3M7XG4gIH1cblxuICAvLyBpbnN0YW50aWF0ZWQgYmVmb3JlIHRoaXMucnVuKClcbiAgcHVibGljIGFzeW5jIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgeyBmbGFncyB9ID0gdGhpcy5wYXJzZShDb21wYXJlKTtcbiAgICB0aGlzLnBhcnNlZENvbmZpZyA9IGdldENvbmZpZyhmbGFncy5jb25maWcsIGZsYWdzLCB0aGlzLmV4cGxpY2l0RmxhZ3MpO1xuICAgIHRoaXMuY29tcGFyZUZsYWdzID0gZmxhZ3MgYXMgSUNvbXBhcmVGbGFncztcbiAgICBhd2FpdCB0aGlzLnBhcnNlRmxhZ3MoKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBydW4oKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCB7IGhpZGVBbmFseXNpcyB9ID0gdGhpcy5jb21wYXJlRmxhZ3M7XG4gICAgY29uc3QgW1xuICAgICAgY29udHJvbFNldHRpbmdzLFxuICAgICAgZXhwZXJpbWVudFNldHRpbmdzLFxuICAgIF0gPSB0aGlzLmdlbmVyYXRlQ29udHJvbEV4cGVyaW1lbnRTZXJ2ZXJDb25maWcoKTtcblxuICAgIC8vIHRoaXMgc2hvdWxkIGJlIGRpcmVjdGx5IGFib3ZlIHRoZSBpbnN0YW50aWF0aW9uIG9mIHRoZSBJbml0aWFsUmVuZGVyQmVuY2htYXJrc1xuICAgIGlmICh0aGlzLnBhcnNlZENvbmZpZy5kZWJ1Zykge1xuICAgICAgT2JqZWN0LmVudHJpZXModGhpcy5wYXJzZWRDb25maWcpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICB0aGlzLmxvZyhgJHtrZXl9OiAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1gKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYmVuY2htYXJrcyA9IHtcbiAgICAgIGNvbnRyb2w6IGNyZWF0ZVRyYWNlTmF2aWdhdGlvbkJlbmNobWFyayguLi5jb250cm9sU2V0dGluZ3MpLFxuICAgICAgZXhwZXJpbWVudDogY3JlYXRlVHJhY2VOYXZpZ2F0aW9uQmVuY2htYXJrKC4uLmV4cGVyaW1lbnRTZXR0aW5ncyksXG4gICAgfTtcblxuICAgIGNvbnN0IHNhbXBsZVRpbWVvdXQgPSB0aGlzLnBhcnNlZENvbmZpZy5zYW1wbGVUaW1lb3V0O1xuXG4gICAgY29uc3Qgc3RhcnRUaW1lID0gdGltZXN0YW1wKCk7XG4gICAgY29uc3QgcmVzdWx0cyA9IChcbiAgICAgIGF3YWl0IHJ1bihcbiAgICAgICAgW2JlbmNobWFya3MuY29udHJvbCwgYmVuY2htYXJrcy5leHBlcmltZW50XSxcbiAgICAgICAgdGhpcy5wYXJzZWRDb25maWcuZmlkZWxpdHkgYXMgbnVtYmVyLFxuICAgICAgICAoZWxhc3BlZCwgY29tcGxldGVkLCByZW1haW5pbmcsIGdyb3VwLCBpdGVyYXRpb24pID0+IHtcbiAgICAgICAgICBpZiAoY29tcGxldGVkID4gMCkge1xuICAgICAgICAgICAgY29uc3QgYXZlcmFnZSA9IGVsYXNwZWQgLyBjb21wbGV0ZWQ7XG4gICAgICAgICAgICBjb25zdCByZW1haW5pbmdTZWNzID0gTWF0aC5yb3VuZCgocmVtYWluaW5nICogYXZlcmFnZSkgLyAxMDAwKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ1RpbWUgPSBzZWNvbmRzVG9UaW1lKHJlbWFpbmluZ1NlY3MpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgIFwiJXM6ICVzICVzIHJlbWFpbmluZ1wiLFxuICAgICAgICAgICAgICBncm91cC5wYWRTdGFydCgxNSksXG4gICAgICAgICAgICAgIGl0ZXJhdGlvbi50b1N0cmluZygpLnBhZFN0YXJ0KDIpLFxuICAgICAgICAgICAgICBgJHtyZW1haW5pbmdUaW1lfWAucGFkU3RhcnQoMTApXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgXCIlczogJXNcIixcbiAgICAgICAgICAgICAgZ3JvdXAucGFkU3RhcnQoMTUpLFxuICAgICAgICAgICAgICBpdGVyYXRpb24udG9TdHJpbmcoKS5wYWRTdGFydCgyKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBzYW1wbGVUaW1lb3V0TXM6IHNhbXBsZVRpbWVvdXQgJiYgc2FtcGxlVGltZW91dCAqIDEwMDAsXG4gICAgICAgIH1cbiAgICAgIClcbiAgICApLm1hcCgoeyBncm91cCwgc2FtcGxlcyB9KSA9PiB7XG4gICAgICBjb25zdCBtZXRhID0gc2FtcGxlcy5sZW5ndGggPiAwID8gc2FtcGxlc1swXS5tZXRhZGF0YSA6IHt9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ3JvdXAsXG4gICAgICAgIHNldDogZ3JvdXAsXG4gICAgICAgIHNhbXBsZXMsXG4gICAgICAgIG1ldGEsXG4gICAgICB9O1xuICAgIH0pO1xuICAgIGNvbnN0IGVuZFRpbWUgPSB0aW1lc3RhbXAoKTtcbiAgICBpZiAoIXJlc3VsdHNbMF0uc2FtcGxlc1swXSkge1xuICAgICAgdGhpcy5lcnJvcihcbiAgICAgICAgYENvdWxkIG5vdCBzYW1wbGUgZnJvbSBwcm92aWRlZCB1cmxzXFxuQ09OVFJPTDogJHt0aGlzLnBhcnNlZENvbmZpZy5jb250cm9sVVJMfVxcbkVYUEVSSU1FTlQ6ICR7dGhpcy5wYXJzZWRDb25maWcuZXhwZXJpbWVudFVSTH0uYFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0SlNPTlBhdGggPSBgJHt0aGlzLnBhcnNlZENvbmZpZy50YlJlc3VsdHNGb2xkZXJ9L2NvbXBhcmUuanNvbmA7XG5cbiAgICBmcy53cml0ZUZpbGVTeW5jKHJlc3VsdEpTT05QYXRoLCBKU09OLnN0cmluZ2lmeShyZXN1bHRzKSk7XG5cbiAgICBjb25zdCB0cmFjZXNEaXIgPSBgJHt0aGlzLnBhcnNlZENvbmZpZy50YlJlc3VsdHNGb2xkZXJ9L3RyYWNlc2A7XG4gICAgY29uc3QgemlwT3V0cHV0ID0gZnMuY3JlYXRlV3JpdGVTdHJlYW0oXG4gICAgICBgJHt0aGlzLnBhcnNlZENvbmZpZy50YlJlc3VsdHNGb2xkZXJ9L3RyYWNlcy56aXBgXG4gICAgKTtcbiAgICBjb25zdCBhcmNoaXZlID0gYXJjaGl2ZXIoXCJ6aXBcIiwge1xuICAgICAgemxpYjogeyBsZXZlbDogOSB9LFxuICAgIH0pO1xuICAgIGFyY2hpdmUuZGlyZWN0b3J5KHRyYWNlc0RpciwgXCJ0cmFjZXNcIik7XG4gICAgYXJjaGl2ZS5waXBlKHppcE91dHB1dCk7XG4gICAgYXJjaGl2ZS5maW5hbGl6ZSgpO1xuICAgIGNvbnN0IGR1cmF0aW9uID0gc2Vjb25kc1RvVGltZShkdXJhdGlvbkluU2VjKGVuZFRpbWUsIHN0YXJ0VGltZSkpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHtjaGFsa1NjaGVtZS5ibGFja0JnR3JlZW4oXG4gICAgICBgICAgICR7Y2hhbGtTY2hlbWUud2hpdGUoXCJTVUNDRVNTXCIpfSAgICBgXG4gICAgKX0gJHt0aGlzLnBhcnNlZENvbmZpZy5maWRlbGl0eX0gdGVzdCBzYW1wbGVzIHRvb2sgJHtkdXJhdGlvbn1gO1xuXG4gICAgdGhpcy5sb2coYFxcbiR7bWVzc2FnZX1gKTtcblxuICAgIGlmICghaGlkZUFuYWx5c2lzKSB7XG4gICAgICB0aGlzLmFuYWx5emVkSlNPTlN0cmluZyA9IGF3YWl0IENvbXBhcmVBbmFseXplLnJ1bihbXG4gICAgICAgIHJlc3VsdEpTT05QYXRoLFxuICAgICAgICBcIi0tZmlkZWxpdHlcIixcbiAgICAgICAgYCR7dGhpcy5wYXJzZWRDb25maWcuZmlkZWxpdHl9YCxcbiAgICAgICAgXCItLXJlZ3Jlc3Npb25UaHJlc2hvbGRcIixcbiAgICAgICAgYCR7dGhpcy5wYXJzZWRDb25maWcucmVncmVzc2lvblRocmVzaG9sZH1gLFxuICAgICAgICBcIi0taXNDSUVudlwiLFxuICAgICAgICBgJHt0aGlzLnBhcnNlZENvbmZpZy5pc0NJRW52fWAsXG4gICAgICBdKTtcblxuICAgICAgZnMud3JpdGVGaWxlU3luYyhcbiAgICAgICAgYCR7dGhpcy5wYXJzZWRDb25maWcudGJSZXN1bHRzRm9sZGVyfS9yZXBvcnQuanNvbmAsXG4gICAgICAgIHRoaXMuYW5hbHl6ZWRKU09OU3RyaW5nXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIGlmIHdlIHdhbnQgdG8gcnVuIHRoZSBDb21wYXJlUmVwb3J0IHdpdGhvdXQgY2FsbGluZyBhIHNlcGFyYXRlIGNvbW1hbmRcbiAgICBpZiAodGhpcy5wYXJzZWRDb25maWcucmVwb3J0KSB7XG4gICAgICBhd2FpdCBDb21wYXJlUmVwb3J0LnJ1bihbXG4gICAgICAgIFwiLS10YlJlc3VsdHNGb2xkZXJcIixcbiAgICAgICAgYCR7dGhpcy5wYXJzZWRDb25maWcudGJSZXN1bHRzRm9sZGVyfWAsXG4gICAgICAgIFwiLS1jb25maWdcIixcbiAgICAgICAgYCR7dGhpcy5wYXJzZWRDb25maWcuY29uZmlnfWAsXG4gICAgICBdKTtcbiAgICB9XG5cbiAgICAvLyB3aXRoIGRlYnVnIGZsYWcgb3V0cHV0IHRocmVlIGZpbGVzXG4gICAgLy8gb24gY29uZmlnIHNwZWNpZmljc1xuICAgIGlmICh0aGlzLnBhcnNlZENvbmZpZy5kZWJ1Zykge1xuICAgICAgZnMud3JpdGVGaWxlU3luYyhcbiAgICAgICAgYCR7dGhpcy5wYXJzZWRDb25maWcudGJSZXN1bHRzRm9sZGVyfS9zZXJ2ZXItY29udHJvbC1zZXR0aW5ncy5qc29uYCxcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmFzc2lnbihjb250cm9sU2V0dGluZ3MpLCBudWxsLCAyKVxuICAgICAgKTtcblxuICAgICAgZnMud3JpdGVGaWxlU3luYyhcbiAgICAgICAgYCR7dGhpcy5wYXJzZWRDb25maWcudGJSZXN1bHRzRm9sZGVyfS9zZXJ2ZXItZXhwZXJpbWVudC1zZXR0aW5ncy5qc29uYCxcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmFzc2lnbihleHBlcmltZW50U2V0dGluZ3MpLCBudWxsLCAyKVxuICAgICAgKTtcblxuICAgICAgZnMud3JpdGVGaWxlU3luYyhcbiAgICAgICAgYCR7dGhpcy5wYXJzZWRDb25maWcudGJSZXN1bHRzRm9sZGVyfS9jb21wYXJlLWZsYWdzLXNldHRpbmdzLmpzb25gLFxuICAgICAgICBKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKHRoaXMucGFyc2VkQ29uZmlnKSwgbnVsbCwgMilcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuYW5hbHl6ZWRKU09OU3RyaW5nO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBwYXJzZUZsYWdzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHRiUmVzdWx0c0ZvbGRlcixcbiAgICAgIGZpZGVsaXR5LFxuICAgICAgbWFya2VycyxcbiAgICAgIHJlZ3Jlc3Npb25UaHJlc2hvbGQsXG4gICAgICBoZWFkbGVzcyxcbiAgICAgIGNvbnRyb2xVUkwsXG4gICAgICBleHBlcmltZW50VVJMLFxuICAgIH0gPSAodGhpcy5wYXJzZWRDb25maWcgYXMgdW5rbm93bikgYXMgSUNvbXBhcmVGbGFncztcblxuICAgIC8vIG1vZGlmaWVzIHByb3BlcnRpZXMgb2YgZmxhZ3MgdGhhdCB3ZXJlIG5vdCBzZXRcbiAgICAvLyBkdXJpbmcgZmxhZy5wYXJzZSgpLiB0aGVzZSBhcmUgaW50ZW50aW9uYWxseVxuICAgIC8vIG5vdCBkZWNvbnN0cnVjdGVkIGFzIHRvIG1haW50YWluIHRoZSBtdXRhYmxlXG4gICAgLy8gZmxhZ3Mgb2JqZWN0IHN0YXRlXG4gICAgaWYgKHR5cGVvZiBmaWRlbGl0eSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhpcy5jb21wYXJlRmxhZ3MuZmlkZWxpdHkgPSBwYXJzZUludChcbiAgICAgICAgKGZpZGVsaXR5TG9va3VwIGFzIGFueSlbZmlkZWxpdHldLFxuICAgICAgICAxMFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBtYXJrZXJzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aGlzLnBhcnNlZENvbmZpZy5tYXJrZXJzID0gcGFyc2VNYXJrZXJzKG1hcmtlcnMpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlZ3Jlc3Npb25UaHJlc2hvbGQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRoaXMucGFyc2VkQ29uZmlnLnJlZ3Jlc3Npb25UaHJlc2hvbGQgPSBwYXJzZUludChyZWdyZXNzaW9uVGhyZXNob2xkLCAxMCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29udHJvbFVSTCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmVycm9yKFxuICAgICAgICBcImNvbnRyb2xVUkwgaXMgcmVxdWlyZWQgZWl0aGVyIGluIHRoZSB0YmNvbmZpZy5qc29uIG9yIGFzIGNsaSBmbGFnXCJcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBleHBlcmltZW50VVJMID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuZXJyb3IoXG4gICAgICAgIFwiZXhwZXJpbWVudFVSTCBpcyByZXF1aXJlZCBlaXRoZXIgaW4gdGhlIHRiY29uZmlnLmpzb24gb3IgYXMgY2xpIGZsYWdcIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBpZiBoZWFkbGVzcyBmbGFnIGlzIHRydWUgaW5jbHVkZSB0aGUgaGVhZGxlc3MgZmxhZ3NcbiAgICBpZiAoaGVhZGxlc3MpIHtcbiAgICAgIHRoaXMucGFyc2VkQ29uZmlnLmJyb3dzZXJBcmdzID0gdGhpcy5jb21wYXJlRmxhZ3MuYnJvd3NlckFyZ3MuY29uY2F0KFxuICAgICAgICBoZWFkbGVzc0ZsYWdzXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIGlmIHRoZSBmb2xkZXIgZm9yIHRoZSB0cmFjZXJiZW5jaCByZXN1bHRzIGZpbGVcbiAgICAvLyBkb2VzIG5vdCBleGlzdCB0aGVuIGNyZWF0ZSBpdFxuICAgIGZzLm1rZGlycFN5bmMocGF0aC5qb2luKHRiUmVzdWx0c0ZvbGRlciwgXCJ0cmFjZXNcIikpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmFsIHJlc3VsdCBvZiB0aGUgY29uZmlncyBhcmUgaW4gdGhlIGZvbGxvd2luZyBvcmRlcjpcbiAgICpcbiAgICogY29udHJvbENvbmZpZ3MgPSB0YmNvbmZpZzpjb250cm9sQmVuY2htYXJrRW52aXJvbm1lbnQgPiBjb21tYW5kIGxpbmUgPiB0YmNvbmZpZyA+IGRlZmF1bHRcbiAgICogZXhwZXJpbWVudENvbmZpZ3MgPSB0YmNvbmZpZzpleHBlcmltZW50QmVuY2htYXJrRW52aXJvbm1lbnQgPiBjb21tYW5kIGxpbmUgPiB0YmNvbmZpZyA+IGRlZmF1bHRcbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbnMgaGFuZGxlcyB0aGUgdHNjb25maWc6KiogcGFydCBzaW5jZSBpdCBpcyBhc3N1bWVkIHRoYXQgcGFyZW50IGZ1bmN0aW9uIHRoYXQgcGFzc2VkIGlucHV0IFwiZmxhZ3NcIlxuICAgKiB3b3VsZCd2ZSBoYW5kbGVkIFwiY29tbWFuZCBsaW5lID4gdGJjb25maWcgPiBkZWZhdWx0XCJcbiAgICpcbiAgICogQHBhcmFtIHRoaXMucGFyc2VkQ29uZmlnIC0gT2JqZWN0IGNvbnRhaW5pbmcgY29uZmlncyBwYXJzZWQgZnJvbSB0aGUgQ29tbWFuZCBjbGFzc1xuICAgKi9cbiAgcHJpdmF0ZSBnZW5lcmF0ZUNvbnRyb2xFeHBlcmltZW50U2VydmVyQ29uZmlnKCk6IFtcbiAgICBbc3RyaW5nLCBzdHJpbmcsIE1hcmtlcltdLCBOYXZpZ2F0aW9uQmVuY2htYXJrT3B0aW9uc10sXG4gICAgW3N0cmluZywgc3RyaW5nLCBNYXJrZXJbXSwgTmF2aWdhdGlvbkJlbmNobWFya09wdGlvbnNdXG4gIF0ge1xuICAgIGNvbnN0IHN0ZGlvID0gdGhpcy5wYXJzZWRDb25maWcuZGVidWcgPyBcImluaGVyaXRcIiA6IFwiaWdub3JlXCI7XG4gICAgY29uc3QgY29udHJvbEJyb3dzZXI6IFBhcnRpYWw8Q2hyb21lU3Bhd25PcHRpb25zPiA9IHtcbiAgICAgIHN0ZGlvLFxuICAgICAgYWRkaXRpb25hbEFyZ3VtZW50czogdGhpcy5jb21wYXJlRmxhZ3MuYnJvd3NlckFyZ3MsXG4gICAgfTtcbiAgICBjb25zdCBleHBlcmltZW50QnJvd3NlcjogUGFydGlhbDxDaHJvbWVTcGF3bk9wdGlvbnM+ID0ge1xuICAgICAgc3RkaW8sXG4gICAgICBhZGRpdGlvbmFsQXJndW1lbnRzOiB0aGlzLmNvbXBhcmVGbGFncy5icm93c2VyQXJncyxcbiAgICB9O1xuXG4gICAgLy8gY29uZmlnIGZvciB0aGUgYnJvd3NlcnMgdG8gbGV2ZXJhZ2Ugc29ja3MgcHJveHlcbiAgICBpZiAodGhpcy5wYXJzZWRDb25maWcuc29ja3NQb3J0cykge1xuICAgICAgaWYgKGNvbnRyb2xCcm93c2VyLmFkZGl0aW9uYWxBcmd1bWVudHMpIHtcbiAgICAgICAgY29udHJvbEJyb3dzZXIuYWRkaXRpb25hbEFyZ3VtZW50cyA9IGNvbnRyb2xCcm93c2VyLmFkZGl0aW9uYWxBcmd1bWVudHMuY29uY2F0KFxuICAgICAgICAgIFtgLS1wcm94eS1zZXJ2ZXI9c29ja3M1Oi8vMC4wLjAuMDoke3RoaXMucGFyc2VkQ29uZmlnLnNvY2tzUG9ydHNbMF19YF1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChleHBlcmltZW50QnJvd3Nlci5hZGRpdGlvbmFsQXJndW1lbnRzKSB7XG4gICAgICAgIGV4cGVyaW1lbnRCcm93c2VyLmFkZGl0aW9uYWxBcmd1bWVudHMgPSBleHBlcmltZW50QnJvd3Nlci5hZGRpdGlvbmFsQXJndW1lbnRzLmNvbmNhdChcbiAgICAgICAgICBbYC0tcHJveHktc2VydmVyPXNvY2tzNTovLzAuMC4wLjA6JHt0aGlzLnBhcnNlZENvbmZpZy5zb2Nrc1BvcnRzWzFdfWBdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNvbnRyb2xOZXR3b3JrOiBzdHJpbmcgPSBjaGVja0Vudmlyb25tZW50U3BlY2lmaWNPdmVycmlkZShcbiAgICAgIFwibmV0d29ya1wiLFxuICAgICAgdGhpcy5jb21wYXJlRmxhZ3MsXG4gICAgICBDT05UUk9MX0VOVl9PVkVSUklERV9BVFRSLFxuICAgICAgdGhpcy5wYXJzZWRDb25maWdcbiAgICApO1xuICAgIGNvbnN0IGNvbnRyb2xFbXVsYXRlRGV2aWNlID0gY2hlY2tFbnZpcm9ubWVudFNwZWNpZmljT3ZlcnJpZGUoXG4gICAgICBcImVtdWxhdGVEZXZpY2VcIixcbiAgICAgIHRoaXMuY29tcGFyZUZsYWdzLFxuICAgICAgQ09OVFJPTF9FTlZfT1ZFUlJJREVfQVRUUixcbiAgICAgIHRoaXMucGFyc2VkQ29uZmlnXG4gICAgKTtcbiAgICBjb25zdCBjb250cm9sRW11bGF0ZURldmljZU9yaWVudGF0aW9uID0gY2hlY2tFbnZpcm9ubWVudFNwZWNpZmljT3ZlcnJpZGUoXG4gICAgICBcImVtdWxhdGVEZXZpY2VPcmllbnRhdGlvblwiLFxuICAgICAgdGhpcy5jb21wYXJlRmxhZ3MsXG4gICAgICBDT05UUk9MX0VOVl9PVkVSUklERV9BVFRSLFxuICAgICAgdGhpcy5wYXJzZWRDb25maWdcbiAgICApO1xuICAgIGNvbnN0IGV4cGVyaW1lbnROZXR3b3JrOiBzdHJpbmcgPSBjaGVja0Vudmlyb25tZW50U3BlY2lmaWNPdmVycmlkZShcbiAgICAgIFwibmV0d29ya1wiLFxuICAgICAgdGhpcy5jb21wYXJlRmxhZ3MsXG4gICAgICBFWFBFUklNRU5UX0VOVl9PVkVSUklERV9BVFRSLFxuICAgICAgdGhpcy5wYXJzZWRDb25maWdcbiAgICApO1xuICAgIGNvbnN0IGV4cGVyaW1lbnRFbXVsYXRlRGV2aWNlID0gY2hlY2tFbnZpcm9ubWVudFNwZWNpZmljT3ZlcnJpZGUoXG4gICAgICBcImVtdWxhdGVEZXZpY2VcIixcbiAgICAgIHRoaXMuY29tcGFyZUZsYWdzLFxuICAgICAgRVhQRVJJTUVOVF9FTlZfT1ZFUlJJREVfQVRUUixcbiAgICAgIHRoaXMucGFyc2VkQ29uZmlnXG4gICAgKTtcbiAgICBjb25zdCBleHBlcmltZW50RW11bGF0ZURldmljZU9yaWVudGF0aW9uID0gY2hlY2tFbnZpcm9ubWVudFNwZWNpZmljT3ZlcnJpZGUoXG4gICAgICBcImVtdWxhdGVEZXZpY2VPcmllbnRhdGlvblwiLFxuICAgICAgdGhpcy5jb21wYXJlRmxhZ3MsXG4gICAgICBFWFBFUklNRU5UX0VOVl9PVkVSUklERV9BVFRSLFxuICAgICAgdGhpcy5wYXJzZWRDb25maWdcbiAgICApO1xuXG4gICAgY29uc3QgY29udHJvbERldmljZVNldHRpbmdzID0gY29udHJvbEVtdWxhdGVEZXZpY2VcbiAgICAgID8gZ2V0RW11bGF0ZURldmljZVNldHRpbmdGb3JLZXlBbmRPcmllbnRhdGlvbihcbiAgICAgICAgICBjb250cm9sRW11bGF0ZURldmljZSxcbiAgICAgICAgICBjb250cm9sRW11bGF0ZURldmljZU9yaWVudGF0aW9uXG4gICAgICAgIClcbiAgICAgIDoge307XG5cbiAgICBjb25zdCBjb250cm9sU2V0dGluZ3M6IFtcbiAgICAgIHN0cmluZyxcbiAgICAgIHN0cmluZyxcbiAgICAgIE1hcmtlcltdLFxuICAgICAgTmF2aWdhdGlvbkJlbmNobWFya09wdGlvbnNcbiAgICBdID0gW1xuICAgICAgXCJjb250cm9sXCIsXG4gICAgICB0aGlzLmNvbXBhcmVGbGFncy5jb250cm9sVVJMISxcbiAgICAgIHRoaXMuY29tcGFyZUZsYWdzLm1hcmtlcnMsXG4gICAgICB7XG4gICAgICAgIHNwYXduT3B0aW9uczogY29udHJvbEJyb3dzZXIsXG4gICAgICAgIHBhZ2VTZXR1cE9wdGlvbnM6IHtcbiAgICAgICAgICBjcHVUaHJvdHRsaW5nUmF0ZTogY2hlY2tFbnZpcm9ubWVudFNwZWNpZmljT3ZlcnJpZGUoXG4gICAgICAgICAgICBcImNwdVRocm90dGxlUmF0ZVwiLFxuICAgICAgICAgICAgdGhpcy5jb21wYXJlRmxhZ3MsXG4gICAgICAgICAgICBDT05UUk9MX0VOVl9PVkVSUklERV9BVFRSLFxuICAgICAgICAgICAgdGhpcy5wYXJzZWRDb25maWdcbiAgICAgICAgICApLFxuICAgICAgICAgIC4uLmNvbnRyb2xEZXZpY2VTZXR0aW5ncyxcbiAgICAgICAgICBlbXVsYXRlTmV0d29ya0NvbmRpdGlvbnM6IGNvbnRyb2xOZXR3b3JrXG4gICAgICAgICAgICA/IG5ldHdvcmtDb25kaXRpb25zW1xuICAgICAgICAgICAgICAgIGNvbnRyb2xOZXR3b3JrIGFzIGtleW9mIHR5cGVvZiBuZXR3b3JrQ29uZGl0aW9uc1xuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICA6IHRoaXMuY29tcGFyZUZsYWdzLm5ldHdvcmssXG4gICAgICAgIH0sXG4gICAgICAgIHRyYWNlT3B0aW9uczoge1xuICAgICAgICAgIGNhcHR1cmVWOFJ1bnRpbWVTdGF0czogdGhpcy5jb21wYXJlRmxhZ3MucnVudGltZVN0YXRzLFxuICAgICAgICAgIHNhdmVUcmFjZUFzOiAoZ3JvdXAsIGkpID0+XG4gICAgICAgICAgICBgJHt0aGlzLmNvbXBhcmVGbGFncy50YlJlc3VsdHNGb2xkZXJ9L3RyYWNlcy8ke2dyb3VwfSR7aX0uanNvbmAsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIF07XG5cbiAgICBjb25zdCBleHBlcmltZW50RGV2aWNlU2V0dGluZ3MgPSBleHBlcmltZW50RW11bGF0ZURldmljZVxuICAgICAgPyBnZXRFbXVsYXRlRGV2aWNlU2V0dGluZ0ZvcktleUFuZE9yaWVudGF0aW9uKFxuICAgICAgICAgIGV4cGVyaW1lbnRFbXVsYXRlRGV2aWNlLFxuICAgICAgICAgIGV4cGVyaW1lbnRFbXVsYXRlRGV2aWNlT3JpZW50YXRpb25cbiAgICAgICAgKVxuICAgICAgOiB7fTtcbiAgICBjb25zdCBleHBlcmltZW50U2V0dGluZ3M6IFtcbiAgICAgIHN0cmluZyxcbiAgICAgIHN0cmluZyxcbiAgICAgIE1hcmtlcltdLFxuICAgICAgTmF2aWdhdGlvbkJlbmNobWFya09wdGlvbnNcbiAgICBdID0gW1xuICAgICAgXCJleHBlcmltZW50XCIsXG4gICAgICB0aGlzLmNvbXBhcmVGbGFncy5leHBlcmltZW50VVJMISxcbiAgICAgIHRoaXMuY29tcGFyZUZsYWdzLm1hcmtlcnMsXG4gICAgICB7XG4gICAgICAgIHNwYXduT3B0aW9uczogZXhwZXJpbWVudEJyb3dzZXIsXG5cbiAgICAgICAgcGFnZVNldHVwT3B0aW9uczoge1xuICAgICAgICAgIGNwdVRocm90dGxpbmdSYXRlOiBjaGVja0Vudmlyb25tZW50U3BlY2lmaWNPdmVycmlkZShcbiAgICAgICAgICAgIFwiY3B1VGhyb3R0bGVSYXRlXCIsXG4gICAgICAgICAgICB0aGlzLmNvbXBhcmVGbGFncyxcbiAgICAgICAgICAgIEVYUEVSSU1FTlRfRU5WX09WRVJSSURFX0FUVFIsXG4gICAgICAgICAgICB0aGlzLnBhcnNlZENvbmZpZ1xuICAgICAgICAgICksXG4gICAgICAgICAgLi4uZXhwZXJpbWVudERldmljZVNldHRpbmdzLFxuICAgICAgICAgIGVtdWxhdGVOZXR3b3JrQ29uZGl0aW9uczogZXhwZXJpbWVudE5ldHdvcmtcbiAgICAgICAgICAgID8gbmV0d29ya0NvbmRpdGlvbnNbXG4gICAgICAgICAgICAgICAgZXhwZXJpbWVudE5ldHdvcmsgYXMga2V5b2YgdHlwZW9mIG5ldHdvcmtDb25kaXRpb25zXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIDogdGhpcy5jb21wYXJlRmxhZ3MubmV0d29yayxcbiAgICAgICAgfSxcbiAgICAgICAgdHJhY2VPcHRpb25zOiB7XG4gICAgICAgICAgY2FwdHVyZVY4UnVudGltZVN0YXRzOiB0aGlzLmNvbXBhcmVGbGFncy5ydW50aW1lU3RhdHMsXG4gICAgICAgICAgc2F2ZVRyYWNlQXM6IChncm91cCwgaSkgPT5cbiAgICAgICAgICAgIGAke3RoaXMuY29tcGFyZUZsYWdzLnRiUmVzdWx0c0ZvbGRlcn0vdHJhY2VzLyR7Z3JvdXB9JHtpfS5qc29uYCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIHJldHVybiBbY29udHJvbFNldHRpbmdzLCBleHBlcmltZW50U2V0dGluZ3NdO1xuICB9XG59XG4iXX0=