"use strict";function cov_1wmjbuuxyq(){var path="/Users/malynch/D/tracerbench/packages/cli/src/commands/trace.ts";var hash="22b1f45cba4828f4d6e3c900c5ecc689b222faf2";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/malynch/D/tracerbench/packages/cli/src/commands/trace.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:4,column:15},end:{line:4,column:43}},"2":{start:{line:5,column:19},end:{line:5,column:38}},"3":{start:{line:6,column:15},end:{line:6,column:30}},"4":{start:{line:7,column:25},end:{line:7,column:53}},"5":{start:{line:8,column:15},end:{line:8,column:41}},"6":{start:{line:9,column:16},end:{line:9,column:43}},"7":{start:{line:10,column:16},end:{line:10,column:43}},"8":{start:{line:13,column:32},end:{line:13,column:49}},"9":{start:{line:14,column:89},end:{line:14,column:94}},"10":{start:{line:15,column:28},end:{line:15,column:32}},"11":{start:{line:16,column:22},end:{line:16,column:27}},"12":{start:{line:17,column:22},end:{line:24,column:9}},"13":{start:{line:25,column:24},end:{line:25,column:28}},"14":{start:{line:26,column:27},end:{line:29,column:9}},"15":{start:{line:30,column:8},end:{line:32,column:9}},"16":{start:{line:31,column:12},end:{line:31,column:77}},"17":{start:{line:35,column:8},end:{line:42,column:9}},"18":{start:{line:36,column:12},end:{line:38,column:13}},"19":{start:{line:37,column:16},end:{line:37,column:54}},"20":{start:{line:41,column:12},end:{line:41,column:30}},"21":{start:{line:44,column:24},end:{line:44,column:74}},"22":{start:{line:45,column:30},end:{line:45,column:72}},"23":{start:{line:46,column:8},end:{line:46,column:82}},"24":{start:{line:48,column:8},end:{line:55,column:9}},"25":{start:{line:49,column:12},end:{line:54,column:13}},"26":{start:{line:50,column:16},end:{line:50,column:57}},"27":{start:{line:53,column:16},end:{line:53,column:124}},"28":{start:{line:57,column:32},end:{line:57,column:97}},"29":{start:{line:58,column:31},end:{line:62,column:9}},"30":{start:{line:64,column:8},end:{line:64,column:45}},"31":{start:{line:67,column:30},end:{line:67,column:31}},"32":{start:{line:68,column:31},end:{line:68,column:32}},"33":{start:{line:69,column:27},end:{line:69,column:36}},"34":{start:{line:70,column:8},end:{line:75,column:9}},"35":{start:{line:71,column:12},end:{line:71,column:56}},"36":{start:{line:74,column:12},end:{line:74,column:35}},"37":{start:{line:76,column:8},end:{line:84,column:11}},"38":{start:{line:77,column:31},end:{line:77,column:62}},"39":{start:{line:78,column:31},end:{line:78,column:50}},"40":{start:{line:80,column:24},end:{line:80,column:43}},"41":{start:{line:81,column:33},end:{line:81,column:49}},"42":{start:{line:82,column:12},end:{line:82,column:44}},"43":{start:{line:83,column:12},end:{line:83,column:63}},"44":{start:{line:86,column:8},end:{line:86,column:88}},"45":{start:{line:88,column:8},end:{line:96,column:11}},"46":{start:{line:89,column:31},end:{line:89,column:69}},"47":{start:{line:90,column:31},end:{line:90,column:60}},"48":{start:{line:92,column:24},end:{line:92,column:53}},"49":{start:{line:93,column:33},end:{line:93,column:49}},"50":{start:{line:94,column:12},end:{line:94,column:45}},"51":{start:{line:95,column:12},end:{line:95,column:64}},"52":{start:{line:98,column:8},end:{line:98,column:90}},"53":{start:{line:100,column:8},end:{line:109,column:9}},"54":{start:{line:101,column:28},end:{line:101,column:70}},"55":{start:{line:102,column:12},end:{line:105,column:15}},"56":{start:{line:103,column:72},end:{line:103,column:86}},"57":{start:{line:104,column:16},end:{line:104,column:112}},"58":{start:{line:108,column:12},end:{line:108,column:30}},"59":{start:{line:110,column:8},end:{line:119,column:9}},"60":{start:{line:111,column:12},end:{line:111,column:56}},"61":{start:{line:112,column:30},end:{line:112,column:64}},"62":{start:{line:113,column:12},end:{line:115,column:15}},"63":{start:{line:114,column:16},end:{line:114,column:67}},"64":{start:{line:118,column:12},end:{line:118,column:35}},"65":{start:{line:120,column:8},end:{line:122,column:9}},"66":{start:{line:121,column:12},end:{line:121,column:57}},"67":{start:{line:126,column:27},end:{line:126,column:30}},"68":{start:{line:127,column:23},end:{line:127,column:46}},"69":{start:{line:128,column:20},end:{line:128,column:24}},"70":{start:{line:129,column:24},end:{line:129,column:26}},"71":{start:{line:130,column:27},end:{line:130,column:31}},"72":{start:{line:131,column:20},end:{line:131,column:24}},"73":{start:{line:132,column:8},end:{line:134,column:9}},"74":{start:{line:133,column:12},end:{line:133,column:73}},"75":{start:{line:135,column:8},end:{line:140,column:9}},"76":{start:{line:136,column:12},end:{line:136,column:80}},"77":{start:{line:139,column:12},end:{line:139,column:26}},"78":{start:{line:141,column:8},end:{line:146,column:9}},"79":{start:{line:142,column:12},end:{line:142,column:57}},"80":{start:{line:145,column:12},end:{line:145,column:26}},"81":{start:{line:147,column:8},end:{line:152,column:9}},"82":{start:{line:148,column:12},end:{line:148,column:57}},"83":{start:{line:151,column:12},end:{line:151,column:31}},"84":{start:{line:153,column:8},end:{line:155,column:9}},"85":{start:{line:154,column:12},end:{line:154,column:42}},"86":{start:{line:156,column:8},end:{line:182,column:11}},"87":{start:{line:157,column:31},end:{line:157,column:83}},"88":{start:{line:160,column:12},end:{line:181,column:13}},"89":{start:{line:161,column:16},end:{line:161,column:37}},"90":{start:{line:162,column:16},end:{line:162,column:97}},"91":{start:{line:164,column:17},end:{line:181,column:13}},"92":{start:{line:165,column:16},end:{line:167,column:17}},"93":{start:{line:166,column:20},end:{line:166,column:41}},"94":{start:{line:168,column:16},end:{line:168,column:97}},"95":{start:{line:170,column:17},end:{line:181,column:13}},"96":{start:{line:171,column:16},end:{line:174,column:17}},"97":{start:{line:172,column:39},end:{line:172,column:67}},"98":{start:{line:173,column:20},end:{line:173,column:101}},"99":{start:{line:176,column:17},end:{line:181,column:13}},"100":{start:{line:177,column:33},end:{line:177,column:43}},"101":{start:{line:178,column:16},end:{line:180,column:17}},"102":{start:{line:179,column:20},end:{line:179,column:127}},"103":{start:{line:185,column:0},end:{line:185,column:24}},"104":{start:{line:186,column:0},end:{line:186,column:82}},"105":{start:{line:187,column:0},end:{line:187,column:30}},"106":{start:{line:188,column:0},end:{line:195,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:12,column:4},end:{line:12,column:5}},loc:{start:{line:12,column:16},end:{line:123,column:5}},line:12},"1":{name:"(anonymous_1)",decl:{start:{line:77,column:20},end:{line:77,column:21}},loc:{start:{line:77,column:31},end:{line:77,column:62}},line:77},"2":{name:"(anonymous_2)",decl:{start:{line:78,column:20},end:{line:78,column:21}},loc:{start:{line:78,column:31},end:{line:78,column:50}},line:78},"3":{name:"(anonymous_3)",decl:{start:{line:79,column:21},end:{line:79,column:22}},loc:{start:{line:79,column:32},end:{line:84,column:9}},line:79},"4":{name:"(anonymous_4)",decl:{start:{line:89,column:20},end:{line:89,column:21}},loc:{start:{line:89,column:31},end:{line:89,column:69}},line:89},"5":{name:"(anonymous_5)",decl:{start:{line:90,column:20},end:{line:90,column:21}},loc:{start:{line:90,column:31},end:{line:90,column:60}},line:90},"6":{name:"(anonymous_6)",decl:{start:{line:91,column:21},end:{line:91,column:22}},loc:{start:{line:91,column:32},end:{line:96,column:9}},line:91},"7":{name:"(anonymous_7)",decl:{start:{line:102,column:36},end:{line:102,column:37}},loc:{start:{line:102,column:46},end:{line:105,column:13}},line:102},"8":{name:"(anonymous_8)",decl:{start:{line:113,column:30},end:{line:113,column:31}},loc:{start:{line:113,column:72},end:{line:115,column:13}},line:113},"9":{name:"(anonymous_9)",decl:{start:{line:125,column:4},end:{line:125,column:5}},loc:{start:{line:125,column:40},end:{line:183,column:5}},line:125},"10":{name:"(anonymous_10)",decl:{start:{line:157,column:20},end:{line:157,column:21}},loc:{start:{line:157,column:31},end:{line:157,column:83}},line:157},"11":{name:"(anonymous_11)",decl:{start:{line:159,column:21},end:{line:159,column:22}},loc:{start:{line:159,column:32},end:{line:182,column:9}},line:159},"12":{name:"(anonymous_12)",decl:{start:{line:172,column:32},end:{line:172,column:33}},loc:{start:{line:172,column:39},end:{line:172,column:67}},line:172}},branchMap:{"0":{loc:{start:{line:30,column:8},end:{line:32,column:9}},type:"if",locations:[{start:{line:30,column:8},end:{line:32,column:9}},{start:{line:30,column:8},end:{line:32,column:9}}],line:30},"1":{loc:{start:{line:36,column:12},end:{line:38,column:13}},type:"if",locations:[{start:{line:36,column:12},end:{line:38,column:13}},{start:{line:36,column:12},end:{line:38,column:13}}],line:36},"2":{loc:{start:{line:48,column:8},end:{line:55,column:9}},type:"if",locations:[{start:{line:48,column:8},end:{line:55,column:9}},{start:{line:48,column:8},end:{line:55,column:9}}],line:48},"3":{loc:{start:{line:120,column:8},end:{line:122,column:9}},type:"if",locations:[{start:{line:120,column:8},end:{line:122,column:9}},{start:{line:120,column:8},end:{line:122,column:9}}],line:120},"4":{loc:{start:{line:132,column:8},end:{line:134,column:9}},type:"if",locations:[{start:{line:132,column:8},end:{line:134,column:9}},{start:{line:132,column:8},end:{line:134,column:9}}],line:132},"5":{loc:{start:{line:132,column:12},end:{line:132,column:31}},type:"binary-expr",locations:[{start:{line:132,column:12},end:{line:132,column:23}},{start:{line:132,column:27},end:{line:132,column:31}}],line:132},"6":{loc:{start:{line:147,column:8},end:{line:152,column:9}},type:"if",locations:[{start:{line:147,column:8},end:{line:152,column:9}},{start:{line:147,column:8},end:{line:152,column:9}}],line:147},"7":{loc:{start:{line:153,column:8},end:{line:155,column:9}},type:"if",locations:[{start:{line:153,column:8},end:{line:155,column:9}},{start:{line:153,column:8},end:{line:155,column:9}}],line:153},"8":{loc:{start:{line:157,column:31},end:{line:157,column:83}},type:"binary-expr",locations:[{start:{line:157,column:31},end:{line:157,column:52}},{start:{line:157,column:56},end:{line:157,column:83}}],line:157},"9":{loc:{start:{line:160,column:12},end:{line:181,column:13}},type:"if",locations:[{start:{line:160,column:12},end:{line:181,column:13}},{start:{line:160,column:12},end:{line:181,column:13}}],line:160},"10":{loc:{start:{line:164,column:17},end:{line:181,column:13}},type:"if",locations:[{start:{line:164,column:17},end:{line:181,column:13}},{start:{line:164,column:17},end:{line:181,column:13}}],line:164},"11":{loc:{start:{line:165,column:16},end:{line:167,column:17}},type:"if",locations:[{start:{line:165,column:16},end:{line:167,column:17}},{start:{line:165,column:16},end:{line:167,column:17}}],line:165},"12":{loc:{start:{line:170,column:17},end:{line:181,column:13}},type:"if",locations:[{start:{line:170,column:17},end:{line:181,column:13}},{start:{line:170,column:17},end:{line:181,column:13}}],line:170},"13":{loc:{start:{line:171,column:16},end:{line:174,column:17}},type:"if",locations:[{start:{line:171,column:16},end:{line:174,column:17}},{start:{line:171,column:16},end:{line:174,column:17}}],line:171},"14":{loc:{start:{line:171,column:20},end:{line:172,column:68}},type:"binary-expr",locations:[{start:{line:171,column:20},end:{line:171,column:39}},{start:{line:172,column:20},end:{line:172,column:68}}],line:171},"15":{loc:{start:{line:176,column:17},end:{line:181,column:13}},type:"if",locations:[{start:{line:176,column:17},end:{line:181,column:13}},{start:{line:176,column:17},end:{line:181,column:13}}],line:176},"16":{loc:{start:{line:178,column:16},end:{line:180,column:17}},type:"if",locations:[{start:{line:178,column:16},end:{line:180,column:17}},{start:{line:178,column:16},end:{line:180,column:17}}],line:178}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0]},inputSourceMap:{version:3,file:"/Users/malynch/D/tracerbench/packages/cli/src/commands/trace.ts",sources:["/Users/malynch/D/tracerbench/packages/cli/src/commands/trace.ts"],names:[],mappings:"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",sourcesContent:["/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport {\n  analyze,\n  IAnalyze,\n  IConditions,\n  ITraceEvent,\n  liveTrace,\n  loadTrace,\n} from \"@tracerbench/core\";\nimport { existsSync, mkdirSync, readJson, writeFileSync } from \"fs-extra\";\nimport { join, resolve } from \"path\";\n\nimport { TBBaseCommand } from \"../command-config\";\nimport { harpath } from \"../helpers/args\";\nimport {\n  cookiespath,\n  cpuThrottleRate,\n  network,\n  tbResultsFolder,\n  url,\n  usertimings,\n} from \"../helpers/flags\";\nimport {\n  byTime,\n  collect,\n  findFrame,\n  format,\n  IEvent,\n  isCommitLoad,\n  isFrameMark,\n  isFrameNavigationStart,\n  isMark,\n  isUserMark,\n  normalizeFnName,\n  setTraceEvents,\n} from \"../helpers/utils\";\n\nexport default class Trace extends TBBaseCommand {\n  public static description = `Parses a CPU profile and aggregates time across heuristics.`;\n  public static args = [harpath];\n  public static flags = {\n    cpuThrottleRate: cpuThrottleRate({ required: true }),\n    tbResultsFolder: tbResultsFolder({ required: true }),\n    network: network(),\n    url: url({ required: true }),\n    cookiespath: cookiespath({ required: true }),\n    usertimings,\n  };\n\n  public async run() {\n    const { flags, args } = this.parse(Trace);\n    const {\n      cpuThrottleRate,\n      cookiespath,\n      tbResultsFolder,\n      network,\n      usertimings,\n    } = flags;\n    const { harpath } = args;\n    let { url } = flags;\n    let cookies = [\n      {\n        name: \"\",\n        value: \"\",\n        domain: \"\",\n        path: \"\",\n      },\n    ];\n    const methods = [\"\"];\n    const conditions: IConditions = {\n      cpu: cpuThrottleRate,\n      network,\n    };\n    if (cookiespath.length) {\n      cookies = await readJson(resolve(cookiespath));\n    }\n    // if the folder for the tracerbench results file\n    // does not exist then create it\n    try {\n      if (!existsSync(tbResultsFolder)) {\n        mkdirSync(tbResultsFolder);\n      }\n    } catch (error) {\n      this.error(error);\n    }\n    // validate har and clone it to trace.json which will be mutated\n    const harJSON = await readJson(resolve(harpath));\n    const traceJSONPath = join(tbResultsFolder, \"trace.json\");\n    writeFileSync(traceJSONPath, JSON.stringify(harJSON, null, 2));\n\n    // if no url get url from har\n    if (!url.length) {\n      try {\n        url = harJSON.log.entries[0].request.url;\n      } catch (error) {\n        this.error(\n          `${error}. Could not extract the URL from the HAR. Explicitly pass via \"--url\" flag and rerun.`\n        );\n      }\n    }\n\n    // run the liveTrace\n    const { traceEvents } = await liveTrace(\n      url,\n      tbResultsFolder,\n      cookies,\n      conditions\n    );\n\n    const analyzeOptions: IAnalyze = {\n      traceEvents,\n      traceHARJSON: harJSON,\n      methods,\n    };\n\n    // analyze the liveTrace\n    await analyze(analyzeOptions);\n\n    // js-eval-time\n    let trace: any;\n    let totalJSDuration = 0;\n    let totalCSSDuration = 0;\n\n    const methodsSet = new Set();\n\n    try {\n      trace = setTraceEvents(traceEvents);\n    } catch (error) {\n      this.error(`${error}`);\n    }\n\n    trace\n      .filter((event: ITraceEvent) => event.name === \"EvaluateScript\")\n      .filter((event: any) => event.args.data.url)\n      .forEach((event: any) => {\n        const url = event.args.data.url;\n        const durationInMs = (event.dur as number) / 1000;\n        totalJSDuration += durationInMs;\n        this.log(`JS: ${url}: ${durationInMs.toFixed(2)}`);\n      });\n\n    // log js-eval-time\n    this.log(\n      `JS: Evaluation Total Duration: ${totalJSDuration.toFixed(2)}ms \\n\\n`\n    );\n\n    // css-parse\n    trace\n      .filter((event: ITraceEvent) => event.name === \"ParseAuthorStyleSheet\")\n      .filter((event: any) => event.args.data.styleSheetUrl)\n      .forEach((event: any) => {\n        const url = event.args.data.styleSheetUrl;\n        const durationInMs = event.dur / 1000;\n        totalCSSDuration += durationInMs;\n        this.log(`CSS: ${url}: ${durationInMs.toFixed(2)}`);\n      });\n\n    // log css-parse-time\n    this.log(\n      `CSS: Evaluation Total Duration: ${totalCSSDuration.toFixed(2)}ms \\n\\n`\n    );\n\n    // list-functions\n    try {\n      const profile = loadTrace(trace).cpuProfile(-1, -1);\n      profile.nodeMap.forEach((node: any) => {\n        const { functionName, url, lineNumber, columnNumber } = node.callFrame;\n\n        methodsSet.add(\n          `${url}:${lineNumber}:${columnNumber}.${normalizeFnName(\n            functionName\n          )}`\n        );\n      });\n    } catch (error) {\n      this.error(error);\n    }\n\n    try {\n      trace = setTraceEvents(traceEvents);\n      const traceLoad = trace.filter(isCommitLoad);\n      traceLoad.forEach(\n        ({\n          args: {\n            data: { frame, url },\n          },\n        }: {\n          args: { data: { frame: any; url: any } };\n        }) => {\n          this.log(`Frame-URL: ${url} | Frame-ID: ${frame}`);\n        }\n      );\n    } catch (error) {\n      this.error(`${error}`);\n    }\n\n    if (usertimings) {\n      await this.markerTimings(traceJSONPath, url);\n    }\n  }\n\n  // tracerbench marker-timings cmd moved here\n  private async markerTimings(tracepath: string, url: string): Promise<void> {\n    const traceFrame: string = url;\n    const filter = collect(\"\", []);\n\n    let frame: any = null;\n    let startTime = -1;\n    let rawTraceData: any = null;\n    let trace: any = null;\n\n    if (!traceFrame && !url) {\n      this.error(`Either a traceFrame or url are required flags.`);\n    }\n\n    try {\n      rawTraceData = await readJson(resolve(tracepath));\n    } catch (e) {\n      this.error(e);\n    }\n\n    try {\n      trace = setTraceEvents(rawTraceData);\n    } catch (e) {\n      this.error(e);\n    }\n\n    if (traceFrame.startsWith(\"http\")) {\n      frame = findFrame(trace, traceFrame);\n    } else {\n      frame = traceFrame;\n    }\n    if (!frame) {\n      this.error(`frame not found`);\n    }\n\n    trace\n      .filter((event: IEvent) => isMark(event) || isCommitLoad(event))\n      .sort(byTime)\n      .forEach((event: any) => {\n        if (isFrameNavigationStart(frame, event)) {\n          startTime = event.ts;\n          this.log(\n            `Marker Timings: ${format(event.ts, startTime)} ${event.name}`\n          );\n        } else if (isFrameMark(frame, event)) {\n          if (startTime === -1) {\n            startTime = event.ts;\n          }\n          this.log(\n            `Marker Timings: ${format(event.ts, startTime)} ${event.name}`\n          );\n        } else if (isUserMark(event)) {\n          if (\n            filter.length === 0 ||\n            filter.some((f: any) => event.name.indexOf(f) !== -1)\n          ) {\n            this.log(\n              `Marker Timings: ${format(event.ts, startTime)} ${event.name}`\n            );\n          }\n        } else if (isCommitLoad(event)) {\n          const { data } = event.args;\n          if (data.frame === frame) {\n            this.log(\n              `Marker Timings: ${format(event.ts, startTime)} ${event.name} ${\n                data.frame\n              } ${data.url}`\n            );\n          }\n        }\n      });\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"22b1f45cba4828f4d6e3c900c5ecc689b222faf2"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_1wmjbuuxyq=function(){return actualCoverage;};return actualCoverage;}cov_1wmjbuuxyq().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});/* eslint-disable @typescript-eslint/explicit-function-return-type */const core_1=(cov_1wmjbuuxyq().s[1]++,require("@tracerbench/core"));const fs_extra_1=(cov_1wmjbuuxyq().s[2]++,require("fs-extra"));const path_1=(cov_1wmjbuuxyq().s[3]++,require("path"));const command_config_1=(cov_1wmjbuuxyq().s[4]++,require("../command-config"));const args_1=(cov_1wmjbuuxyq().s[5]++,require("../helpers/args"));const flags_1=(cov_1wmjbuuxyq().s[6]++,require("../helpers/flags"));const utils_1=(cov_1wmjbuuxyq().s[7]++,require("../helpers/utils"));class Trace extends(command_config_1.TBBaseCommand){async run(){cov_1wmjbuuxyq().f[0]++;const{flags,args}=(cov_1wmjbuuxyq().s[8]++,this.parse(Trace));const{cpuThrottleRate,cookiespath,tbResultsFolder,network,usertimings}=(cov_1wmjbuuxyq().s[9]++,flags);const{harpath}=(cov_1wmjbuuxyq().s[10]++,args);let{url}=(cov_1wmjbuuxyq().s[11]++,flags);let cookies=(cov_1wmjbuuxyq().s[12]++,[{name:"",value:"",domain:"",path:""}]);const methods=(cov_1wmjbuuxyq().s[13]++,[""]);const conditions=(cov_1wmjbuuxyq().s[14]++,{cpu:cpuThrottleRate,network});cov_1wmjbuuxyq().s[15]++;if(cookiespath.length){cov_1wmjbuuxyq().b[0][0]++;cov_1wmjbuuxyq().s[16]++;cookies=await fs_extra_1.readJson(path_1.resolve(cookiespath));}else{cov_1wmjbuuxyq().b[0][1]++;}// if the folder for the tracerbench results file
// does not exist then create it
cov_1wmjbuuxyq().s[17]++;try{cov_1wmjbuuxyq().s[18]++;if(!fs_extra_1.existsSync(tbResultsFolder)){cov_1wmjbuuxyq().b[1][0]++;cov_1wmjbuuxyq().s[19]++;fs_extra_1.mkdirSync(tbResultsFolder);}else{cov_1wmjbuuxyq().b[1][1]++;}}catch(error){cov_1wmjbuuxyq().s[20]++;this.error(error);}// validate har and clone it to trace.json which will be mutated
const harJSON=(cov_1wmjbuuxyq().s[21]++,await fs_extra_1.readJson(path_1.resolve(harpath)));const traceJSONPath=(cov_1wmjbuuxyq().s[22]++,path_1.join(tbResultsFolder,"trace.json"));cov_1wmjbuuxyq().s[23]++;fs_extra_1.writeFileSync(traceJSONPath,JSON.stringify(harJSON,null,2));// if no url get url from har
cov_1wmjbuuxyq().s[24]++;if(!url.length){cov_1wmjbuuxyq().b[2][0]++;cov_1wmjbuuxyq().s[25]++;try{cov_1wmjbuuxyq().s[26]++;url=harJSON.log.entries[0].request.url;}catch(error){cov_1wmjbuuxyq().s[27]++;this.error(`${error}. Could not extract the URL from the HAR. Explicitly pass via "--url" flag and rerun.`);}}else{cov_1wmjbuuxyq().b[2][1]++;}// run the liveTrace
const{traceEvents}=(cov_1wmjbuuxyq().s[28]++,await core_1.liveTrace(url,tbResultsFolder,cookies,conditions));const analyzeOptions=(cov_1wmjbuuxyq().s[29]++,{traceEvents,traceHARJSON:harJSON,methods});// analyze the liveTrace
cov_1wmjbuuxyq().s[30]++;await core_1.analyze(analyzeOptions);// js-eval-time
let trace;let totalJSDuration=(cov_1wmjbuuxyq().s[31]++,0);let totalCSSDuration=(cov_1wmjbuuxyq().s[32]++,0);const methodsSet=(cov_1wmjbuuxyq().s[33]++,new Set());cov_1wmjbuuxyq().s[34]++;try{cov_1wmjbuuxyq().s[35]++;trace=utils_1.setTraceEvents(traceEvents);}catch(error){cov_1wmjbuuxyq().s[36]++;this.error(`${error}`);}cov_1wmjbuuxyq().s[37]++;trace.filter(event=>{cov_1wmjbuuxyq().f[1]++;cov_1wmjbuuxyq().s[38]++;return event.name==="EvaluateScript";}).filter(event=>{cov_1wmjbuuxyq().f[2]++;cov_1wmjbuuxyq().s[39]++;return event.args.data.url;}).forEach(event=>{cov_1wmjbuuxyq().f[3]++;const url=(cov_1wmjbuuxyq().s[40]++,event.args.data.url);const durationInMs=(cov_1wmjbuuxyq().s[41]++,event.dur/1000);cov_1wmjbuuxyq().s[42]++;totalJSDuration+=durationInMs;cov_1wmjbuuxyq().s[43]++;this.log(`JS: ${url}: ${durationInMs.toFixed(2)}`);});// log js-eval-time
cov_1wmjbuuxyq().s[44]++;this.log(`JS: Evaluation Total Duration: ${totalJSDuration.toFixed(2)}ms \n\n`);// css-parse
cov_1wmjbuuxyq().s[45]++;trace.filter(event=>{cov_1wmjbuuxyq().f[4]++;cov_1wmjbuuxyq().s[46]++;return event.name==="ParseAuthorStyleSheet";}).filter(event=>{cov_1wmjbuuxyq().f[5]++;cov_1wmjbuuxyq().s[47]++;return event.args.data.styleSheetUrl;}).forEach(event=>{cov_1wmjbuuxyq().f[6]++;const url=(cov_1wmjbuuxyq().s[48]++,event.args.data.styleSheetUrl);const durationInMs=(cov_1wmjbuuxyq().s[49]++,event.dur/1000);cov_1wmjbuuxyq().s[50]++;totalCSSDuration+=durationInMs;cov_1wmjbuuxyq().s[51]++;this.log(`CSS: ${url}: ${durationInMs.toFixed(2)}`);});// log css-parse-time
cov_1wmjbuuxyq().s[52]++;this.log(`CSS: Evaluation Total Duration: ${totalCSSDuration.toFixed(2)}ms \n\n`);// list-functions
cov_1wmjbuuxyq().s[53]++;try{const profile=(cov_1wmjbuuxyq().s[54]++,core_1.loadTrace(trace).cpuProfile(-1,-1));cov_1wmjbuuxyq().s[55]++;profile.nodeMap.forEach(node=>{cov_1wmjbuuxyq().f[7]++;const{functionName,url,lineNumber,columnNumber}=(cov_1wmjbuuxyq().s[56]++,node.callFrame);cov_1wmjbuuxyq().s[57]++;methodsSet.add(`${url}:${lineNumber}:${columnNumber}.${utils_1.normalizeFnName(functionName)}`);});}catch(error){cov_1wmjbuuxyq().s[58]++;this.error(error);}cov_1wmjbuuxyq().s[59]++;try{cov_1wmjbuuxyq().s[60]++;trace=utils_1.setTraceEvents(traceEvents);const traceLoad=(cov_1wmjbuuxyq().s[61]++,trace.filter(utils_1.isCommitLoad));cov_1wmjbuuxyq().s[62]++;traceLoad.forEach(({args:{data:{frame,url}}})=>{cov_1wmjbuuxyq().f[8]++;cov_1wmjbuuxyq().s[63]++;this.log(`Frame-URL: ${url} | Frame-ID: ${frame}`);});}catch(error){cov_1wmjbuuxyq().s[64]++;this.error(`${error}`);}cov_1wmjbuuxyq().s[65]++;if(usertimings){cov_1wmjbuuxyq().b[3][0]++;cov_1wmjbuuxyq().s[66]++;await this.markerTimings(traceJSONPath,url);}else{cov_1wmjbuuxyq().b[3][1]++;}}// tracerbench marker-timings cmd moved here
async markerTimings(tracepath,url){cov_1wmjbuuxyq().f[9]++;const traceFrame=(cov_1wmjbuuxyq().s[67]++,url);const filter=(cov_1wmjbuuxyq().s[68]++,utils_1.collect("",[]));let frame=(cov_1wmjbuuxyq().s[69]++,null);let startTime=(cov_1wmjbuuxyq().s[70]++,-1);let rawTraceData=(cov_1wmjbuuxyq().s[71]++,null);let trace=(cov_1wmjbuuxyq().s[72]++,null);cov_1wmjbuuxyq().s[73]++;if((cov_1wmjbuuxyq().b[5][0]++,!traceFrame)&&(cov_1wmjbuuxyq().b[5][1]++,!url)){cov_1wmjbuuxyq().b[4][0]++;cov_1wmjbuuxyq().s[74]++;this.error(`Either a traceFrame or url are required flags.`);}else{cov_1wmjbuuxyq().b[4][1]++;}cov_1wmjbuuxyq().s[75]++;try{cov_1wmjbuuxyq().s[76]++;rawTraceData=await fs_extra_1.readJson(path_1.resolve(tracepath));}catch(e){cov_1wmjbuuxyq().s[77]++;this.error(e);}cov_1wmjbuuxyq().s[78]++;try{cov_1wmjbuuxyq().s[79]++;trace=utils_1.setTraceEvents(rawTraceData);}catch(e){cov_1wmjbuuxyq().s[80]++;this.error(e);}cov_1wmjbuuxyq().s[81]++;if(traceFrame.startsWith("http")){cov_1wmjbuuxyq().b[6][0]++;cov_1wmjbuuxyq().s[82]++;frame=utils_1.findFrame(trace,traceFrame);}else{cov_1wmjbuuxyq().b[6][1]++;cov_1wmjbuuxyq().s[83]++;frame=traceFrame;}cov_1wmjbuuxyq().s[84]++;if(!frame){cov_1wmjbuuxyq().b[7][0]++;cov_1wmjbuuxyq().s[85]++;this.error(`frame not found`);}else{cov_1wmjbuuxyq().b[7][1]++;}cov_1wmjbuuxyq().s[86]++;trace.filter(event=>{cov_1wmjbuuxyq().f[10]++;cov_1wmjbuuxyq().s[87]++;return(cov_1wmjbuuxyq().b[8][0]++,utils_1.isMark(event))||(cov_1wmjbuuxyq().b[8][1]++,utils_1.isCommitLoad(event));}).sort(utils_1.byTime).forEach(event=>{cov_1wmjbuuxyq().f[11]++;cov_1wmjbuuxyq().s[88]++;if(utils_1.isFrameNavigationStart(frame,event)){cov_1wmjbuuxyq().b[9][0]++;cov_1wmjbuuxyq().s[89]++;startTime=event.ts;cov_1wmjbuuxyq().s[90]++;this.log(`Marker Timings: ${utils_1.format(event.ts,startTime)} ${event.name}`);}else{cov_1wmjbuuxyq().b[9][1]++;cov_1wmjbuuxyq().s[91]++;if(utils_1.isFrameMark(frame,event)){cov_1wmjbuuxyq().b[10][0]++;cov_1wmjbuuxyq().s[92]++;if(startTime===-1){cov_1wmjbuuxyq().b[11][0]++;cov_1wmjbuuxyq().s[93]++;startTime=event.ts;}else{cov_1wmjbuuxyq().b[11][1]++;}cov_1wmjbuuxyq().s[94]++;this.log(`Marker Timings: ${utils_1.format(event.ts,startTime)} ${event.name}`);}else{cov_1wmjbuuxyq().b[10][1]++;cov_1wmjbuuxyq().s[95]++;if(utils_1.isUserMark(event)){cov_1wmjbuuxyq().b[12][0]++;cov_1wmjbuuxyq().s[96]++;if((cov_1wmjbuuxyq().b[14][0]++,filter.length===0)||(cov_1wmjbuuxyq().b[14][1]++,filter.some(f=>{cov_1wmjbuuxyq().f[12]++;cov_1wmjbuuxyq().s[97]++;return event.name.indexOf(f)!==-1;}))){cov_1wmjbuuxyq().b[13][0]++;cov_1wmjbuuxyq().s[98]++;this.log(`Marker Timings: ${utils_1.format(event.ts,startTime)} ${event.name}`);}else{cov_1wmjbuuxyq().b[13][1]++;}}else{cov_1wmjbuuxyq().b[12][1]++;cov_1wmjbuuxyq().s[99]++;if(utils_1.isCommitLoad(event)){cov_1wmjbuuxyq().b[15][0]++;const{data}=(cov_1wmjbuuxyq().s[100]++,event.args);cov_1wmjbuuxyq().s[101]++;if(data.frame===frame){cov_1wmjbuuxyq().b[16][0]++;cov_1wmjbuuxyq().s[102]++;this.log(`Marker Timings: ${utils_1.format(event.ts,startTime)} ${event.name} ${data.frame} ${data.url}`);}else{cov_1wmjbuuxyq().b[16][1]++;}}else{cov_1wmjbuuxyq().b[15][1]++;}}}}});}}cov_1wmjbuuxyq().s[103]++;exports.default=Trace;cov_1wmjbuuxyq().s[104]++;Trace.description=`Parses a CPU profile and aggregates time across heuristics.`;cov_1wmjbuuxyq().s[105]++;Trace.args=[args_1.harpath];cov_1wmjbuuxyq().s[106]++;Trace.flags={cpuThrottleRate:flags_1.cpuThrottleRate({required:true}),tbResultsFolder:flags_1.tbResultsFolder({required:true}),network:flags_1.network(),url:flags_1.url({required:true}),cookiespath:flags_1.cookiespath({required:true}),usertimings:flags_1.usertimings};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL21hbHluY2gvRC90cmFjZXJiZW5jaC9wYWNrYWdlcy9jbGkvc3JjL2NvbW1hbmRzL3RyYWNlLnRzIiwic291cmNlcyI6WyIvVXNlcnMvbWFseW5jaC9EL3RyYWNlcmJlbmNoL3BhY2thZ2VzL2NsaS9zcmMvY29tbWFuZHMvdHJhY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxxRUFBcUU7QUFDckUsNENBTzJCO0FBQzNCLHVDQUEwRTtBQUMxRSwrQkFBcUM7QUFFckMsc0RBQWtEO0FBQ2xELDBDQUEwQztBQUMxQyw0Q0FPMEI7QUFDMUIsNENBYTBCO0FBRTFCLE1BQXFCLEtBQU0sU0FBUSw4QkFBYTtJQVl2QyxLQUFLLENBQUMsR0FBRztRQUNkLE1BQU0sRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMxQyxNQUFNLEVBQ0osZUFBZSxFQUNmLFdBQVcsRUFDWCxlQUFlLEVBQ2YsT0FBTyxFQUNQLFdBQVcsR0FDWixHQUFHLEtBQUssQ0FBQztRQUNWLE1BQU0sRUFBRSxPQUFPLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFDekIsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEtBQUssQ0FBQztRQUNwQixJQUFJLE9BQU8sR0FBRztZQUNaO2dCQUNFLElBQUksRUFBRSxFQUFFO2dCQUNSLEtBQUssRUFBRSxFQUFFO2dCQUNULE1BQU0sRUFBRSxFQUFFO2dCQUNWLElBQUksRUFBRSxFQUFFO2FBQ1Q7U0FDRixDQUFDO1FBQ0YsTUFBTSxPQUFPLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNyQixNQUFNLFVBQVUsR0FBZ0I7WUFDOUIsR0FBRyxFQUFFLGVBQWU7WUFDcEIsT0FBTztTQUNSLENBQUM7UUFDRixJQUFJLFdBQVcsQ0FBQyxNQUFNLEVBQUU7WUFDdEIsT0FBTyxHQUFHLE1BQU0sbUJBQVEsQ0FBQyxjQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztT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RUFBRSxJQUFJLEVBQUUsQ0FBQztJQUNwRCxPQUFPLEVBQUUsZUFBTyxFQUFFO0lBQ2xCLEdBQUcsRUFBRSxXQUFHLENBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUM7SUFDNUIsV0FBVyxFQUFFLG1CQUFXLENBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUM7SUFDNUMsV0FBVyxFQUFYLG1CQUFXO0NBQ1osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1mdW5jdGlvbi1yZXR1cm4tdHlwZSAqL1xuaW1wb3J0IHtcbiAgYW5hbHl6ZSxcbiAgSUFuYWx5emUsXG4gIElDb25kaXRpb25zLFxuICBJVHJhY2VFdmVudCxcbiAgbGl2ZVRyYWNlLFxuICBsb2FkVHJhY2UsXG59IGZyb20gXCJAdHJhY2VyYmVuY2gvY29yZVwiO1xuaW1wb3J0IHsgZXhpc3RzU3luYywgbWtkaXJTeW5jLCByZWFkSnNvbiwgd3JpdGVGaWxlU3luYyB9IGZyb20gXCJmcy1leHRyYVwiO1xuaW1wb3J0IHsgam9pbiwgcmVzb2x2ZSB9IGZyb20gXCJwYXRoXCI7XG5cbmltcG9ydCB7IFRCQmFzZUNvbW1hbmQgfSBmcm9tIFwiLi4vY29tbWFuZC1jb25maWdcIjtcbmltcG9ydCB7IGhhcnBhdGggfSBmcm9tIFwiLi4vaGVscGVycy9hcmdzXCI7XG5pbXBvcnQge1xuICBjb29raWVzcGF0aCxcbiAgY3B1VGhyb3R0bGVSYXRlLFxuICBuZXR3b3JrLFxuICB0YlJlc3VsdHNGb2xkZXIsXG4gIHVybCxcbiAgdXNlcnRpbWluZ3MsXG59IGZyb20gXCIuLi9oZWxwZXJzL2ZsYWdzXCI7XG5pbXBvcnQge1xuICBieVRpbWUsXG4gIGNvbGxlY3QsXG4gIGZpbmRGcmFtZSxcbiAgZm9ybWF0LFxuICBJRXZlbnQsXG4gIGlzQ29tbWl0TG9hZCxcbiAgaXNGcmFtZU1hcmssXG4gIGlzRnJhbWVOYXZpZ2F0aW9uU3RhcnQsXG4gIGlzTWFyayxcbiAgaXNVc2VyTWFyayxcbiAgbm9ybWFsaXplRm5OYW1lLFxuICBzZXRUcmFjZUV2ZW50cyxcbn0gZnJvbSBcIi4uL2hlbHBlcnMvdXRpbHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhY2UgZXh0ZW5kcyBUQkJhc2VDb21tYW5kIHtcbiAgcHVibGljIHN0YXRpYyBkZXNjcmlwdGlvbiA9IGBQYXJzZXMgYSBDUFUgcHJvZmlsZSBhbmQgYWdncmVnYXRlcyB0aW1lIGFjcm9zcyBoZXVyaXN0aWNzLmA7XG4gIHB1YmxpYyBzdGF0aWMgYXJncyA9IFtoYXJwYXRoXTtcbiAgcHVibGljIHN0YXRpYyBmbGFncyA9IHtcbiAgICBjcHVUaHJvdHRsZVJhdGU6IGNwdVRocm90dGxlUmF0ZSh7IHJlcXVpcmVkOiB0cnVlIH0pLFxuICAgIHRiUmVzdWx0c0ZvbGRlcjogdGJSZXN1bHRzRm9sZGVyKHsgcmVxdWlyZWQ6IHRydWUgfSksXG4gICAgbmV0d29yazogbmV0d29yaygpLFxuICAgIHVybDogdXJsKHsgcmVxdWlyZWQ6IHRydWUgfSksXG4gICAgY29va2llc3BhdGg6IGNvb2tpZXNwYXRoKHsgcmVxdWlyZWQ6IHRydWUgfSksXG4gICAgdXNlcnRpbWluZ3MsXG4gIH07XG5cbiAgcHVibGljIGFzeW5jIHJ1bigpIHtcbiAgICBjb25zdCB7IGZsYWdzLCBhcmdzIH0gPSB0aGlzLnBhcnNlKFRyYWNlKTtcbiAgICBjb25zdCB7XG4gICAgICBjcHVUaHJvdHRsZVJhdGUsXG4gICAgICBjb29raWVzcGF0aCxcbiAgICAgIHRiUmVzdWx0c0ZvbGRlcixcbiAgICAgIG5ldHdvcmssXG4gICAgICB1c2VydGltaW5ncyxcbiAgICB9ID0gZmxhZ3M7XG4gICAgY29uc3QgeyBoYXJwYXRoIH0gPSBhcmdzO1xuICAgIGxldCB7IHVybCB9ID0gZmxhZ3M7XG4gICAgbGV0IGNvb2tpZXMgPSBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIHZhbHVlOiBcIlwiLFxuICAgICAgICBkb21haW46IFwiXCIsXG4gICAgICAgIHBhdGg6IFwiXCIsXG4gICAgICB9LFxuICAgIF07XG4gICAgY29uc3QgbWV0aG9kcyA9IFtcIlwiXTtcbiAgICBjb25zdCBjb25kaXRpb25zOiBJQ29uZGl0aW9ucyA9IHtcbiAgICAgIGNwdTogY3B1VGhyb3R0bGVSYXRlLFxuICAgICAgbmV0d29yayxcbiAgICB9O1xuICAgIGlmIChjb29raWVzcGF0aC5sZW5ndGgpIHtcbiAgICAgIGNvb2tpZXMgPSBhd2FpdCByZWFkSnNvbihyZXNvbHZlKGNvb2tpZXNwYXRoKSk7XG4gICAgfVxuICAgIC8vIGlmIHRoZSBmb2xkZXIgZm9yIHRoZSB0cmFjZXJiZW5jaCByZXN1bHRzIGZpbGVcbiAgICAvLyBkb2VzIG5vdCBleGlzdCB0aGVuIGNyZWF0ZSBpdFxuICAgIHRyeSB7XG4gICAgICBpZiAoIWV4aXN0c1N5bmModGJSZXN1bHRzRm9sZGVyKSkge1xuICAgICAgICBta2RpclN5bmModGJSZXN1bHRzRm9sZGVyKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5lcnJvcihlcnJvcik7XG4gICAgfVxuICAgIC8vIHZhbGlkYXRlIGhhciBhbmQgY2xvbmUgaXQgdG8gdHJhY2UuanNvbiB3aGljaCB3aWxsIGJlIG11dGF0ZWRcbiAgICBjb25zdCBoYXJKU09OID0gYXdhaXQgcmVhZEpzb24ocmVzb2x2ZShoYXJwYXRoKSk7XG4gICAgY29uc3QgdHJhY2VKU09OUGF0aCA9IGpvaW4odGJSZXN1bHRzRm9sZGVyLCBcInRyYWNlLmpzb25cIik7XG4gICAgd3JpdGVGaWxlU3luYyh0cmFjZUpTT05QYXRoLCBKU09OLnN0cmluZ2lmeShoYXJKU09OLCBudWxsLCAyKSk7XG5cbiAgICAvLyBpZiBubyB1cmwgZ2V0IHVybCBmcm9tIGhhclxuICAgIGlmICghdXJsLmxlbmd0aCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdXJsID0gaGFySlNPTi5sb2cuZW50cmllc1swXS5yZXF1ZXN0LnVybDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRoaXMuZXJyb3IoXG4gICAgICAgICAgYCR7ZXJyb3J9LiBDb3VsZCBub3QgZXh0cmFjdCB0aGUgVVJMIGZyb20gdGhlIEhBUi4gRXhwbGljaXRseSBwYXNzIHZpYSBcIi0tdXJsXCIgZmxhZyBhbmQgcmVydW4uYFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHJ1biB0aGUgbGl2ZVRyYWNlXG4gICAgY29uc3QgeyB0cmFjZUV2ZW50cyB9ID0gYXdhaXQgbGl2ZVRyYWNlKFxuICAgICAgdXJsLFxuICAgICAgdGJSZXN1bHRzRm9sZGVyLFxuICAgICAgY29va2llcyxcbiAgICAgIGNvbmRpdGlvbnNcbiAgICApO1xuXG4gICAgY29uc3QgYW5hbHl6ZU9wdGlvbnM6IElBbmFseXplID0ge1xuICAgICAgdHJhY2VFdmVudHMsXG4gICAgICB0cmFjZUhBUkpTT046IGhhckpTT04sXG4gICAgICBtZXRob2RzLFxuICAgIH07XG5cbiAgICAvLyBhbmFseXplIHRoZSBsaXZlVHJhY2VcbiAgICBhd2FpdCBhbmFseXplKGFuYWx5emVPcHRpb25zKTtcblxuICAgIC8vIGpzLWV2YWwtdGltZVxuICAgIGxldCB0cmFjZTogYW55O1xuICAgIGxldCB0b3RhbEpTRHVyYXRpb24gPSAwO1xuICAgIGxldCB0b3RhbENTU0R1cmF0aW9uID0gMDtcblxuICAgIGNvbnN0IG1ldGhvZHNTZXQgPSBuZXcgU2V0KCk7XG5cbiAgICB0cnkge1xuICAgICAgdHJhY2UgPSBzZXRUcmFjZUV2ZW50cyh0cmFjZUV2ZW50cyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuZXJyb3IoYCR7ZXJyb3J9YCk7XG4gICAgfVxuXG4gICAgdHJhY2VcbiAgICAgIC5maWx0ZXIoKGV2ZW50OiBJVHJhY2VFdmVudCkgPT4gZXZlbnQubmFtZSA9PT0gXCJFdmFsdWF0ZVNjcmlwdFwiKVxuICAgICAgLmZpbHRlcigoZXZlbnQ6IGFueSkgPT4gZXZlbnQuYXJncy5kYXRhLnVybClcbiAgICAgIC5mb3JFYWNoKChldmVudDogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IHVybCA9IGV2ZW50LmFyZ3MuZGF0YS51cmw7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uSW5NcyA9IChldmVudC5kdXIgYXMgbnVtYmVyKSAvIDEwMDA7XG4gICAgICAgIHRvdGFsSlNEdXJhdGlvbiArPSBkdXJhdGlvbkluTXM7XG4gICAgICAgIHRoaXMubG9nKGBKUzogJHt1cmx9OiAke2R1cmF0aW9uSW5Ncy50b0ZpeGVkKDIpfWApO1xuICAgICAgfSk7XG5cbiAgICAvLyBsb2cganMtZXZhbC10aW1lXG4gICAgdGhpcy5sb2coXG4gICAgICBgSlM6IEV2YWx1YXRpb24gVG90YWwgRHVyYXRpb246ICR7dG90YWxKU0R1cmF0aW9uLnRvRml4ZWQoMil9bXMgXFxuXFxuYFxuICAgICk7XG5cbiAgICAvLyBjc3MtcGFyc2VcbiAgICB0cmFjZVxuICAgICAgLmZpbHRlcigoZXZlbnQ6IElUcmFjZUV2ZW50KSA9PiBldmVudC5uYW1lID09PSBcIlBhcnNlQXV0aG9yU3R5bGVTaGVldFwiKVxuICAgICAgLmZpbHRlcigoZXZlbnQ6IGFueSkgPT4gZXZlbnQuYXJncy5kYXRhLnN0eWxlU2hlZXRVcmwpXG4gICAgICAuZm9yRWFjaCgoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICBjb25zdCB1cmwgPSBldmVudC5hcmdzLmRhdGEuc3R5bGVTaGVldFVybDtcbiAgICAgICAgY29uc3QgZHVyYXRpb25Jbk1zID0gZXZlbnQuZHVyIC8gMTAwMDtcbiAgICAgICAgdG90YWxDU1NEdXJhdGlvbiArPSBkdXJhdGlvbkluTXM7XG4gICAgICAgIHRoaXMubG9nKGBDU1M6ICR7dXJsfTogJHtkdXJhdGlvbkluTXMudG9GaXhlZCgyKX1gKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gbG9nIGNzcy1wYXJzZS10aW1lXG4gICAgdGhpcy5sb2coXG4gICAgICBgQ1NTOiBFdmFsdWF0aW9uIFRvdGFsIER1cmF0aW9uOiAke3RvdGFsQ1NTRHVyYXRpb24udG9GaXhlZCgyKX1tcyBcXG5cXG5gXG4gICAgKTtcblxuICAgIC8vIGxpc3QtZnVuY3Rpb25zXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHByb2ZpbGUgPSBsb2FkVHJhY2UodHJhY2UpLmNwdVByb2ZpbGUoLTEsIC0xKTtcbiAgICAgIHByb2ZpbGUubm9kZU1hcC5mb3JFYWNoKChub2RlOiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgeyBmdW5jdGlvbk5hbWUsIHVybCwgbGluZU51bWJlciwgY29sdW1uTnVtYmVyIH0gPSBub2RlLmNhbGxGcmFtZTtcblxuICAgICAgICBtZXRob2RzU2V0LmFkZChcbiAgICAgICAgICBgJHt1cmx9OiR7bGluZU51bWJlcn06JHtjb2x1bW5OdW1iZXJ9LiR7bm9ybWFsaXplRm5OYW1lKFxuICAgICAgICAgICAgZnVuY3Rpb25OYW1lXG4gICAgICAgICAgKX1gXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5lcnJvcihlcnJvcik7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHRyYWNlID0gc2V0VHJhY2VFdmVudHModHJhY2VFdmVudHMpO1xuICAgICAgY29uc3QgdHJhY2VMb2FkID0gdHJhY2UuZmlsdGVyKGlzQ29tbWl0TG9hZCk7XG4gICAgICB0cmFjZUxvYWQuZm9yRWFjaChcbiAgICAgICAgKHtcbiAgICAgICAgICBhcmdzOiB7XG4gICAgICAgICAgICBkYXRhOiB7IGZyYW1lLCB1cmwgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9OiB7XG4gICAgICAgICAgYXJnczogeyBkYXRhOiB7IGZyYW1lOiBhbnk7IHVybDogYW55IH0gfTtcbiAgICAgICAgfSkgPT4ge1xuICAgICAgICAgIHRoaXMubG9nKGBGcmFtZS1VUkw6ICR7dXJsfSB8IEZyYW1lLUlEOiAke2ZyYW1lfWApO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmVycm9yKGAke2Vycm9yfWApO1xuICAgIH1cblxuICAgIGlmICh1c2VydGltaW5ncykge1xuICAgICAgYXdhaXQgdGhpcy5tYXJrZXJUaW1pbmdzKHRyYWNlSlNPTlBhdGgsIHVybCk7XG4gICAgfVxuICB9XG5cbiAgLy8gdHJhY2VyYmVuY2ggbWFya2VyLXRpbWluZ3MgY21kIG1vdmVkIGhlcmVcbiAgcHJpdmF0ZSBhc3luYyBtYXJrZXJUaW1pbmdzKHRyYWNlcGF0aDogc3RyaW5nLCB1cmw6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHRyYWNlRnJhbWU6IHN0cmluZyA9IHVybDtcbiAgICBjb25zdCBmaWx0ZXIgPSBjb2xsZWN0KFwiXCIsIFtdKTtcblxuICAgIGxldCBmcmFtZTogYW55ID0gbnVsbDtcbiAgICBsZXQgc3RhcnRUaW1lID0gLTE7XG4gICAgbGV0IHJhd1RyYWNlRGF0YTogYW55ID0gbnVsbDtcbiAgICBsZXQgdHJhY2U6IGFueSA9IG51bGw7XG5cbiAgICBpZiAoIXRyYWNlRnJhbWUgJiYgIXVybCkge1xuICAgICAgdGhpcy5lcnJvcihgRWl0aGVyIGEgdHJhY2VGcmFtZSBvciB1cmwgYXJlIHJlcXVpcmVkIGZsYWdzLmApO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByYXdUcmFjZURhdGEgPSBhd2FpdCByZWFkSnNvbihyZXNvbHZlKHRyYWNlcGF0aCkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMuZXJyb3IoZSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHRyYWNlID0gc2V0VHJhY2VFdmVudHMocmF3VHJhY2VEYXRhKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmVycm9yKGUpO1xuICAgIH1cblxuICAgIGlmICh0cmFjZUZyYW1lLnN0YXJ0c1dpdGgoXCJodHRwXCIpKSB7XG4gICAgICBmcmFtZSA9IGZpbmRGcmFtZSh0cmFjZSwgdHJhY2VGcmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZyYW1lID0gdHJhY2VGcmFtZTtcbiAgICB9XG4gICAgaWYgKCFmcmFtZSkge1xuICAgICAgdGhpcy5lcnJvcihgZnJhbWUgbm90IGZvdW5kYCk7XG4gICAgfVxuXG4gICAgdHJhY2VcbiAgICAgIC5maWx0ZXIoKGV2ZW50OiBJRXZlbnQpID0+IGlzTWFyayhldmVudCkgfHwgaXNDb21taXRMb2FkKGV2ZW50KSlcbiAgICAgIC5zb3J0KGJ5VGltZSlcbiAgICAgIC5mb3JFYWNoKChldmVudDogYW55KSA9PiB7XG4gICAgICAgIGlmIChpc0ZyYW1lTmF2aWdhdGlvblN0YXJ0KGZyYW1lLCBldmVudCkpIHtcbiAgICAgICAgICBzdGFydFRpbWUgPSBldmVudC50cztcbiAgICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAgIGBNYXJrZXIgVGltaW5nczogJHtmb3JtYXQoZXZlbnQudHMsIHN0YXJ0VGltZSl9ICR7ZXZlbnQubmFtZX1gXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0ZyYW1lTWFyayhmcmFtZSwgZXZlbnQpKSB7XG4gICAgICAgICAgaWYgKHN0YXJ0VGltZSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHN0YXJ0VGltZSA9IGV2ZW50LnRzO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAgIGBNYXJrZXIgVGltaW5nczogJHtmb3JtYXQoZXZlbnQudHMsIHN0YXJ0VGltZSl9ICR7ZXZlbnQubmFtZX1gXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc1VzZXJNYXJrKGV2ZW50KSkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGZpbHRlci5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICAgIGZpbHRlci5zb21lKChmOiBhbnkpID0+IGV2ZW50Lm5hbWUuaW5kZXhPZihmKSAhPT0gLTEpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAgICAgYE1hcmtlciBUaW1pbmdzOiAke2Zvcm1hdChldmVudC50cywgc3RhcnRUaW1lKX0gJHtldmVudC5uYW1lfWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzQ29tbWl0TG9hZChldmVudCkpIHtcbiAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGV2ZW50LmFyZ3M7XG4gICAgICAgICAgaWYgKGRhdGEuZnJhbWUgPT09IGZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAgICAgYE1hcmtlciBUaW1pbmdzOiAke2Zvcm1hdChldmVudC50cywgc3RhcnRUaW1lKX0gJHtldmVudC5uYW1lfSAke1xuICAgICAgICAgICAgICAgIGRhdGEuZnJhbWVcbiAgICAgICAgICAgICAgfSAke2RhdGEudXJsfWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxufVxuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWx5bmNoL0QvdHJhY2VyYmVuY2gvcGFja2FnZXMvY2xpL3NyYy9jb21tYW5kcy90cmFjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoieW0xQkFBQSxxRUFDQSxLQUFBLENBQUEsTUFBQSwwQkFBQSxPQUFBLENBQUEsbUJBQUEsQ0FBQSxDQUFBLENBUUEsS0FBQSxDQUFBLFVBQUEsMEJBQUEsT0FBQSxDQUFBLFVBQUEsQ0FBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLE1BQUEsMEJBQUEsT0FBQSxDQUFBLE1BQUEsQ0FBQSxDQUFBLENBRUEsS0FBQSxDQUFBLGdCQUFBLDBCQUFBLE9BQUEsQ0FBQSxtQkFBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsTUFBQSwwQkFBQSxPQUFBLENBQUEsaUJBQUEsQ0FBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLE9BQUEsMEJBQUEsT0FBQSxDQUFBLGtCQUFBLENBQUEsQ0FBQSxDQVFBLEtBQUEsQ0FBQSxPQUFBLDBCQUFBLE9BQUEsQ0FBQSxrQkFBQSxDQUFBLENBQUEsQ0FlQSxLQUFxQixDQUFBLEtBQXJCLFNBQW1DLGdCQUFBLENBQUEsYUFBbkMsQ0FBZ0QsQ0FZdkMsS0FBTSxDQUFBLEdBQU4sRUFBUyx5QkFDZCxLQUFNLENBQUUsS0FBRixDQUFTLElBQVQsMkJBQWtCLEtBQUssS0FBTCxDQUFXLEtBQVgsQ0FBbEIsQ0FBTixDQUNBLEtBQU0sQ0FDSixlQURJLENBRUosV0FGSSxDQUdKLGVBSEksQ0FJSixPQUpJLENBS0osV0FMSSwyQkFNRixLQU5FLENBQU4sQ0FPQSxLQUFNLENBQUUsT0FBRiw0QkFBYyxJQUFkLENBQU4sQ0FDQSxHQUFJLENBQUUsR0FBRiw0QkFBVSxLQUFWLENBQUosQ0FDQSxHQUFJLENBQUEsT0FBTywyQkFBRyxDQUNaLENBQ0UsSUFBSSxDQUFFLEVBRFIsQ0FFRSxLQUFLLENBQUUsRUFGVCxDQUdFLE1BQU0sQ0FBRSxFQUhWLENBSUUsSUFBSSxDQUFFLEVBSlIsQ0FEWSxDQUFI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QUFBLFlBQUEsQ0FBYSxLQUFiLENBQUosQ0FBeUIsNkJBQzlCLEtBQU0sQ0FBRSxJQUFGLDZCQUFXLEtBQUssQ0FBQyxJQUFqQixDQUFOLENBRDhCLDBCQUU5QixHQUFJLElBQUksQ0FBQyxLQUFMLEdBQWUsS0FBbkIsQ0FBMEIsdURBQ3hCLEtBQUssR0FBTCxDQUNFLG1CQUFtQixPQUFBLENBQUEsTUFBQSxDQUFPLEtBQUssQ0FBQyxFQUFiLENBQWlCLFNBQWpCLENBQTJCLElBQUksS0FBSyxDQUFDLElBQUksSUFDMUQsSUFBSSxDQUFDLEtBQ1AsSUFBSSxJQUFJLENBQUMsR0FBRyxFQUhkLEVBS0QsQ0FORCxrQ0FPRCxDQVRNLGtDQVNOLEdBQ0YsQ0FuQ0gsRUFvQ0QsQ0EzTzZDLEMsMEJBQWhELE9BQUEsQ0FBQSxPQUFBLENBQUEsS0FBQSxDLDBCQUNnQixLQUFBLENBQUEsV0FBQSxDQUFjLDZEQUFkLEMsMEJBQ0EsS0FBQSxDQUFBLElBQUEsQ0FBTyxDQUFDLE1BQUEsQ0FBQSxPQUFELENBQVAsQywwQkFDQSxLQUFBLENBQUEsS0FBQSxDQUFRLENBQ3BCLGVBQWUsQ0FBRSxPQUFBLENBQUEsZUFBQSxDQUFnQixDQUFFLFFBQVEsQ0FBRSxJQUFaLENBQWhCLENBREcsQ0FFcEIsZUFBZSxDQUFFLE9BQUEsQ0FBQSxlQUFBLENBQWdCLENBQUUsUUFBUSxDQUFFLElBQVosQ0FBaEIsQ0FGRyxDQUdwQixPQUFPLENBQUUsT0FBQSxDQUFBLE9BQUEsRUFIVyxDQUlwQixHQUFHLENBQUUsT0FBQSxDQUFBLEdBQUEsQ0FBSSxDQUFFLFFBQVEsQ0FBRSxJQUFaLENBQUosQ0FKZSxDQUtwQixXQUFXLENBQUUsT0FBQSxDQUFBLFdBQUEsQ0FBWSxDQUFFLFFBQVEsQ0FBRSxJQUFaLENBQVosQ0FMTyxDQU1wQixXQUFXLENBQVgsT0FBQSxDQUFBLFdBTm9CLENBQVIsQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1mdW5jdGlvbi1yZXR1cm4tdHlwZSAqL1xuaW1wb3J0IHtcbiAgYW5hbHl6ZSxcbiAgSUFuYWx5emUsXG4gIElDb25kaXRpb25zLFxuICBJVHJhY2VFdmVudCxcbiAgbGl2ZVRyYWNlLFxuICBsb2FkVHJhY2UsXG59IGZyb20gXCJAdHJhY2VyYmVuY2gvY29yZVwiO1xuaW1wb3J0IHsgZXhpc3RzU3luYywgbWtkaXJTeW5jLCByZWFkSnNvbiwgd3JpdGVGaWxlU3luYyB9IGZyb20gXCJmcy1leHRyYVwiO1xuaW1wb3J0IHsgam9pbiwgcmVzb2x2ZSB9IGZyb20gXCJwYXRoXCI7XG5cbmltcG9ydCB7IFRCQmFzZUNvbW1hbmQgfSBmcm9tIFwiLi4vY29tbWFuZC1jb25maWdcIjtcbmltcG9ydCB7IGhhcnBhdGggfSBmcm9tIFwiLi4vaGVscGVycy9hcmdzXCI7XG5pbXBvcnQge1xuICBjb29raWVzcGF0aCxcbiAgY3B1VGhyb3R0bGVSYXRlLFxuICBuZXR3b3JrLFxuICB0YlJlc3VsdHNGb2xkZXIsXG4gIHVybCxcbiAgdXNlcnRpbWluZ3MsXG59IGZyb20gXCIuLi9oZWxwZXJzL2ZsYWdzXCI7XG5pbXBvcnQge1xuICBieVRpbWUsXG4gIGNvbGxlY3QsXG4gIGZpbmRGcmFtZSxcbiAgZm9ybWF0LFxuICBJRXZlbnQsXG4gIGlzQ29tbWl0TG9hZCxcbiAgaXNGcmFtZU1hcmssXG4gIGlzRnJhbWVOYXZpZ2F0aW9uU3RhcnQsXG4gIGlzTWFyayxcbiAgaXNVc2VyTWFyayxcbiAgbm9ybWFsaXplRm5OYW1lLFxuICBzZXRUcmFjZUV2ZW50cyxcbn0gZnJvbSBcIi4uL2hlbHBlcnMvdXRpbHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhY2UgZXh0ZW5kcyBUQkJhc2VDb21tYW5kIHtcbiAgcHVibGljIHN0YXRpYyBkZXNjcmlwdGlvbiA9IGBQYXJzZXMgYSBDUFUgcHJvZmlsZSBhbmQgYWdncmVnYXRlcyB0aW1lIGFjcm9zcyBoZXVyaXN0aWNzLmA7XG4gIHB1YmxpYyBzdGF0aWMgYXJncyA9IFtoYXJwYXRoXTtcbiAgcHVibGljIHN0YXRpYyBmbGFncyA9IHtcbiAgICBjcHVUaHJvdHRsZVJhdGU6IGNwdVRocm90dGxlUmF0ZSh7IHJlcXVpcmVkOiB0cnVlIH0pLFxuICAgIHRiUmVzdWx0c0ZvbGRlcjogdGJSZXN1bHRzRm9sZGVyKHsgcmVxdWlyZWQ6IHRydWUgfSksXG4gICAgbmV0d29yazogbmV0d29yaygpLFxuICAgIHVybDogdXJsKHsgcmVxdWlyZWQ6IHRydWUgfSksXG4gICAgY29va2llc3BhdGg6IGNvb2tpZXNwYXRoKHsgcmVxdWlyZWQ6IHRydWUgfSksXG4gICAgdXNlcnRpbWluZ3MsXG4gIH07XG5cbiAgcHVibGljIGFzeW5jIHJ1bigpIHtcbiAgICBjb25zdCB7IGZsYWdzLCBhcmdzIH0gPSB0aGlzLnBhcnNlKFRyYWNlKTtcbiAgICBjb25zdCB7XG4gICAgICBjcHVUaHJvdHRsZVJhdGUsXG4gICAgICBjb29raWVzcGF0aCxcbiAgICAgIHRiUmVzdWx0c0ZvbGRlcixcbiAgICAgIG5ldHdvcmssXG4gICAgICB1c2VydGltaW5ncyxcbiAgICB9ID0gZmxhZ3M7XG4gICAgY29uc3QgeyBoYXJwYXRoIH0gPSBhcmdzO1xuICAgIGxldCB7IHVybCB9ID0gZmxhZ3M7XG4gICAgbGV0IGNvb2tpZXMgPSBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIHZhbHVlOiBcIlwiLFxuICAgICAgICBkb21haW46IFwiXCIsXG4gICAgICAgIHBhdGg6IFwiXCIsXG4gICAgICB9LFxuICAgIF07XG4gICAgY29uc3QgbWV0aG9kcyA9IFtcIlwiXTtcbiAgICBjb25zdCBjb25kaXRpb25zOiBJQ29uZGl0aW9ucyA9IHtcbiAgICAgIGNwdTogY3B1VGhyb3R0bGVSYXRlLFxuICAgICAgbmV0d29yayxcbiAgICB9O1xuICAgIGlmIChjb29raWVzcGF0aC5sZW5ndGgpIHtcbiAgICAgIGNvb2tpZXMgPSBhd2FpdCByZWFkSnNvbihyZXNvbHZlKGNvb2tpZXNwYXRoKSk7XG4gICAgfVxuICAgIC8vIGlmIHRoZSBmb2xkZXIgZm9yIHRoZSB0cmFjZXJiZW5jaCByZXN1bHRzIGZpbGVcbiAgICAvLyBkb2VzIG5vdCBleGlzdCB0aGVuIGNyZWF0ZSBpdFxuICAgIHRyeSB7XG4gICAgICBpZiAoIWV4aXN0c1N5bmModGJSZXN1bHRzRm9sZGVyKSkge1xuICAgICAgICBta2RpclN5bmModGJSZXN1bHRzRm9sZGVyKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5lcnJvcihlcnJvcik7XG4gICAgfVxuICAgIC8vIHZhbGlkYXRlIGhhciBhbmQgY2xvbmUgaXQgdG8gdHJhY2UuanNvbiB3aGljaCB3aWxsIGJlIG11dGF0ZWRcbiAgICBjb25zdCBoYXJKU09OID0gYXdhaXQgcmVhZEpzb24ocmVzb2x2ZShoYXJwYXRoKSk7XG4gICAgY29uc3QgdHJhY2VKU09OUGF0aCA9IGpvaW4odGJSZXN1bHRzRm9sZGVyLCBcInRyYWNlLmpzb25cIik7XG4gICAgd3JpdGVGaWxlU3luYyh0cmFjZUpTT05QYXRoLCBKU09OLnN0cmluZ2lmeShoYXJKU09OLCBudWxsLCAyKSk7XG5cbiAgICAvLyBpZiBubyB1cmwgZ2V0IHVybCBmcm9tIGhhclxuICAgIGlmICghdXJsLmxlbmd0aCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdXJsID0gaGFySlNPTi5sb2cuZW50cmllc1swXS5yZXF1ZXN0LnVybDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRoaXMuZXJyb3IoXG4gICAgICAgICAgYCR7ZXJyb3J9LiBDb3VsZCBub3QgZXh0cmFjdCB0aGUgVVJMIGZyb20gdGhlIEhBUi4gRXhwbGljaXRseSBwYXNzIHZpYSBcIi0tdXJsXCIgZmxhZyBhbmQgcmVydW4uYFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHJ1biB0aGUgbGl2ZVRyYWNlXG4gICAgY29uc3QgeyB0cmFjZUV2ZW50cyB9ID0gYXdhaXQgbGl2ZVRyYWNlKFxuICAgICAgdXJsLFxuICAgICAgdGJSZXN1bHRzRm9sZGVyLFxuICAgICAgY29va2llcyxcbiAgICAgIGNvbmRpdGlvbnNcbiAgICApO1xuXG4gICAgY29uc3QgYW5hbHl6ZU9wdGlvbnM6IElBbmFseXplID0ge1xuICAgICAgdHJhY2VFdmVudHMsXG4gICAgICB0cmFjZUhBUkpTT046IGhhckpTT04sXG4gICAgICBtZXRob2RzLFxuICAgIH07XG5cbiAgICAvLyBhbmFseXplIHRoZSBsaXZlVHJhY2VcbiAgICBhd2FpdCBhbmFseXplKGFuYWx5emVPcHRpb25zKTtcblxuICAgIC8vIGpzLWV2YWwtdGltZVxuICAgIGxldCB0cmFjZTogYW55O1xuICAgIGxldCB0b3RhbEpTRHVyYXRpb24gPSAwO1xuICAgIGxldCB0b3RhbENTU0R1cmF0aW9uID0gMDtcblxuICAgIGNvbnN0IG1ldGhvZHNTZXQgPSBuZXcgU2V0KCk7XG5cbiAgICB0cnkge1xuICAgICAgdHJhY2UgPSBzZXRUcmFjZUV2ZW50cyh0cmFjZUV2ZW50cyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuZXJyb3IoYCR7ZXJyb3J9YCk7XG4gICAgfVxuXG4gICAgdHJhY2VcbiAgICAgIC5maWx0ZXIoKGV2ZW50OiBJVHJhY2VFdmVudCkgPT4gZXZlbnQubmFtZSA9PT0gXCJFdmFsdWF0ZVNjcmlwdFwiKVxuICAgICAgLmZpbHRlcigoZXZlbnQ6IGFueSkgPT4gZXZlbnQuYXJncy5kYXRhLnVybClcbiAgICAgIC5mb3JFYWNoKChldmVudDogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IHVybCA9IGV2ZW50LmFyZ3MuZGF0YS51cmw7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uSW5NcyA9IChldmVudC5kdXIgYXMgbnVtYmVyKSAvIDEwMDA7XG4gICAgICAgIHRvdGFsSlNEdXJhdGlvbiArPSBkdXJhdGlvbkluTXM7XG4gICAgICAgIHRoaXMubG9nKGBKUzogJHt1cmx9OiAke2R1cmF0aW9uSW5Ncy50b0ZpeGVkKDIpfWApO1xuICAgICAgfSk7XG5cbiAgICAvLyBsb2cganMtZXZhbC10aW1lXG4gICAgdGhpcy5sb2coXG4gICAgICBgSlM6IEV2YWx1YXRpb24gVG90YWwgRHVyYXRpb246ICR7dG90YWxKU0R1cmF0aW9uLnRvRml4ZWQoMil9bXMgXFxuXFxuYFxuICAgICk7XG5cbiAgICAvLyBjc3MtcGFyc2VcbiAgICB0cmFjZVxuICAgICAgLmZpbHRlcigoZXZlbnQ6IElUcmFjZUV2ZW50KSA9PiBldmVudC5uYW1lID09PSBcIlBhcnNlQXV0aG9yU3R5bGVTaGVldFwiKVxuICAgICAgLmZpbHRlcigoZXZlbnQ6IGFueSkgPT4gZXZlbnQuYXJncy5kYXRhLnN0eWxlU2hlZXRVcmwpXG4gICAgICAuZm9yRWFjaCgoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICBjb25zdCB1cmwgPSBldmVudC5hcmdzLmRhdGEuc3R5bGVTaGVldFVybDtcbiAgICAgICAgY29uc3QgZHVyYXRpb25Jbk1zID0gZXZlbnQuZHVyIC8gMTAwMDtcbiAgICAgICAgdG90YWxDU1NEdXJhdGlvbiArPSBkdXJhdGlvbkluTXM7XG4gICAgICAgIHRoaXMubG9nKGBDU1M6ICR7dXJsfTogJHtkdXJhdGlvbkluTXMudG9GaXhlZCgyKX1gKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gbG9nIGNzcy1wYXJzZS10aW1lXG4gICAgdGhpcy5sb2coXG4gICAgICBgQ1NTOiBFdmFsdWF0aW9uIFRvdGFsIER1cmF0aW9uOiAke3RvdGFsQ1NTRHVyYXRpb24udG9GaXhlZCgyKX1tcyBcXG5cXG5gXG4gICAgKTtcblxuICAgIC8vIGxpc3QtZnVuY3Rpb25zXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHByb2ZpbGUgPSBsb2FkVHJhY2UodHJhY2UpLmNwdVByb2ZpbGUoLTEsIC0xKTtcbiAgICAgIHByb2ZpbGUubm9kZU1hcC5mb3JFYWNoKChub2RlOiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgeyBmdW5jdGlvbk5hbWUsIHVybCwgbGluZU51bWJlciwgY29sdW1uTnVtYmVyIH0gPSBub2RlLmNhbGxGcmFtZTtcblxuICAgICAgICBtZXRob2RzU2V0LmFkZChcbiAgICAgICAgICBgJHt1cmx9OiR7bGluZU51bWJlcn06JHtjb2x1bW5OdW1iZXJ9LiR7bm9ybWFsaXplRm5OYW1lKFxuICAgICAgICAgICAgZnVuY3Rpb25OYW1lXG4gICAgICAgICAgKX1gXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5lcnJvcihlcnJvcik7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHRyYWNlID0gc2V0VHJhY2VFdmVudHModHJhY2VFdmVudHMpO1xuICAgICAgY29uc3QgdHJhY2VMb2FkID0gdHJhY2UuZmlsdGVyKGlzQ29tbWl0TG9hZCk7XG4gICAgICB0cmFjZUxvYWQuZm9yRWFjaChcbiAgICAgICAgKHtcbiAgICAgICAgICBhcmdzOiB7XG4gICAgICAgICAgICBkYXRhOiB7IGZyYW1lLCB1cmwgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9OiB7XG4gICAgICAgICAgYXJnczogeyBkYXRhOiB7IGZyYW1lOiBhbnk7IHVybDogYW55IH0gfTtcbiAgICAgICAgfSkgPT4ge1xuICAgICAgICAgIHRoaXMubG9nKGBGcmFtZS1VUkw6ICR7dXJsfSB8IEZyYW1lLUlEOiAke2ZyYW1lfWApO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmVycm9yKGAke2Vycm9yfWApO1xuICAgIH1cblxuICAgIGlmICh1c2VydGltaW5ncykge1xuICAgICAgYXdhaXQgdGhpcy5tYXJrZXJUaW1pbmdzKHRyYWNlSlNPTlBhdGgsIHVybCk7XG4gICAgfVxuICB9XG5cbiAgLy8gdHJhY2VyYmVuY2ggbWFya2VyLXRpbWluZ3MgY21kIG1vdmVkIGhlcmVcbiAgcHJpdmF0ZSBhc3luYyBtYXJrZXJUaW1pbmdzKHRyYWNlcGF0aDogc3RyaW5nLCB1cmw6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHRyYWNlRnJhbWU6IHN0cmluZyA9IHVybDtcbiAgICBjb25zdCBmaWx0ZXIgPSBjb2xsZWN0KFwiXCIsIFtdKTtcblxuICAgIGxldCBmcmFtZTogYW55ID0gbnVsbDtcbiAgICBsZXQgc3RhcnRUaW1lID0gLTE7XG4gICAgbGV0IHJhd1RyYWNlRGF0YTogYW55ID0gbnVsbDtcbiAgICBsZXQgdHJhY2U6IGFueSA9IG51bGw7XG5cbiAgICBpZiAoIXRyYWNlRnJhbWUgJiYgIXVybCkge1xuICAgICAgdGhpcy5lcnJvcihgRWl0aGVyIGEgdHJhY2VGcmFtZSBvciB1cmwgYXJlIHJlcXVpcmVkIGZsYWdzLmApO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByYXdUcmFjZURhdGEgPSBhd2FpdCByZWFkSnNvbihyZXNvbHZlKHRyYWNlcGF0aCkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMuZXJyb3IoZSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHRyYWNlID0gc2V0VHJhY2VFdmVudHMocmF3VHJhY2VEYXRhKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmVycm9yKGUpO1xuICAgIH1cblxuICAgIGlmICh0cmFjZUZyYW1lLnN0YXJ0c1dpdGgoXCJodHRwXCIpKSB7XG4gICAgICBmcmFtZSA9IGZpbmRGcmFtZSh0cmFjZSwgdHJhY2VGcmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZyYW1lID0gdHJhY2VGcmFtZTtcbiAgICB9XG4gICAgaWYgKCFmcmFtZSkge1xuICAgICAgdGhpcy5lcnJvcihgZnJhbWUgbm90IGZvdW5kYCk7XG4gICAgfVxuXG4gICAgdHJhY2VcbiAgICAgIC5maWx0ZXIoKGV2ZW50OiBJRXZlbnQpID0+IGlzTWFyayhldmVudCkgfHwgaXNDb21taXRMb2FkKGV2ZW50KSlcbiAgICAgIC5zb3J0KGJ5VGltZSlcbiAgICAgIC5mb3JFYWNoKChldmVudDogYW55KSA9PiB7XG4gICAgICAgIGlmIChpc0ZyYW1lTmF2aWdhdGlvblN0YXJ0KGZyYW1lLCBldmVudCkpIHtcbiAgICAgICAgICBzdGFydFRpbWUgPSBldmVudC50cztcbiAgICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAgIGBNYXJrZXIgVGltaW5nczogJHtmb3JtYXQoZXZlbnQudHMsIHN0YXJ0VGltZSl9ICR7ZXZlbnQubmFtZX1gXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0ZyYW1lTWFyayhmcmFtZSwgZXZlbnQpKSB7XG4gICAgICAgICAgaWYgKHN0YXJ0VGltZSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHN0YXJ0VGltZSA9IGV2ZW50LnRzO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAgIGBNYXJrZXIgVGltaW5nczogJHtmb3JtYXQoZXZlbnQudHMsIHN0YXJ0VGltZSl9ICR7ZXZlbnQubmFtZX1gXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc1VzZXJNYXJrKGV2ZW50KSkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGZpbHRlci5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICAgIGZpbHRlci5zb21lKChmOiBhbnkpID0+IGV2ZW50Lm5hbWUuaW5kZXhPZihmKSAhPT0gLTEpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAgICAgYE1hcmtlciBUaW1pbmdzOiAke2Zvcm1hdChldmVudC50cywgc3RhcnRUaW1lKX0gJHtldmVudC5uYW1lfWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzQ29tbWl0TG9hZChldmVudCkpIHtcbiAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGV2ZW50LmFyZ3M7XG4gICAgICAgICAgaWYgKGRhdGEuZnJhbWUgPT09IGZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAgICAgYE1hcmtlciBUaW1pbmdzOiAke2Zvcm1hdChldmVudC50cywgc3RhcnRUaW1lKX0gJHtldmVudC5uYW1lfSAke1xuICAgICAgICAgICAgICAgIGRhdGEuZnJhbWVcbiAgICAgICAgICAgICAgfSAke2RhdGEudXJsfWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxufVxuIl19