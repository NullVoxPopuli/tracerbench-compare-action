"use strict";function cov_2kfdky94pf(){var path="/Users/malynch/D/tracerbench/packages/cli/src/helpers/device-settings.ts";var hash="628b8cc0cc5d94ba852b39046f0115abeaf14403";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/malynch/D/tracerbench/packages/cli/src/helpers/device-settings.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:61}},"2":{start:{line:4,column:17},end:{line:4,column:41}},"3":{start:{line:5,column:24},end:{line:5,column:50}},"4":{start:{line:6,column:16},end:{line:6,column:34}},"5":{start:{line:7,column:23},end:{line:16,column:2}},"6":{start:{line:8,column:4},end:{line:15,column:6}},"7":{start:{line:26,column:4},end:{line:40,column:5}},"8":{start:{line:27,column:8},end:{line:39,column:9}},"9":{start:{line:28,column:12},end:{line:30,column:13}},"10":{start:{line:29,column:16},end:{line:29,column:100}},"11":{start:{line:31,column:12},end:{line:38,column:14}},"12":{start:{line:41,column:4},end:{line:41,column:89}},"13":{start:{line:43,column:0},end:{line:43,column:98}},"14":{start:{line:44,column:0},end:{line:44,column:33}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:56},end:{line:7,column:57}},loc:{start:{line:7,column:66},end:{line:16,column:1}},line:7},"1":{name:"getEmulateDeviceSettingForKeyAndOrientation",decl:{start:{line:24,column:9},end:{line:24,column:52}},loc:{start:{line:24,column:84},end:{line:42,column:1}},line:24}},branchMap:{"0":{loc:{start:{line:10,column:27},end:{line:10,column:72}},type:"binary-expr",locations:[{start:{line:10,column:27},end:{line:10,column:67}},{start:{line:10,column:71},end:{line:10,column:72}}],line:10},"1":{loc:{start:{line:24,column:58},end:{line:24,column:82}},type:"default-arg",locations:[{start:{line:24,column:72},end:{line:24,column:82}}],line:24},"2":{loc:{start:{line:27,column:8},end:{line:39,column:9}},type:"if",locations:[{start:{line:27,column:8},end:{line:39,column:9}},{start:{line:27,column:8},end:{line:39,column:9}}],line:27},"3":{loc:{start:{line:28,column:12},end:{line:30,column:13}},type:"if",locations:[{start:{line:28,column:12},end:{line:30,column:13}},{start:{line:28,column:12},end:{line:30,column:13}}],line:28}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0],"2":[0,0],"3":[0,0]},inputSourceMap:{version:3,file:"/Users/malynch/D/tracerbench/packages/cli/src/helpers/device-settings.ts",sources:["/Users/malynch/D/tracerbench/packages/cli/src/helpers/device-settings.ts"],names:[],mappings:";;;AAAA,0CAAyC;AAGzC,mDAA8D;AAC9D,mCAA2C;AAgC3C,MAAM,cAAc,GAAoC,4BAAY,CAAC,GAAG,CACtE,CAAC,IAAmB,EAAE,EAAE;IACtB,OAAO;QACL,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM;QAC3B,iBAAiB,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,oBAAoB,CAAC,IAAI,CAAC;QAChE,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QACvD,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC;QACpC,QAAQ,EAAE,wBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;QAC7C,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK;KACxB,CAAC;AACJ,CAAC,CACF,CAAC;AAEF;;;;;;GAMG;AACH,SAAgB,2CAA2C,CACzD,GAAW,EACX,WAAW,GAAG,UAAU;IAExB,IAAI,aAAa,CAAC;IAElB,KAAK,aAAa,IAAI,cAAc,EAAE;QACpC,IAAI,GAAG,KAAK,aAAa,CAAC,QAAQ,EAAE;YAClC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE;gBACvC,MAAM,IAAI,iBAAQ,CAChB,GAAG,WAAW,oBAAoB,GAAG,iBAAiB,CACvD,CAAC;aACH;YACD,OAAO;gBACL,KAAK,EAAE,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,KAAK;gBAC/C,MAAM,EAAE,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,MAAM;gBACjD,iBAAiB,EAAE,aAAa,CAAC,iBAAiB;gBAClD,MAAM,EAAE,aAAa,CAAC,MAAM;gBAC5B,SAAS,EAAE,aAAa,CAAC,SAAS;gBAClC,QAAQ,EAAE,aAAa,CAAC,QAAQ;aACjC,CAAC;SACH;KACF;IAED,MAAM,IAAI,iBAAQ,CAAC,kDAAkD,GAAG,EAAE,CAAC,CAAC;AAC9E,CAAC;AAzBD,kGAyBC;AAED,kBAAe,cAAc,CAAC",sourcesContent:["import { CLIError } from \"@oclif/errors\";\nimport Protocol from \"devtools-protocol\";\n\nimport { deviceLookup, IDeviceLookup } from \"./device-lookup\";\nimport { convertToTypable } from \"./utils\";\n\ninterface ScreenDimensions {\n  width: number;\n  height: number;\n}\n\nexport interface Screens {\n  horizontal: ScreenDimensions;\n  vertical?: ScreenDimensions;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  [key: string]: any;\n}\n\nexport interface EmulateDeviceSettingBase {\n  userAgent: string;\n  deviceScaleFactor: number;\n  mobile: boolean;\n  typeable: string;\n}\n\nexport interface EmulateDeviceSetting\n  extends Protocol.Emulation.SetDeviceMetricsOverrideRequest,\n    Protocol.Emulation.SetUserAgentOverrideRequest {\n  typeable: string;\n}\n\nexport interface EmulateDeviceSettingCliOption\n  extends EmulateDeviceSettingBase {\n  screens: Screens;\n}\n\nconst deviceSettings: EmulateDeviceSettingCliOption[] = deviceLookup.map(\n  (item: IDeviceLookup) => {\n    return {\n      screens: item.device.screen,\n      deviceScaleFactor: item.device.screen[\"device-pixel-ratio\"] || 0,\n      mobile: item.device.capabilities.indexOf(\"mobile\") > -1,\n      userAgent: item.device[\"user-agent\"],\n      typeable: convertToTypable(item.device.title),\n      name: item.device.title,\n    };\n  }\n);\n\n/**\n * Iterate over deviceSettings until a match is found in the option's typable field. Extract the contents into EmulateDeviceSetting\n * formatted object\n *\n * @param key - One of typeable strings such as iphone-x\n * @param orientation - Either \"vertical\" or \"horizontal\"\n */\nexport function getEmulateDeviceSettingForKeyAndOrientation(\n  key: string,\n  orientation = \"vertical\"\n): EmulateDeviceSetting {\n  let deviceSetting;\n\n  for (deviceSetting of deviceSettings) {\n    if (key === deviceSetting.typeable) {\n      if (!deviceSetting.screens[orientation]) {\n        throw new CLIError(\n          `${orientation} orientation for ${key} does not exist`\n        );\n      }\n      return {\n        width: deviceSetting.screens[orientation].width,\n        height: deviceSetting.screens[orientation].height,\n        deviceScaleFactor: deviceSetting.deviceScaleFactor,\n        mobile: deviceSetting.mobile,\n        userAgent: deviceSetting.userAgent,\n        typeable: deviceSetting.typeable,\n      };\n    }\n  }\n\n  throw new CLIError(`Device emulation settings not found for device ${key}`);\n}\n\nexport default deviceSettings;\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"628b8cc0cc5d94ba852b39046f0115abeaf14403"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_2kfdky94pf=function(){return actualCoverage;};return actualCoverage;}cov_2kfdky94pf().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_2kfdky94pf().s[1]++;exports.getEmulateDeviceSettingForKeyAndOrientation=void 0;const errors_1=(cov_2kfdky94pf().s[2]++,require("@oclif/errors"));const device_lookup_1=(cov_2kfdky94pf().s[3]++,require("./device-lookup"));const utils_1=(cov_2kfdky94pf().s[4]++,require("./utils"));const deviceSettings=(cov_2kfdky94pf().s[5]++,device_lookup_1.deviceLookup.map(item=>{cov_2kfdky94pf().f[0]++;cov_2kfdky94pf().s[6]++;return{screens:item.device.screen,deviceScaleFactor:(cov_2kfdky94pf().b[0][0]++,item.device.screen["device-pixel-ratio"])||(cov_2kfdky94pf().b[0][1]++,0),mobile:item.device.capabilities.indexOf("mobile")>-1,userAgent:item.device["user-agent"],typeable:utils_1.convertToTypable(item.device.title),name:item.device.title};}));/**
 * Iterate over deviceSettings until a match is found in the option's typable field. Extract the contents into EmulateDeviceSetting
 * formatted object
 *
 * @param key - One of typeable strings such as iphone-x
 * @param orientation - Either "vertical" or "horizontal"
 */function getEmulateDeviceSettingForKeyAndOrientation(key,orientation=(cov_2kfdky94pf().b[1][0]++,"vertical")){cov_2kfdky94pf().f[1]++;let deviceSetting;cov_2kfdky94pf().s[7]++;for(deviceSetting of deviceSettings){cov_2kfdky94pf().s[8]++;if(key===deviceSetting.typeable){cov_2kfdky94pf().b[2][0]++;cov_2kfdky94pf().s[9]++;if(!deviceSetting.screens[orientation]){cov_2kfdky94pf().b[3][0]++;cov_2kfdky94pf().s[10]++;throw new errors_1.CLIError(`${orientation} orientation for ${key} does not exist`);}else{cov_2kfdky94pf().b[3][1]++;}cov_2kfdky94pf().s[11]++;return{width:deviceSetting.screens[orientation].width,height:deviceSetting.screens[orientation].height,deviceScaleFactor:deviceSetting.deviceScaleFactor,mobile:deviceSetting.mobile,userAgent:deviceSetting.userAgent,typeable:deviceSetting.typeable};}else{cov_2kfdky94pf().b[2][1]++;}}cov_2kfdky94pf().s[12]++;throw new errors_1.CLIError(`Device emulation settings not found for device ${key}`);}cov_2kfdky94pf().s[13]++;exports.getEmulateDeviceSettingForKeyAndOrientation=getEmulateDeviceSettingForKeyAndOrientation;cov_2kfdky94pf().s[14]++;exports.default=deviceSettings;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL21hbHluY2gvRC90cmFjZXJiZW5jaC9wYWNrYWdlcy9jbGkvc3JjL2hlbHBlcnMvZGV2aWNlLXNldHRpbmdzLnRzIiwic291cmNlcyI6WyIvVXNlcnMvbWFseW5jaC9EL3RyYWNlcmJlbmNoL3BhY2thZ2VzL2NsaS9zcmMvaGVscGVycy9kZXZpY2Utc2V0dGluZ3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsMENBQXlDO0FBR3pDLG1EQUE4RDtBQUM5RCxtQ0FBMkM7QUFnQzNDLE1BQU0sY0FBYyxHQUFvQyw0QkFBWSxDQUFDLEdBQUcsQ0FDdEUsQ0FBQyxJQUFtQixFQUFFLEVBQUU7SUFDdEIsT0FBTztRQUNMLE9BQU8sRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU07UUFDM0IsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDO1FBQ2hFLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZELFNBQVMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQztRQUNwQyxRQUFRLEVBQUUsd0JBQWdCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFDN0MsSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSztLQUN4QixDQUFDO0FBQ0osQ0FBQyxDQUNGLENBQUM7QUFFRjs7Ozs7O0dBTUc7QUFDSCxTQUFnQiwyQ0FBMkMsQ0FDekQsR0FBVyxFQUNYLFdBQVcsR0FBRyxVQUFVO0lBRXhCLElBQUksYUFBYSxDQUFDO0lBRWxCLEtBQUssYUFBYSxJQUFJLGNBQWMsRUFBRTtRQUNwQyxJQUFJLEdBQUcsS0FBSyxhQUFhLENBQUMsUUFBUSxFQUFFO1lBQ2xDLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxFQUFFO2dCQUN2QyxNQUFNLElBQUksaUJBQVEsQ0FDaEIsR0FBRyxXQUFXLG9CQUFvQixHQUFHLGlCQUFpQixDQUN2RCxDQUFDO2FBQ0g7WUFDRCxPQUFPO2dCQUNMLEtBQUssRUFBRSxhQUFhLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUs7Z0JBQy9DLE1BQU0sRUFBRSxhQUFhLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE1BQU07Z0JBQ2pELGlCQUFpQixFQUFFLGFBQWEsQ0FBQyxpQkFBaUI7Z0JBQ2xELE1BQU0sRUFBRSxhQUFhLENBQUMsTUFBTTtnQkFDNUIsU0FBUyxFQUFFLGFBQWEsQ0FBQyxTQUFTO2dCQUNsQyxRQUFRLEVBQUUsYUFBYSxDQUFDLFFBQVE7YUFDakMsQ0FBQztTQUNIO0tBQ0Y7SUFFRCxNQUFNLElBQUksaUJBQVEsQ0FBQyxrREFBa0QsR0FBRyxFQUFFLENBQUMsQ0FBQztBQUM5RSxDQUFDO0FBekJELGtHQXlCQztBQUVELGtCQUFlLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENMSUVycm9yIH0gZnJvbSBcIkBvY2xpZi9lcnJvcnNcIjtcbmltcG9ydCBQcm90b2NvbCBmcm9tIFwiZGV2dG9vbHMtcHJvdG9jb2xcIjtcblxuaW1wb3J0IHsgZGV2aWNlTG9va3VwLCBJRGV2aWNlTG9va3VwIH0gZnJvbSBcIi4vZGV2aWNlLWxvb2t1cFwiO1xuaW1wb3J0IHsgY29udmVydFRvVHlwYWJsZSB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmludGVyZmFjZSBTY3JlZW5EaW1lbnNpb25zIHtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2NyZWVucyB7XG4gIGhvcml6b250YWw6IFNjcmVlbkRpbWVuc2lvbnM7XG4gIHZlcnRpY2FsPzogU2NyZWVuRGltZW5zaW9ucztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgW2tleTogc3RyaW5nXTogYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVtdWxhdGVEZXZpY2VTZXR0aW5nQmFzZSB7XG4gIHVzZXJBZ2VudDogc3RyaW5nO1xuICBkZXZpY2VTY2FsZUZhY3RvcjogbnVtYmVyO1xuICBtb2JpbGU6IGJvb2xlYW47XG4gIHR5cGVhYmxlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW11bGF0ZURldmljZVNldHRpbmdcbiAgZXh0ZW5kcyBQcm90b2NvbC5FbXVsYXRpb24uU2V0RGV2aWNlTWV0cmljc092ZXJyaWRlUmVxdWVzdCxcbiAgICBQcm90b2NvbC5FbXVsYXRpb24uU2V0VXNlckFnZW50T3ZlcnJpZGVSZXF1ZXN0IHtcbiAgdHlwZWFibGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbXVsYXRlRGV2aWNlU2V0dGluZ0NsaU9wdGlvblxuICBleHRlbmRzIEVtdWxhdGVEZXZpY2VTZXR0aW5nQmFzZSB7XG4gIHNjcmVlbnM6IFNjcmVlbnM7XG59XG5cbmNvbnN0IGRldmljZVNldHRpbmdzOiBFbXVsYXRlRGV2aWNlU2V0dGluZ0NsaU9wdGlvbltdID0gZGV2aWNlTG9va3VwLm1hcChcbiAgKGl0ZW06IElEZXZpY2VMb29rdXApID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgc2NyZWVuczogaXRlbS5kZXZpY2Uuc2NyZWVuLFxuICAgICAgZGV2aWNlU2NhbGVGYWN0b3I6IGl0ZW0uZGV2aWNlLnNjcmVlbltcImRldmljZS1waXhlbC1yYXRpb1wiXSB8fCAwLFxuICAgICAgbW9iaWxlOiBpdGVtLmRldmljZS5jYXBhYmlsaXRpZXMuaW5kZXhPZihcIm1vYmlsZVwiKSA+IC0xLFxuICAgICAgdXNlckFnZW50OiBpdGVtLmRldmljZVtcInVzZXItYWdlbnRcIl0sXG4gICAgICB0eXBlYWJsZTogY29udmVydFRvVHlwYWJsZShpdGVtLmRldmljZS50aXRsZSksXG4gICAgICBuYW1lOiBpdGVtLmRldmljZS50aXRsZSxcbiAgICB9O1xuICB9XG4pO1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBkZXZpY2VTZXR0aW5ncyB1bnRpbCBhIG1hdGNoIGlzIGZvdW5kIGluIHRoZSBvcHRpb24ncyB0eXBhYmxlIGZpZWxkLiBFeHRyYWN0IHRoZSBjb250ZW50cyBpbnRvIEVtdWxhdGVEZXZpY2VTZXR0aW5nXG4gKiBmb3JtYXR0ZWQgb2JqZWN0XG4gKlxuICogQHBhcmFtIGtleSAtIE9uZSBvZiB0eXBlYWJsZSBzdHJpbmdzIHN1Y2ggYXMgaXBob25lLXhcbiAqIEBwYXJhbSBvcmllbnRhdGlvbiAtIEVpdGhlciBcInZlcnRpY2FsXCIgb3IgXCJob3Jpem9udGFsXCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVtdWxhdGVEZXZpY2VTZXR0aW5nRm9yS2V5QW5kT3JpZW50YXRpb24oXG4gIGtleTogc3RyaW5nLFxuICBvcmllbnRhdGlvbiA9IFwidmVydGljYWxcIlxuKTogRW11bGF0ZURldmljZVNldHRpbmcge1xuICBsZXQgZGV2aWNlU2V0dGluZztcblxuICBmb3IgKGRldmljZVNldHRpbmcgb2YgZGV2aWNlU2V0dGluZ3MpIHtcbiAgICBpZiAoa2V5ID09PSBkZXZpY2VTZXR0aW5nLnR5cGVhYmxlKSB7XG4gICAgICBpZiAoIWRldmljZVNldHRpbmcuc2NyZWVuc1tvcmllbnRhdGlvbl0pIHtcbiAgICAgICAgdGhyb3cgbmV3IENMSUVycm9yKFxuICAgICAgICAgIGAke29yaWVudGF0aW9ufSBvcmllbnRhdGlvbiBmb3IgJHtrZXl9IGRvZXMgbm90IGV4aXN0YFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IGRldmljZVNldHRpbmcuc2NyZWVuc1tvcmllbnRhdGlvbl0ud2lkdGgsXG4gICAgICAgIGhlaWdodDogZGV2aWNlU2V0dGluZy5zY3JlZW5zW29yaWVudGF0aW9uXS5oZWlnaHQsXG4gICAgICAgIGRldmljZVNjYWxlRmFjdG9yOiBkZXZpY2VTZXR0aW5nLmRldmljZVNjYWxlRmFjdG9yLFxuICAgICAgICBtb2JpbGU6IGRldmljZVNldHRpbmcubW9iaWxlLFxuICAgICAgICB1c2VyQWdlbnQ6IGRldmljZVNldHRpbmcudXNlckFnZW50LFxuICAgICAgICB0eXBlYWJsZTogZGV2aWNlU2V0dGluZy50eXBlYWJsZSxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgdGhyb3cgbmV3IENMSUVycm9yKGBEZXZpY2UgZW11bGF0aW9uIHNldHRpbmdzIG5vdCBmb3VuZCBmb3IgZGV2aWNlICR7a2V5fWApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBkZXZpY2VTZXR0aW5ncztcbiJdfQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWx5bmNoL0QvdHJhY2VyYmVuY2gvcGFja2FnZXMvY2xpL3NyYy9oZWxwZXJzL2RldmljZS1zZXR0aW5ncy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiZ3BOQUFBLEtBQUEsQ0FBQSxRQUFBLDBCQUFBLE9BQUEsQ0FBQSxlQUFBLENBQUEsQ0FBQSxDQUdBLEtBQUEsQ0FBQSxlQUFBLDBCQUFBLE9BQUEsQ0FBQSxpQkFBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsT0FBQSwwQkFBQSxPQUFBLENBQUEsU0FBQSxDQUFBLENBQUEsQ0FnQ0EsS0FBTSxDQUFBLGNBQWMsMEJBQW9DLGVBQUEsQ0FBQSxZQUFBLENBQWEsR0FBYixDQUNyRCxJQUFELEVBQXdCLGlEQUN0QixNQUFPLENBQ0wsT0FBTyxDQUFFLElBQUksQ0FBQyxNQUFMLENBQVksTUFEaEIsQ0FFTCxpQkFBaUIsQ0FBRSw0QkFBQSxJQUFJLENBQUMsTUFBTCxDQUFZLE1BQVosQ0FBbUIsb0JBQW5CLGdDQUE0QyxDQUE1QyxDQUZkLENBR0wsTUFBTSxDQUFFLElBQUksQ0FBQyxNQUFMLENBQVksWUFBWixDQUF5QixPQUF6QixDQUFpQyxRQUFqQyxFQUE2QyxDQUFDLENBSGpELENBSUwsU0FBUyxDQUFFLElBQUksQ0FBQyxNQUFMLENBQVksWUFBWixDQUpOLENBS0wsUUFBUSxDQUFFLE9BQUEsQ0FBQSxnQkFBQSxDQUFpQixJQUFJLENBQUMsTUFBTCxDQUFZLEtBQTdCLENBTEwsQ0FNTCxJQUFJLENBQUUsSUFBSSxDQUFDLE1BQUwsQ0FBWSxLQU5iLENBQVAsQ0FRRCxDQVZxRCxDQUFwQyxDQUFwQixDQWFBOzs7Ozs7R0FPQSxRQUFnQixDQUFBLDJDQUFoQixDQUNFLEdBREYsQ0FFRSxXQUFXLDZCQUFHLFVBQUgsQ0FGYixDQUUwQix5QkFFeEIsR0FBSSxDQUFBLGFBQUosQ0FGd0Isd0JBSXhCLElBQUssYUFBTCxHQUFzQixDQUFBLGNBQXRCLENBQXNDLHlCQUNwQyxHQUFJLEdBQUcsR0FBSyxhQUFhLENBQUMsUUFBMUIsQ0FBb0Msb0RBQ2xDLEdBQUksQ0FBQyxhQUFhLENBQUMsT0FBZCxDQUFzQixXQUF0QixDQUFMLENBQXlDLHFEQUN2QyxLQUFNLElBQUksQ0FBQSxRQUFBLENBQUEsUUFBSixDQUNKLEdBQUcsV0FBVyxvQkFBb0IsR0FBRyxpQkFEakMsQ0FBTixDQUdELENBSkQsaUNBRGtDLHlCQU1sQyxNQUFPLENBQ0wsS0FBSyxDQUFFLGFBQWEsQ0FBQyxPQUFkLENBQXNCLFdBQXRCLEVBQW1DLEtBRHJDLENBRUwsTUFBTSxDQUFFLGFBQWEsQ0FBQyxPQUFkLENBQXNCLFdBQXRCLEVBQW1DLE1BRnRDLENBR0wsaUJBQWlCLENBQUUsYUFBYSxDQUFDLGlCQUg1QixDQUlMLE1BQU0sQ0FBRSxhQUFhLENBQUMsTUFKakIsQ0FLTCxTQUFTLENBQUUsYUFBYSxDQUFDLFNBTHBCLENBTUwsUUFBUSxDQUFFLGFBQWEsQ0FBQyxRQU5uQixDQUFQLENBUUQsQ0FkRCxpQ0FlRCxDQXBCdUIseUJBc0J4QixLQUFNLElBQUksQ0FBQSxRQUFBLENBQUEsUUFBSixDQUFhLGtEQUFrRCxHQUFHLEVBQWxFLENBQU4sQ0FDRCxDLHlCQXpCRCxPQUFBLENBQUEsMkNBQUEsQ0FBQSwyQ0FBQSxDLHlCQTJCQSxPQUFBLENBQUEsT0FBQSxDQUFlLGNBQWYsQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENMSUVycm9yIH0gZnJvbSBcIkBvY2xpZi9lcnJvcnNcIjtcbmltcG9ydCBQcm90b2NvbCBmcm9tIFwiZGV2dG9vbHMtcHJvdG9jb2xcIjtcblxuaW1wb3J0IHsgZGV2aWNlTG9va3VwLCBJRGV2aWNlTG9va3VwIH0gZnJvbSBcIi4vZGV2aWNlLWxvb2t1cFwiO1xuaW1wb3J0IHsgY29udmVydFRvVHlwYWJsZSB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmludGVyZmFjZSBTY3JlZW5EaW1lbnNpb25zIHtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2NyZWVucyB7XG4gIGhvcml6b250YWw6IFNjcmVlbkRpbWVuc2lvbnM7XG4gIHZlcnRpY2FsPzogU2NyZWVuRGltZW5zaW9ucztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgW2tleTogc3RyaW5nXTogYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVtdWxhdGVEZXZpY2VTZXR0aW5nQmFzZSB7XG4gIHVzZXJBZ2VudDogc3RyaW5nO1xuICBkZXZpY2VTY2FsZUZhY3RvcjogbnVtYmVyO1xuICBtb2JpbGU6IGJvb2xlYW47XG4gIHR5cGVhYmxlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW11bGF0ZURldmljZVNldHRpbmdcbiAgZXh0ZW5kcyBQcm90b2NvbC5FbXVsYXRpb24uU2V0RGV2aWNlTWV0cmljc092ZXJyaWRlUmVxdWVzdCxcbiAgICBQcm90b2NvbC5FbXVsYXRpb24uU2V0VXNlckFnZW50T3ZlcnJpZGVSZXF1ZXN0IHtcbiAgdHlwZWFibGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbXVsYXRlRGV2aWNlU2V0dGluZ0NsaU9wdGlvblxuICBleHRlbmRzIEVtdWxhdGVEZXZpY2VTZXR0aW5nQmFzZSB7XG4gIHNjcmVlbnM6IFNjcmVlbnM7XG59XG5cbmNvbnN0IGRldmljZVNldHRpbmdzOiBFbXVsYXRlRGV2aWNlU2V0dGluZ0NsaU9wdGlvbltdID0gZGV2aWNlTG9va3VwLm1hcChcbiAgKGl0ZW06IElEZXZpY2VMb29rdXApID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgc2NyZWVuczogaXRlbS5kZXZpY2Uuc2NyZWVuLFxuICAgICAgZGV2aWNlU2NhbGVGYWN0b3I6IGl0ZW0uZGV2aWNlLnNjcmVlbltcImRldmljZS1waXhlbC1yYXRpb1wiXSB8fCAwLFxuICAgICAgbW9iaWxlOiBpdGVtLmRldmljZS5jYXBhYmlsaXRpZXMuaW5kZXhPZihcIm1vYmlsZVwiKSA+IC0xLFxuICAgICAgdXNlckFnZW50OiBpdGVtLmRldmljZVtcInVzZXItYWdlbnRcIl0sXG4gICAgICB0eXBlYWJsZTogY29udmVydFRvVHlwYWJsZShpdGVtLmRldmljZS50aXRsZSksXG4gICAgICBuYW1lOiBpdGVtLmRldmljZS50aXRsZSxcbiAgICB9O1xuICB9XG4pO1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBkZXZpY2VTZXR0aW5ncyB1bnRpbCBhIG1hdGNoIGlzIGZvdW5kIGluIHRoZSBvcHRpb24ncyB0eXBhYmxlIGZpZWxkLiBFeHRyYWN0IHRoZSBjb250ZW50cyBpbnRvIEVtdWxhdGVEZXZpY2VTZXR0aW5nXG4gKiBmb3JtYXR0ZWQgb2JqZWN0XG4gKlxuICogQHBhcmFtIGtleSAtIE9uZSBvZiB0eXBlYWJsZSBzdHJpbmdzIHN1Y2ggYXMgaXBob25lLXhcbiAqIEBwYXJhbSBvcmllbnRhdGlvbiAtIEVpdGhlciBcInZlcnRpY2FsXCIgb3IgXCJob3Jpem9udGFsXCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVtdWxhdGVEZXZpY2VTZXR0aW5nRm9yS2V5QW5kT3JpZW50YXRpb24oXG4gIGtleTogc3RyaW5nLFxuICBvcmllbnRhdGlvbiA9IFwidmVydGljYWxcIlxuKTogRW11bGF0ZURldmljZVNldHRpbmcge1xuICBsZXQgZGV2aWNlU2V0dGluZztcblxuICBmb3IgKGRldmljZVNldHRpbmcgb2YgZGV2aWNlU2V0dGluZ3MpIHtcbiAgICBpZiAoa2V5ID09PSBkZXZpY2VTZXR0aW5nLnR5cGVhYmxlKSB7XG4gICAgICBpZiAoIWRldmljZVNldHRpbmcuc2NyZWVuc1tvcmllbnRhdGlvbl0pIHtcbiAgICAgICAgdGhyb3cgbmV3IENMSUVycm9yKFxuICAgICAgICAgIGAke29yaWVudGF0aW9ufSBvcmllbnRhdGlvbiBmb3IgJHtrZXl9IGRvZXMgbm90IGV4aXN0YFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IGRldmljZVNldHRpbmcuc2NyZWVuc1tvcmllbnRhdGlvbl0ud2lkdGgsXG4gICAgICAgIGhlaWdodDogZGV2aWNlU2V0dGluZy5zY3JlZW5zW29yaWVudGF0aW9uXS5oZWlnaHQsXG4gICAgICAgIGRldmljZVNjYWxlRmFjdG9yOiBkZXZpY2VTZXR0aW5nLmRldmljZVNjYWxlRmFjdG9yLFxuICAgICAgICBtb2JpbGU6IGRldmljZVNldHRpbmcubW9iaWxlLFxuICAgICAgICB1c2VyQWdlbnQ6IGRldmljZVNldHRpbmcudXNlckFnZW50LFxuICAgICAgICB0eXBlYWJsZTogZGV2aWNlU2V0dGluZy50eXBlYWJsZSxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgdGhyb3cgbmV3IENMSUVycm9yKGBEZXZpY2UgZW11bGF0aW9uIHNldHRpbmdzIG5vdCBmb3VuZCBmb3IgZGV2aWNlICR7a2V5fWApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBkZXZpY2VTZXR0aW5ncztcbiJdfQ==